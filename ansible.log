2017-11-09 11:55:57,545 p=18406 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-09 11:55:57,546 p=18406 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-09 11:55:57,547 p=18406 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-09 11:55:57,547 p=18406 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-09 11:55:57,823 p=18406 u=root |  PLAY [creating a managed disks] *********************************************************************************************************************************************************************
2017-11-09 11:55:57,832 p=18406 u=root |  TASK [create managed disk] **************************************************************************************************************************************************************************
2017-11-09 11:56:30,208 p=18406 u=root |  changed: [localhost]
2017-11-09 11:56:30,211 p=18406 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-09 11:56:30,211 p=18406 u=root |  localhost                  : ok=1    changed=1    unreachable=0    failed=0   
2017-11-11 07:06:19,782 p=2523 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 07:06:19,783 p=2523 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 07:06:19,784 p=2523 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 07:06:19,784 p=2523 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 07:06:20,106 p=2523 u=root |  playbook: managed_disk.yaml
2017-11-11 07:06:35,821 p=2561 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 07:06:35,821 p=2561 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 07:06:35,822 p=2561 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 07:06:35,822 p=2561 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 07:06:36,419 p=2561 u=root |  PLAY [creating a managed disks] ************************************************
2017-11-11 07:06:36,479 p=2561 u=root |  TASK [create managed disk] *****************************************************
2017-11-11 07:06:38,267 p=2561 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Unsupported parameters for (azure_rm_managed_disk) module: lun,managed_disk_type Supported parameters include: ad_user,append_tags,cli_default_profile,client_id,cloud_environment,create_option,disk_size_gb,location,name,os_type,password,profile,resource_group,secret,source_resource_uri,source_uri,state,storage_account_type,subscription_id,tags,tenant"}
2017-11-11 07:06:38,269 p=2561 u=root |  	to retry, use: --limit @/root/ansible/playbook/managed_disk.retry

2017-11-11 07:06:38,269 p=2561 u=root |  PLAY RECAP *********************************************************************
2017-11-11 07:06:38,269 p=2561 u=root |  localhost                  : ok=0    changed=0    unreachable=0    failed=1   
2017-11-11 07:20:31,997 p=3450 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 07:20:31,997 p=3450 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 07:20:31,998 p=3450 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 07:20:31,998 p=3450 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 07:20:32,090 p=3450 u=root |  playbook: basic_windows_vm.yaml
2017-11-11 07:20:45,110 p=3471 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 07:20:45,110 p=3471 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 07:20:45,111 p=3471 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 07:20:45,111 p=3471 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 07:20:45,343 p=3471 u=root |  PLAY [create windows azure vm] *****************************************************************************************************************************************
2017-11-11 07:20:45,351 p=3471 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************
2017-11-11 07:20:46,175 p=3471 u=root |  ok: [localhost]
2017-11-11 07:20:46,183 p=3471 u=root |  TASK [create a public ip address] **************************************************************************************************************************************
2017-11-11 07:20:48,947 p=3471 u=root |  ok: [localhost]
2017-11-11 07:20:48,955 p=3471 u=root |  TASK [create network interface] ****************************************************************************************************************************************
2017-11-11 07:20:51,300 p=3471 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error: fetching public ip address winnic_test - Azure Error: ResourceNotFound\nMessage: The Resource 'Microsoft.Network/publicIPAddresses/winpublicip_test' under resource group 'ansible' was not found."}
2017-11-11 07:20:51,303 p=3471 u=root |  	to retry, use: --limit @/root/ansible/playbook/basic_windows_vm.retry

2017-11-11 07:20:51,304 p=3471 u=root |  PLAY RECAP *************************************************************************************************************************************************************
2017-11-11 07:20:51,304 p=3471 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=1   
2017-11-11 07:21:19,186 p=3613 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-11 07:21:19,187 p=3613 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-11 07:21:19,189 p=3613 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 07:21:19,189 p=3613 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 07:21:19,190 p=3613 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 07:21:19,190 p=3613 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 07:21:19,414 p=3613 u=root |  PLAYBOOK: basic_windows_vm.yaml ****************************************************************************************************************************************
2017-11-11 07:21:19,415 p=3613 u=root |  1 plays in basic_windows_vm.yaml
2017-11-11 07:21:19,425 p=3613 u=root |  PLAY [create windows azure vm] *****************************************************************************************************************************************
2017-11-11 07:21:19,433 p=3613 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************
2017-11-11 07:21:19,685 p=3613 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/system/setup.py
2017-11-11 07:21:20,053 p=3613 u=root |  ok: [localhost]
2017-11-11 07:21:20,054 p=3613 u=root |  META: ran handlers
2017-11-11 07:21:20,059 p=3613 u=root |  TASK [create a public ip address] **************************************************************************************************************************************
2017-11-11 07:21:20,059 p=3613 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:8
2017-11-11 07:21:20,200 p=3613 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-11 07:21:25,550 p=3613 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip_test", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"38a0099c-bbb2-4c1b-8d15-1f0789691c30\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.92.28", 
        "location": "centralus", 
        "name": "winpublicip_test", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": null, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-11 07:21:25,557 p=3613 u=root |  TASK [create network interface] ****************************************************************************************************************************************
2017-11-11 07:21:25,557 p=3613 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:13
2017-11-11 07:21:25,735 p=3613 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-11 07:21:58,084 p=3613 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic_test", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip_test", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip_test", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"dd98ae76-7361-4b22-8fb3-a5459d5c21a4\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic_test", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.6", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip_test", 
                "name": "winpublicip_test"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic_test", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": null, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-11 07:21:58,091 p=3613 u=root |  TASK [create a managed disks] ******************************************************************************************************************************************
2017-11-11 07:21:58,092 p=3613 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:21
2017-11-11 07:21:58,258 p=3613 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_managed_disk.py
2017-11-11 07:22:30,873 p=3613 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "create_option": null, 
            "disk_size_gb": 1, 
            "location": null, 
            "name": "windisk1", 
            "os_type": null, 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "source_resource_uri": null, 
            "source_uri": null, 
            "state": "present", 
            "storage_account_type": null, 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "disk_size_gb": 1, 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/disks/windisk1", 
        "location": "centralus", 
        "name": "windisk1", 
        "os_type": null, 
        "storage_account_type": "Standard_LRS", 
        "tags": null
    }
}
2017-11-11 07:22:30,881 p=3613 u=root |  TASK [create a windows vm] *********************************************************************************************************************************************
2017-11-11 07:22:30,881 p=3613 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:26
2017-11-11 07:22:31,054 p=3613 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-11 07:23:19,466 p=3613 u=root |  The full traceback is:
Traceback (most recent call last):
  File "/tmp/ansible_DLmigV/ansible_module_azure_rm_virtualmachine.py", line 1554, in <module>
    main()
  File "/tmp/ansible_DLmigV/ansible_module_azure_rm_virtualmachine.py", line 1551, in main
    AzureRMVirtualMachine()
  File "/tmp/ansible_DLmigV/ansible_module_azure_rm_virtualmachine.py", line 651, in __init__
    supports_check_mode=True)
  File "/tmp/ansible_DLmigV/ansible_modlib.zip/ansible/module_utils/azure_rm_common.py", line 256, in __init__
  File "/tmp/ansible_DLmigV/ansible_module_azure_rm_virtualmachine.py", line 948, in exec_module
    disk_size_gb=data_disk['disk_size_gb'],
KeyError: 'disk_size_gb'

2017-11-11 07:23:19,467 p=3613 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "module_stderr": "Traceback (most recent call last):\n  File \"/tmp/ansible_DLmigV/ansible_module_azure_rm_virtualmachine.py\", line 1554, in <module>\n    main()\n  File \"/tmp/ansible_DLmigV/ansible_module_azure_rm_virtualmachine.py\", line 1551, in main\n    AzureRMVirtualMachine()\n  File \"/tmp/ansible_DLmigV/ansible_module_azure_rm_virtualmachine.py\", line 651, in __init__\n    supports_check_mode=True)\n  File \"/tmp/ansible_DLmigV/ansible_modlib.zip/ansible/module_utils/azure_rm_common.py\", line 256, in __init__\n  File \"/tmp/ansible_DLmigV/ansible_module_azure_rm_virtualmachine.py\", line 948, in exec_module\n    disk_size_gb=data_disk['disk_size_gb'],\nKeyError: 'disk_size_gb'\n", 
    "module_stdout": "", 
    "msg": "MODULE FAILURE", 
    "rc": 0
}
2017-11-11 07:23:19,471 p=3613 u=root |  	to retry, use: --limit @/root/ansible/playbook/basic_windows_vm.retry

2017-11-11 07:23:19,471 p=3613 u=root |  PLAY RECAP *************************************************************************************************************************************************************
2017-11-11 07:23:19,471 p=3613 u=root |  localhost                  : ok=4    changed=3    unreachable=0    failed=1   
2017-11-11 07:24:39,578 p=3955 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-11 07:24:39,579 p=3955 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-11 07:24:39,581 p=3955 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 07:24:39,581 p=3955 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 07:24:39,582 p=3955 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 07:24:39,583 p=3955 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 07:24:39,810 p=3955 u=root |  PLAYBOOK: basic_windows_vm.yaml ****************************************************************************************************************************************
2017-11-11 07:24:39,811 p=3955 u=root |  1 plays in basic_windows_vm.yaml
2017-11-11 07:24:39,820 p=3955 u=root |  PLAY [create windows azure vm] *****************************************************************************************************************************************
2017-11-11 07:24:39,829 p=3955 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************
2017-11-11 07:24:40,082 p=3955 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/system/setup.py
2017-11-11 07:24:40,453 p=3955 u=root |  ok: [localhost]
2017-11-11 07:24:40,454 p=3955 u=root |  META: ran handlers
2017-11-11 07:24:40,459 p=3955 u=root |  TASK [create a public ip address] **************************************************************************************************************************************
2017-11-11 07:24:40,460 p=3955 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:8
2017-11-11 07:24:40,599 p=3955 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-11 07:24:42,237 p=3955 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip_test", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"98a489e2-fb64-4657-8c51-16ed8e11d740\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.92.28", 
        "location": "centralus", 
        "name": "winpublicip_test", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-11 07:24:42,245 p=3955 u=root |  TASK [create network interface] ****************************************************************************************************************************************
2017-11-11 07:24:42,245 p=3955 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:13
2017-11-11 07:24:42,419 p=3955 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-11 07:24:44,411 p=3955 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic_test", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip_test", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip_test", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"dd98ae76-7361-4b22-8fb3-a5459d5c21a4\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic_test", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.6", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip_test", 
                "name": "winpublicip_test"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic_test", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-11 07:24:44,417 p=3955 u=root |  TASK [create a managed disks] ******************************************************************************************************************************************
2017-11-11 07:24:44,418 p=3955 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:21
2017-11-11 07:24:44,560 p=3955 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_managed_disk.py
2017-11-11 07:24:46,316 p=3955 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "create_option": null, 
            "disk_size_gb": 1, 
            "location": null, 
            "name": "windisk1", 
            "os_type": null, 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "source_resource_uri": null, 
            "source_uri": null, 
            "state": "present", 
            "storage_account_type": null, 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "disk_size_gb": 1, 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/disks/windisk1", 
        "location": "centralus", 
        "name": "windisk1", 
        "os_type": null, 
        "storage_account_type": "Standard_LRS", 
        "tags": null
    }
}
2017-11-11 07:24:46,324 p=3955 u=root |  TASK [create a windows vm] *********************************************************************************************************************************************
2017-11-11 07:24:46,324 p=3955 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:26
2017-11-11 07:24:46,524 p=3955 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-11 07:25:35,652 p=3955 u=root |  The full traceback is:
  File "/tmp/ansible_77asRv/ansible_module_azure_rm_virtualmachine.py", line 1353, in create_or_update_vm
    poller = self.compute_client.virtual_machines.create_or_update(self.resource_group, self.name, params)
  File "/usr/local/lib/python2.7/dist-packages/azure/mgmt/compute/compute/v2017_03_30/operations/virtual_machines_operations.py", line 232, in create_or_update
    get_long_running_status, long_running_operation_timeout)
  File "/usr/local/lib/python2.7/dist-packages/msrestazure/azure_operation.py", line 350, in __init__
    raise CloudError(self._response)

2017-11-11 07:25:35,655 p=3955 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": [
                {
                    "caching": "ReadOnly", 
                    "disk_size_gb": 1, 
                    "lun": 1, 
                    "name": "windisk1", 
                    "storage_blob_name": "winvm-data-0.vhd", 
                    "storage_container_name": "vhds"
                }
            ], 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "4.127.20170919"
            }, 
            "location": null, 
            "managed_disk_type": "Standard_LRS", 
            "name": "winvm", 
            "network_interface_names": [
                "winnic_test"
            ], 
            "network_interfaces": "winnic_test", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Windows", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": true, 
            "ssh_public_keys": null, 
            "started": true, 
            "state": "present", 
            "storage_account_name": null, 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet_name": null, 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network_name": null, 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "msg": "Error creating or updating virtual machine winvm - Azure Error: OperationNotAllowed\nMessage: Addition of a blob based disk to VM with managed disks is not supported.\nTarget: dataDisk"
}
2017-11-11 07:25:35,658 p=3955 u=root |  	to retry, use: --limit @/root/ansible/playbook/basic_windows_vm.retry

2017-11-11 07:25:35,658 p=3955 u=root |  PLAY RECAP *************************************************************************************************************************************************************
2017-11-11 07:25:35,659 p=3955 u=root |  localhost                  : ok=4    changed=0    unreachable=0    failed=1   
2017-11-11 07:27:31,414 p=4274 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-11 07:27:31,414 p=4274 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-11 07:27:31,417 p=4274 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 07:27:31,417 p=4274 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 07:27:31,418 p=4274 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 07:27:31,419 p=4274 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 07:27:31,658 p=4274 u=root |  PLAYBOOK: basic_windows_vm.yaml ****************************************************************************************************************************************
2017-11-11 07:27:31,659 p=4274 u=root |  1 plays in basic_windows_vm.yaml
2017-11-11 07:27:31,668 p=4274 u=root |  PLAY [create windows azure vm] *****************************************************************************************************************************************
2017-11-11 07:27:31,677 p=4274 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************
2017-11-11 07:27:31,926 p=4274 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/system/setup.py
2017-11-11 07:27:32,281 p=4274 u=root |  ok: [localhost]
2017-11-11 07:27:32,282 p=4274 u=root |  META: ran handlers
2017-11-11 07:27:32,289 p=4274 u=root |  TASK [create a public ip address] **************************************************************************************************************************************
2017-11-11 07:27:32,289 p=4274 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:8
2017-11-11 07:27:32,428 p=4274 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-11 07:27:34,329 p=4274 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip_test", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"98a489e2-fb64-4657-8c51-16ed8e11d740\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.92.28", 
        "location": "centralus", 
        "name": "winpublicip_test", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-11 07:27:34,336 p=4274 u=root |  TASK [create network interface] ****************************************************************************************************************************************
2017-11-11 07:27:34,336 p=4274 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:13
2017-11-11 07:27:34,480 p=4274 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-11 07:27:36,236 p=4274 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic_test", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip_test", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip_test", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"dd98ae76-7361-4b22-8fb3-a5459d5c21a4\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic_test", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.6", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip_test", 
                "name": "winpublicip_test"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic_test", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-11 07:27:36,244 p=4274 u=root |  TASK [create a managed disks] ******************************************************************************************************************************************
2017-11-11 07:27:36,244 p=4274 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:21
2017-11-11 07:27:36,405 p=4274 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_managed_disk.py
2017-11-11 07:27:37,961 p=4274 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "create_option": null, 
            "disk_size_gb": 1, 
            "location": null, 
            "name": "windisk1", 
            "os_type": null, 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "source_resource_uri": null, 
            "source_uri": null, 
            "state": "present", 
            "storage_account_type": null, 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "disk_size_gb": 1, 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/disks/windisk1", 
        "location": "centralus", 
        "name": "windisk1", 
        "os_type": null, 
        "storage_account_type": "Standard_LRS", 
        "tags": null
    }
}
2017-11-11 07:27:37,968 p=4274 u=root |  TASK [create a windows vm] *********************************************************************************************************************************************
2017-11-11 07:27:37,968 p=4274 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:26
2017-11-11 07:27:38,164 p=4274 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-11 07:27:38,627 p=4274 u=root |  The full traceback is:
  File "/tmp/ansible_301URz/ansible_modlib.zip/ansible/module_utils/basic.py", line 2002, in _check_argument_types
    param[k] = type_checker(value)
  File "/tmp/ansible_301URz/ansible_modlib.zip/ansible/module_utils/basic.py", line 1810, in _check_type_list
    raise TypeError('%s cannot be converted to a list' % type(value))

2017-11-11 07:27:38,628 p=4274 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "admin_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "data_disks": {
                "disk_size_gb": 1, 
                "name": "windisk1"
            }, 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "latest"
            }, 
            "managed_disk_type": "Standard_LRS", 
            "name": "winvm", 
            "network_interface_names": [
                "winnic_test"
            ], 
            "network_interfaces": "winnic_test", 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Windows", 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "ssh_password_enabled": true, 
            "started": true, 
            "state": "present", 
            "storage_container_name": "vhds", 
            "vm_size": "Standard_D1"
        }
    }, 
    "msg": "argument data_disks is of type <type 'dict'> and we were unable to convert to list: <type 'dict'> cannot be converted to a list"
}
2017-11-11 07:27:38,631 p=4274 u=root |  	to retry, use: --limit @/root/ansible/playbook/basic_windows_vm.retry

2017-11-11 07:27:38,631 p=4274 u=root |  PLAY RECAP *************************************************************************************************************************************************************
2017-11-11 07:27:38,631 p=4274 u=root |  localhost                  : ok=4    changed=0    unreachable=0    failed=1   
2017-11-11 07:28:58,355 p=4517 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-11 07:28:58,355 p=4517 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-11 07:28:58,358 p=4517 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 07:28:58,358 p=4517 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 07:28:58,359 p=4517 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 07:28:58,359 p=4517 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 07:28:58,595 p=4517 u=root |  PLAYBOOK: basic_windows_vm.yaml ****************************************************************************************************************************************
2017-11-11 07:28:58,596 p=4517 u=root |  1 plays in basic_windows_vm.yaml
2017-11-11 07:28:58,609 p=4517 u=root |  PLAY [create windows azure vm] *****************************************************************************************************************************************
2017-11-11 07:28:58,618 p=4517 u=root |  TASK [Gathering Facts] *************************************************************************************************************************************************
2017-11-11 07:28:58,866 p=4517 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/system/setup.py
2017-11-11 07:28:59,215 p=4517 u=root |  ok: [localhost]
2017-11-11 07:28:59,216 p=4517 u=root |  META: ran handlers
2017-11-11 07:28:59,222 p=4517 u=root |  TASK [create a public ip address] **************************************************************************************************************************************
2017-11-11 07:28:59,222 p=4517 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:8
2017-11-11 07:28:59,336 p=4517 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-11 07:29:01,188 p=4517 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip_test", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"98a489e2-fb64-4657-8c51-16ed8e11d740\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.92.28", 
        "location": "centralus", 
        "name": "winpublicip_test", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-11 07:29:01,194 p=4517 u=root |  TASK [create network interface] ****************************************************************************************************************************************
2017-11-11 07:29:01,194 p=4517 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:13
2017-11-11 07:29:01,337 p=4517 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-11 07:29:03,558 p=4517 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic_test", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip_test", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip_test", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"dd98ae76-7361-4b22-8fb3-a5459d5c21a4\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic_test", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.6", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip_test", 
                "name": "winpublicip_test"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic_test", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-11 07:29:03,566 p=4517 u=root |  TASK [create a managed disks] ******************************************************************************************************************************************
2017-11-11 07:29:03,567 p=4517 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:21
2017-11-11 07:29:03,738 p=4517 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_managed_disk.py
2017-11-11 07:29:07,703 p=4517 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "create_option": null, 
            "disk_size_gb": 1, 
            "location": null, 
            "name": "windisk1", 
            "os_type": null, 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "source_resource_uri": null, 
            "source_uri": null, 
            "state": "present", 
            "storage_account_type": null, 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "disk_size_gb": 1, 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/disks/windisk1", 
        "location": "centralus", 
        "name": "windisk1", 
        "os_type": null, 
        "storage_account_type": "Standard_LRS", 
        "tags": null
    }
}
2017-11-11 07:29:07,710 p=4517 u=root |  TASK [create a windows vm] *********************************************************************************************************************************************
2017-11-11 07:29:07,711 p=4517 u=root |  task path: /root/ansible/playbook/basic_windows_vm.yaml:26
2017-11-11 07:29:07,946 p=4517 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-11 07:29:11,180 p=4517 u=root |  The full traceback is:
Traceback (most recent call last):
  File "/tmp/ansible_yqiHCP/ansible_module_azure_rm_virtualmachine.py", line 1554, in <module>
    main()
  File "/tmp/ansible_yqiHCP/ansible_module_azure_rm_virtualmachine.py", line 1551, in main
    AzureRMVirtualMachine()
  File "/tmp/ansible_yqiHCP/ansible_module_azure_rm_virtualmachine.py", line 651, in __init__
    supports_check_mode=True)
  File "/tmp/ansible_yqiHCP/ansible_modlib.zip/ansible/module_utils/azure_rm_common.py", line 256, in __init__
  File "/tmp/ansible_yqiHCP/ansible_module_azure_rm_virtualmachine.py", line 902, in exec_module
    if not data_disk.get('managed_disk_type'):
AttributeError: 'str' object has no attribute 'get'

2017-11-11 07:29:11,181 p=4517 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "module_stderr": "Traceback (most recent call last):\n  File \"/tmp/ansible_yqiHCP/ansible_module_azure_rm_virtualmachine.py\", line 1554, in <module>\n    main()\n  File \"/tmp/ansible_yqiHCP/ansible_module_azure_rm_virtualmachine.py\", line 1551, in main\n    AzureRMVirtualMachine()\n  File \"/tmp/ansible_yqiHCP/ansible_module_azure_rm_virtualmachine.py\", line 651, in __init__\n    supports_check_mode=True)\n  File \"/tmp/ansible_yqiHCP/ansible_modlib.zip/ansible/module_utils/azure_rm_common.py\", line 256, in __init__\n  File \"/tmp/ansible_yqiHCP/ansible_module_azure_rm_virtualmachine.py\", line 902, in exec_module\n    if not data_disk.get('managed_disk_type'):\nAttributeError: 'str' object has no attribute 'get'\n", 
    "module_stdout": "", 
    "msg": "MODULE FAILURE", 
    "rc": 0
}
2017-11-11 07:29:11,184 p=4517 u=root |  	to retry, use: --limit @/root/ansible/playbook/basic_windows_vm.retry

2017-11-11 07:29:11,184 p=4517 u=root |  PLAY RECAP *************************************************************************************************************************************************************
2017-11-11 07:29:11,184 p=4517 u=root |  localhost                  : ok=4    changed=0    unreachable=0    failed=1   
2017-11-11 17:05:39,351 p=5969 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 17:05:39,358 p=5969 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 17:05:39,359 p=5969 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 17:05:39,359 p=5969 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 17:05:40,549 p=5969 u=root |  PLAY [Test CSV to List] ********************************************************
2017-11-11 17:05:40,625 p=5969 u=root |  TASK [debug] *******************************************************************
2017-11-11 17:05:40,680 p=5969 u=root |   [WARNING]: Unable to find 'input_win.csv' in expected paths.

2017-11-11 17:05:40,703 p=5969 u=root |  fatal: [localhost]: FAILED! => {"msg": "{{ lookup('file', 'input_win.csv') }}: An unhandled exception occurred while running the lookup plugin 'file'. Error was a <class 'ansible.errors.AnsibleError'>, original message: could not locate file in lookup: input_win.csv"}
2017-11-11 17:05:40,705 p=5969 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-11 17:05:40,705 p=5969 u=root |  PLAY RECAP *********************************************************************
2017-11-11 17:05:40,705 p=5969 u=root |  localhost                  : ok=0    changed=0    unreachable=0    failed=1   
2017-11-11 17:06:01,390 p=6016 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 17:06:01,391 p=6016 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 17:06:01,392 p=6016 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 17:06:01,392 p=6016 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 17:06:01,633 p=6016 u=root |  PLAY [Test CSV to List] ********************************************************
2017-11-11 17:06:01,642 p=6016 u=root |  TASK [debug] *******************************************************************
2017-11-11 17:06:01,665 p=6016 u=root |   [WARNING]: Unable to find 'input_win.csv' in expected paths.

2017-11-11 17:06:01,668 p=6016 u=root |  fatal: [localhost]: FAILED! => {"msg": "{{ lookup('file', 'input_win.csv') }}: An unhandled exception occurred while running the lookup plugin 'file'. Error was a <class 'ansible.errors.AnsibleError'>, original message: could not locate file in lookup: input_win.csv"}
2017-11-11 17:06:01,670 p=6016 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-11 17:06:01,670 p=6016 u=root |  PLAY RECAP *********************************************************************
2017-11-11 17:06:01,670 p=6016 u=root |  localhost                  : ok=0    changed=0    unreachable=0    failed=1   
2017-11-11 17:06:46,438 p=6066 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 17:06:46,438 p=6066 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 17:06:46,440 p=6066 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 17:06:46,440 p=6066 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 17:06:46,685 p=6066 u=root |  PLAY [Test CSV to List] ********************************************************
2017-11-11 17:06:46,694 p=6066 u=root |  TASK [debug] *******************************************************************
2017-11-11 17:06:46,718 p=6066 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version\nwindowsvm5,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,winpublicip5,Static,ansible_test_SG1,winnic5,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest\nAnsibletest5,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,linuxpublic1,Static,ansible_test_SG1,ansiblenic5,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest"
}
2017-11-11 17:06:46,726 p=6066 u=root |  TASK [CSV to Yaml] *************************************************************
2017-11-11 17:06:46,977 p=6066 u=root |  changed: [localhost]
2017-11-11 17:06:46,979 p=6066 u=root |  PLAY RECAP *********************************************************************
2017-11-11 17:06:46,979 p=6066 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-11 17:07:54,870 p=6285 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 17:07:54,870 p=6285 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 17:07:54,872 p=6285 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 17:07:54,872 p=6285 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 17:07:55,115 p=6285 u=root |  PLAY [Test CSV to List] ********************************************************
2017-11-11 17:07:55,124 p=6285 u=root |  TASK [debug] *******************************************************************
2017-11-11 17:07:55,150 p=6285 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version\nwindowsvm5,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,winpublicip5,Static,ansible_test_SG1,winnic5,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest\nAnsibletest5,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,linuxpublic1,Static,ansible_test_SG1,ansiblenic5,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest"
}
2017-11-11 17:07:55,155 p=6285 u=root |  TASK [CSV to Yaml] *************************************************************
2017-11-11 17:07:55,586 p=6285 u=root |  changed: [localhost]
2017-11-11 17:07:55,588 p=6285 u=root |  PLAY RECAP *********************************************************************
2017-11-11 17:07:55,589 p=6285 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-11 17:08:49,546 p=6428 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 17:08:49,547 p=6428 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 17:08:49,548 p=6428 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 17:08:49,548 p=6428 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 17:08:49,647 p=6428 u=root |  playbook: bulk_vm_provision_windows.yaml
2017-11-11 17:10:04,926 p=6563 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 17:10:04,926 p=6563 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 17:10:04,927 p=6563 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 17:10:04,927 p=6563 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 17:10:05,026 p=6563 u=root |  playbook: bulk_vm_provision.yaml
2017-11-11 17:13:36,763 p=6788 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-11 17:13:36,763 p=6788 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-11 17:13:36,764 p=6788 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-11 17:13:36,764 p=6788 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-11 17:13:36,867 p=6788 u=root |  playbook: bulk_vm_provision.yaml
2017-11-12 04:11:47,389 p=2807 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-12 04:11:47,393 p=2807 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-12 04:11:47,395 p=2807 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-12 04:11:47,395 p=2807 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-12 04:11:47,742 p=2807 u=root |  playbook: bulk_vm_provision.yaml
2017-11-12 06:38:45,989 p=11077 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-12 06:38:45,990 p=11077 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-12 06:38:45,991 p=11077 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-12 06:38:45,991 p=11077 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-12 06:38:46,810 p=11077 u=root |  PLAY [Bulk VM provisioning in Azure] *******************************************
2017-11-12 06:38:46,871 p=11077 u=root |  TASK [Load .csv file to input.yaml] ********************************************
2017-11-12 06:38:47,601 p=11077 u=root |  ok: [localhost]
2017-11-12 06:38:47,613 p=11077 u=root |  TASK [Loading variable from vars dir] ******************************************
2017-11-12 06:38:47,646 p=11077 u=root |  ok: [localhost]
2017-11-12 06:38:47,650 p=11077 u=root |  TASK [include_tasks] ***********************************************************
2017-11-12 06:38:47,676 p=11077 u=root |  skipping: [localhost] => (item={u'vm_name': u'windowsvm5', u'vm_image_offer': u'WindowsServer', u'network_interface_name': u'winnic5', u'vnet_name': u'ansible_test_vnet1', u'resource_group': u'ansible', u'vm_image_sku': u'2012-R2-Datacenter', u'admin_username': u'amansyed', u'security_group_name': u'ansible_test_SG1', u'vm_image_version': u'latest', u'public_ip_name': u'winpublicip5', u'subnet_name': u'ansible_test_subnet1', u'vm_size': u'Standard_D1', u'os_type': u'Windows', u'vm_image_publisher': u'MicrosoftWindowsServer', u'ip_allocation': u'Static'}) 
2017-11-12 06:38:47,689 p=11077 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-12 06:38:47,693 p=11077 u=root |  TASK [create public ip address] ************************************************
2017-11-12 06:38:54,075 p=11077 u=root |  ok: [localhost]
2017-11-12 06:38:54,080 p=11077 u=root |  TASK [create network interface] ************************************************
2017-11-12 06:38:56,149 p=11077 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error: fetching public ip address ansiblenic5 - Azure Error: ResourceNotFound\nMessage: The Resource 'Microsoft.Network/publicIPAddresses/linuxpublic1' under resource group 'ansible' was not found."}
2017-11-12 06:38:56,153 p=11077 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-12 06:38:56,154 p=11077 u=root |  PLAY RECAP *********************************************************************
2017-11-12 06:38:56,154 p=11077 u=root |  localhost                  : ok=4    changed=0    unreachable=0    failed=1   
2017-11-12 06:39:11,687 p=11204 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-12 06:39:11,687 p=11204 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-12 06:39:11,688 p=11204 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-12 06:39:11,688 p=11204 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-12 06:39:11,944 p=11204 u=root |  PLAY [Bulk VM provisioning in Azure] *******************************************
2017-11-12 06:39:11,954 p=11204 u=root |  TASK [Load .csv file to input.yaml] ********************************************
2017-11-12 06:39:12,376 p=11204 u=root |  ok: [localhost]
2017-11-12 06:39:12,381 p=11204 u=root |  TASK [Loading variable from vars dir] ******************************************
2017-11-12 06:39:12,405 p=11204 u=root |  ok: [localhost]
2017-11-12 06:39:12,409 p=11204 u=root |  TASK [include_tasks] ***********************************************************
2017-11-12 06:39:12,430 p=11204 u=root |  skipping: [localhost] => (item={u'vm_name': u'windowsvm5', u'vm_image_offer': u'WindowsServer', u'network_interface_name': u'winnic5', u'vnet_name': u'ansible_test_vnet1', u'resource_group': u'ansible', u'vm_image_sku': u'2012-R2-Datacenter', u'admin_username': u'amansyed', u'security_group_name': u'ansible_test_SG1', u'vm_image_version': u'latest', u'public_ip_name': u'winpublicip5', u'subnet_name': u'ansible_test_subnet1', u'vm_size': u'Standard_D1', u'os_type': u'Windows', u'vm_image_publisher': u'MicrosoftWindowsServer', u'ip_allocation': u'Static'}) 
2017-11-12 06:39:12,445 p=11204 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-12 06:39:12,449 p=11204 u=root |  TASK [create public ip address] ************************************************
2017-11-12 06:39:17,705 p=11204 u=root |  changed: [localhost]
2017-11-12 06:39:17,710 p=11204 u=root |  TASK [create network interface] ************************************************
2017-11-12 06:39:50,246 p=11204 u=root |  changed: [localhost]
2017-11-12 06:39:50,251 p=11204 u=root |  TASK [create VM] ***************************************************************
2017-11-12 06:41:56,690 p=11204 u=root |  changed: [localhost]
2017-11-12 06:41:56,697 p=11204 u=root |  TASK [include_tasks] ***********************************************************
2017-11-12 06:41:56,725 p=11204 u=root |  skipping: [localhost] => (item={u'vm_name': u'Ansibletest5', u'vm_image_offer': u'UbuntuServer', u'network_interface_name': u'ansiblenic5', u'vnet_name': u'ansible_test_vnet1', u'resource_group': u'ansible', u'vm_image_sku': u'16.04-LTS', u'admin_username': u'amansyed', u'security_group_name': u'ansible_test_SG1', u'vm_image_version': u'latest', u'public_ip_name': u'linuxpublic1', u'subnet_name': u'ansible_test_subnet1', u'vm_size': u'Standard_D1', u'os_type': u'Linux', u'vm_image_publisher': u'Canonical', u'ip_allocation': u'Static'}) 
2017-11-12 06:41:56,752 p=11204 u=root |  included: /root/ansible/playbook/task_Vm_windows.yaml for localhost
2017-11-12 06:41:56,762 p=11204 u=root |  TASK [create public ip address] ************************************************
2017-11-12 06:42:02,189 p=11204 u=root |  changed: [localhost]
2017-11-12 06:42:02,193 p=11204 u=root |  TASK [create network interface] ************************************************
2017-11-12 06:42:34,601 p=11204 u=root |  changed: [localhost]
2017-11-12 06:42:34,606 p=11204 u=root |  TASK [create VM] ***************************************************************
2017-11-12 06:42:34,634 p=11204 u=root |  fatal: [localhost]: FAILED! => {"failed": true, "msg": "The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'admin_password'\n\nThe error appears to have been in '/root/ansible/playbook/task_Vm_windows.yaml': line 20, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: create VM\n    ^ here\n\nexception type: <class 'ansible.errors.AnsibleUndefinedVariable'>\nexception: 'dict object' has no attribute 'admin_password'"}
2017-11-12 06:42:34,636 p=11204 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-12 06:42:34,637 p=11204 u=root |  PLAY RECAP *********************************************************************
2017-11-12 06:42:34,637 p=11204 u=root |  localhost                  : ok=9    changed=5    unreachable=0    failed=1   
2017-11-15 08:51:40,944 p=9123 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-15 08:51:40,953 p=9123 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-15 08:51:40,954 p=9123 u=root |  setting up inventory plugins
2017-11-15 08:51:40,986 p=9123 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-15 08:51:40,986 p=9123 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-15 08:51:40,987 p=9123 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-15 08:51:40,987 p=9123 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-15 08:51:41,408 p=9123 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-15 08:51:42,105 p=9123 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-15 08:51:42,105 p=9123 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-15 08:51:42,145 p=9123 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-15 08:51:42,202 p=9123 u=root |  META: ran handlers
2017-11-15 08:51:46,097 p=9123 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-15 08:51:46,107 p=9123 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-15 08:51:46,107 p=9123 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-15 08:51:46,165 p=9123 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-15 08:51:46,307 p=9123 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-15 08:51:46,501 p=9123 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/copy.py
2017-11-15 08:51:46,586 p=9123 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "68f3f83c0a4367974c14534eaa3931945b198363", 
    "dest": "./vars/input_windows.yaml", 
    "diff": [], 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": false, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": null, 
            "local_follow": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1510735906.17-222509657646653/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "57c47d82459db73c7e03b10772b18387", 
    "mode": "0644", 
    "owner": "root", 
    "size": 1020, 
    "src": "/root/.ansible/tmp/ansible-tmp-1510735906.17-222509657646653/source", 
    "state": "file", 
    "uid": 0
}
2017-11-15 08:51:51,953 p=9123 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-15 08:51:51,956 p=9123 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-15 08:51:51,957 p=9123 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-15 08:51:51,983 p=9123 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "winnic5", 
                "os_type": "Windows", 
                "public_ip_name": "winpublicip5", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "windowsvm5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansiblenic5", 
                "os_type": "Linux", 
                "public_ip_name": "linuxpublic1", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "Ansibletest5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAjN1KUxaMLDxfwKov49gBCPstyFitbyX+E2zdv1EfGR6e/inpleuqT12uLPAxtbanJwDjSY2cJKMnOIOiCsd60kC7256uT/q3wutWTbhAy628DVbhfjmtnae2a6Vk/deS1l0aMMSqeeNfKpMCSLzMYJxJj/wgLLAwPmn9ZIPqBccH2tFUHzgmsnqrW76lrmaXNP9kLFy2+IdDysYlmj0Tix+/4q2GgtqEM/qKcJGPKemE5+PLJeda8N4sQbNRe3ZGyNc2f3JxXjGYr8s9dWDUZYIGpwxmDmUMwL0kiGKPvM+lMnJqGd3w0fmCFu5ESM/Lf/t/m7hlRc/FyO9hs31ajw== rsa-key-20171108", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-15 08:52:09,833 p=9123 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ********************************************************************************************************************************************
2017-11-15 08:52:09,837 p=9123 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-15 08:52:09,837 p=9123 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-15 08:52:09,883 p=9123 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 08:52:09,889 p=9123 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 08:52:19,561 p=9123 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 08:52:19,565 p=9123 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-15 08:52:19,565 p=9123 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-15 08:52:19,700 p=9123 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-15 08:52:28,962 p=9123 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip5", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"58efc859-84b9-445e-81a7-d7c701c32667\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.151.197", 
        "location": "centralus", 
        "name": "winpublicip5", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": null, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-15 08:52:31,705 p=9123 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 08:52:31,709 p=9123 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-15 08:52:31,709 p=9123 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:7
2017-11-15 08:52:31,871 p=9123 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-15 08:53:04,957 p=9123 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic5", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip5", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip5", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"bf18b0b8-4af1-4d65-8d6e-ad6c1aa8baaa\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.4", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip5", 
                "name": "winpublicip5"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic5", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": null, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-15 08:53:19,529 p=9123 u=root |  Perform task: TASK: create VM (N)o/(y)es/(c)ontinue: ************************************************************************************************************************************************
2017-11-15 08:53:19,533 p=9123 u=root |  TASK [create VM] ************************************************************************************************************************************************************************************
2017-11-15 08:53:19,533 p=9123 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:20
2017-11-15 08:53:19,722 p=9123 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-15 08:53:20,574 p=9123 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "admin_username": "amansyed", 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "latest"
            }, 
            "name": "windowsvm5", 
            "network_interface_names": "winnic5", 
            "network_interfaces": "winnic5", 
            "os_type": "Windows", 
            "resource_group": "ansible", 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAjN1KUxaMLDxfwKov49gBCPstyFitbyX+E2zdv1EfGR6e/inpleuqT12uLPAxtbanJwDjSY2cJKMnOIOiCsd60kC7256uT/q3wutWTbhAy628DVbhfjmtnae2a6Vk/deS1l0aMMSqeeNfKpMCSLzMYJxJj/wgLLAwPmn9ZIPqBccH2tFUHzgmsnqrW76lrmaXNP9kLFy2+IdDysYlmj0Tix+/4q2GgtqEM/qKcJGPKemE5+PLJeda8N4sQbNRe3ZGyNc2f3JxXjGYr8s9dWDUZYIGpwxmDmUMwL0kiGKPvM+lMnJqGd3w0fmCFu5ESM/Lf/t/m7hlRc/FyO9hs31ajw== rsa-key-20171108", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "vm_size": "Standard_D1", 
            "when": "outer_item.os_type == \"Linux\""
        }
    }, 
    "msg": "Unsupported parameters for (azure_rm_virtualmachine) module: when Supported parameters include: ad_user,admin_password,admin_username,allocated,append_tags,cli_default_profile,client_id,cloud_environment,data_disks,image,location,managed_disk_type,name,network_interface_names,open_ports,os_disk_caching,os_type,password,profile,public_ip_allocation_method,remove_on_absent,resource_group,restarted,secret,short_hostname,ssh_password_enabled,ssh_public_keys,started,state,storage_account_name,storage_blob_name,storage_container_name,subnet_name,subscription_id,tags,tenant,virtual_network_name,virtual_network_resource_group,vm_size"
}
2017-11-15 08:53:20,576 p=9123 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-15 08:53:20,576 p=9123 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-15 08:53:20,577 p=9123 u=root |  localhost                  : ok=6    changed=3    unreachable=0    failed=1   
2017-11-15 08:59:29,916 p=10028 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-15 08:59:29,916 p=10028 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-15 08:59:29,917 p=10028 u=root |  setting up inventory plugins
2017-11-15 08:59:29,919 p=10028 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-15 08:59:29,919 p=10028 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-15 08:59:29,920 p=10028 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-15 08:59:29,921 p=10028 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-15 08:59:30,001 p=10028 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-15 08:59:30,141 p=10028 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-15 08:59:30,141 p=10028 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-15 08:59:30,151 p=10028 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-15 08:59:30,156 p=10028 u=root |  META: ran handlers
2017-11-15 08:59:31,440 p=10028 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-15 08:59:31,443 p=10028 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-15 08:59:31,444 p=10028 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-15 08:59:31,472 p=10028 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-15 08:59:31,567 p=10028 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-15 08:59:32,001 p=10028 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-15 08:59:32,085 p=10028 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "68f3f83c0a4367974c14534eaa3931945b198363", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1020, 
    "state": "file", 
    "uid": 0
}
2017-11-15 08:59:46,080 p=10028 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-15 08:59:46,084 p=10028 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-15 08:59:46,084 p=10028 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-15 08:59:46,113 p=10028 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "winnic5", 
                "os_type": "Windows", 
                "public_ip_name": "winpublicip5", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "windowsvm5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansiblenic5", 
                "os_type": "Linux", 
                "public_ip_name": "linuxpublic1", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "Ansibletest5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAjN1KUxaMLDxfwKov49gBCPstyFitbyX+E2zdv1EfGR6e/inpleuqT12uLPAxtbanJwDjSY2cJKMnOIOiCsd60kC7256uT/q3wutWTbhAy628DVbhfjmtnae2a6Vk/deS1l0aMMSqeeNfKpMCSLzMYJxJj/wgLLAwPmn9ZIPqBccH2tFUHzgmsnqrW76lrmaXNP9kLFy2+IdDysYlmj0Tix+/4q2GgtqEM/qKcJGPKemE5+PLJeda8N4sQbNRe3ZGyNc2f3JxXjGYr8s9dWDUZYIGpwxmDmUMwL0kiGKPvM+lMnJqGd3w0fmCFu5ESM/Lf/t/m7hlRc/FyO9hs31ajw== rsa-key-20171108", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-15 09:00:14,519 p=10028 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ********************************************************************************************************************************************
2017-11-15 09:00:14,523 p=10028 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-15 09:00:14,523 p=10028 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-15 09:00:14,582 p=10028 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 09:00:14,594 p=10028 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 09:00:16,200 p=10028 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 09:00:16,203 p=10028 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-15 09:00:16,203 p=10028 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-15 09:00:16,338 p=10028 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-15 09:00:18,494 p=10028 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip5", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"cb29c5c1-3c79-4303-bdf9-c767a418cdc5\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.151.197", 
        "location": "centralus", 
        "name": "winpublicip5", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-15 09:00:20,496 p=10028 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 09:00:20,499 p=10028 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-15 09:00:20,499 p=10028 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:7
2017-11-15 09:00:20,667 p=10028 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-15 09:00:22,469 p=10028 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic5", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip5", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip5", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"bf18b0b8-4af1-4d65-8d6e-ad6c1aa8baaa\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.4", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip5", 
                "name": "winpublicip5"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic5", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-15 09:00:24,200 p=10028 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ******************************************************************************************************************************************
2017-11-15 09:00:24,204 p=10028 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-15 09:00:24,204 p=10028 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:20
2017-11-15 09:00:24,381 p=10028 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-15 09:00:24,853 p=10028 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "admin_username": "amansyed", 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "latest"
            }, 
            "name": "windowsvm5", 
            "network_interface_names": "winnic5", 
            "network_interfaces": "winnic5", 
            "os_type": "Windows", 
            "resource_group": "ansible", 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAjN1KUxaMLDxfwKov49gBCPstyFitbyX+E2zdv1EfGR6e/inpleuqT12uLPAxtbanJwDjSY2cJKMnOIOiCsd60kC7256uT/q3wutWTbhAy628DVbhfjmtnae2a6Vk/deS1l0aMMSqeeNfKpMCSLzMYJxJj/wgLLAwPmn9ZIPqBccH2tFUHzgmsnqrW76lrmaXNP9kLFy2+IdDysYlmj0Tix+/4q2GgtqEM/qKcJGPKemE5+PLJeda8N4sQbNRe3ZGyNc2f3JxXjGYr8s9dWDUZYIGpwxmDmUMwL0kiGKPvM+lMnJqGd3w0fmCFu5ESM/Lf/t/m7hlRc/FyO9hs31ajw== rsa-key-20171108", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "vm_size": "Standard_D1", 
            "when": "outer_item.os_type == \"linux\""
        }
    }, 
    "msg": "Unsupported parameters for (azure_rm_virtualmachine) module: when Supported parameters include: ad_user,admin_password,admin_username,allocated,append_tags,cli_default_profile,client_id,cloud_environment,data_disks,image,location,managed_disk_type,name,network_interface_names,open_ports,os_disk_caching,os_type,password,profile,public_ip_allocation_method,remove_on_absent,resource_group,restarted,secret,short_hostname,ssh_password_enabled,ssh_public_keys,started,state,storage_account_name,storage_blob_name,storage_container_name,subnet_name,subscription_id,tags,tenant,virtual_network_name,virtual_network_resource_group,vm_size"
}
2017-11-15 09:00:24,855 p=10028 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-15 09:00:24,855 p=10028 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-15 09:00:24,855 p=10028 u=root |  localhost                  : ok=6    changed=0    unreachable=0    failed=1   
2017-11-15 09:02:48,318 p=10330 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-15 09:02:48,318 p=10330 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-15 09:02:48,319 p=10330 u=root |  setting up inventory plugins
2017-11-15 09:02:48,321 p=10330 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-15 09:02:48,321 p=10330 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-15 09:02:48,322 p=10330 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-15 09:02:48,323 p=10330 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-15 09:02:48,403 p=10330 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-15 09:02:48,542 p=10330 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-15 09:02:48,543 p=10330 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-15 09:02:48,557 p=10330 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-15 09:02:48,563 p=10330 u=root |  META: ran handlers
2017-11-15 09:02:50,399 p=10330 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-15 09:02:50,402 p=10330 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-15 09:02:50,402 p=10330 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-15 09:02:50,428 p=10330 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-15 09:02:50,524 p=10330 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-15 09:02:50,715 p=10330 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-15 09:02:50,796 p=10330 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "68f3f83c0a4367974c14534eaa3931945b198363", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1020, 
    "state": "file", 
    "uid": 0
}
2017-11-15 09:02:52,127 p=10330 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-15 09:02:52,131 p=10330 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-15 09:02:52,131 p=10330 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-15 09:02:52,160 p=10330 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "winnic5", 
                "os_type": "Windows", 
                "public_ip_name": "winpublicip5", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "windowsvm5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansiblenic5", 
                "os_type": "Linux", 
                "public_ip_name": "linuxpublic1", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "Ansibletest5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAjN1KUxaMLDxfwKov49gBCPstyFitbyX+E2zdv1EfGR6e/inpleuqT12uLPAxtbanJwDjSY2cJKMnOIOiCsd60kC7256uT/q3wutWTbhAy628DVbhfjmtnae2a6Vk/deS1l0aMMSqeeNfKpMCSLzMYJxJj/wgLLAwPmn9ZIPqBccH2tFUHzgmsnqrW76lrmaXNP9kLFy2+IdDysYlmj0Tix+/4q2GgtqEM/qKcJGPKemE5+PLJeda8N4sQbNRe3ZGyNc2f3JxXjGYr8s9dWDUZYIGpwxmDmUMwL0kiGKPvM+lMnJqGd3w0fmCFu5ESM/Lf/t/m7hlRc/FyO9hs31ajw== rsa-key-20171108", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-15 09:02:53,672 p=10330 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ********************************************************************************************************************************************
2017-11-15 09:02:53,675 p=10330 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-15 09:02:53,675 p=10330 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-15 09:02:53,712 p=10330 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 09:02:53,719 p=10330 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 09:02:54,616 p=10330 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 09:02:54,619 p=10330 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-15 09:02:54,619 p=10330 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-15 09:02:54,744 p=10330 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-15 09:02:56,790 p=10330 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip5", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"cb29c5c1-3c79-4303-bdf9-c767a418cdc5\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.151.197", 
        "location": "centralus", 
        "name": "winpublicip5", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-15 09:02:57,967 p=10330 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 09:02:57,971 p=10330 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-15 09:02:57,971 p=10330 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:7
2017-11-15 09:02:58,124 p=10330 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-15 09:03:00,116 p=10330 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic5", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip5", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip5", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"bf18b0b8-4af1-4d65-8d6e-ad6c1aa8baaa\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.4", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip5", 
                "name": "winpublicip5"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic5", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-15 09:03:02,543 p=10330 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ******************************************************************************************************************************************
2017-11-15 09:03:02,547 p=10330 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-15 09:03:02,548 p=10330 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:20
2017-11-15 09:03:02,733 p=10330 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-15 09:03:03,202 p=10330 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "admin_username": "amansyed", 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "latest"
            }, 
            "name": "windowsvm5", 
            "network_interface_names": "winnic5", 
            "network_interfaces": "winnic5", 
            "os_type": "Windows", 
            "resource_group": "ansible", 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAjN1KUxaMLDxfwKov49gBCPstyFitbyX+E2zdv1EfGR6e/inpleuqT12uLPAxtbanJwDjSY2cJKMnOIOiCsd60kC7256uT/q3wutWTbhAy628DVbhfjmtnae2a6Vk/deS1l0aMMSqeeNfKpMCSLzMYJxJj/wgLLAwPmn9ZIPqBccH2tFUHzgmsnqrW76lrmaXNP9kLFy2+IdDysYlmj0Tix+/4q2GgtqEM/qKcJGPKemE5+PLJeda8N4sQbNRe3ZGyNc2f3JxXjGYr8s9dWDUZYIGpwxmDmUMwL0kiGKPvM+lMnJqGd3w0fmCFu5ESM/Lf/t/m7hlRc/FyO9hs31ajw== rsa-key-20171108", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "vm_size": "Standard_D1", 
            "when": "os_type == \"Linux\""
        }
    }, 
    "msg": "Unsupported parameters for (azure_rm_virtualmachine) module: when Supported parameters include: ad_user,admin_password,admin_username,allocated,append_tags,cli_default_profile,client_id,cloud_environment,data_disks,image,location,managed_disk_type,name,network_interface_names,open_ports,os_disk_caching,os_type,password,profile,public_ip_allocation_method,remove_on_absent,resource_group,restarted,secret,short_hostname,ssh_password_enabled,ssh_public_keys,started,state,storage_account_name,storage_blob_name,storage_container_name,subnet_name,subscription_id,tags,tenant,virtual_network_name,virtual_network_resource_group,vm_size"
}
2017-11-15 09:03:03,204 p=10330 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-15 09:03:03,205 p=10330 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-15 09:03:03,205 p=10330 u=root |  localhost                  : ok=6    changed=0    unreachable=0    failed=1   
2017-11-15 09:32:19,321 p=12016 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-15 09:32:19,321 p=12016 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-15 09:32:19,322 p=12016 u=root |  setting up inventory plugins
2017-11-15 09:32:19,324 p=12016 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-15 09:32:19,324 p=12016 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-15 09:32:19,325 p=12016 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-15 09:32:19,325 p=12016 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-15 09:32:19,404 p=12016 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-15 09:32:19,544 p=12016 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-15 09:32:19,544 p=12016 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-15 09:32:19,554 p=12016 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-15 09:32:19,560 p=12016 u=root |  META: ran handlers
2017-11-15 09:32:20,905 p=12016 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-15 09:32:20,908 p=12016 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-15 09:32:20,909 p=12016 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-15 09:32:20,940 p=12016 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-15 09:32:21,042 p=12016 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-15 09:32:21,247 p=12016 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-15 09:32:21,342 p=12016 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "68f3f83c0a4367974c14534eaa3931945b198363", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1020, 
    "state": "file", 
    "uid": 0
}
2017-11-15 09:32:22,561 p=12016 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-15 09:32:22,564 p=12016 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-15 09:32:22,565 p=12016 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-15 09:32:22,591 p=12016 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "winnic5", 
                "os_type": "Windows", 
                "public_ip_name": "winpublicip5", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "windowsvm5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansiblenic5", 
                "os_type": "Linux", 
                "public_ip_name": "linuxpublic1", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "Ansibletest5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAjN1KUxaMLDxfwKov49gBCPstyFitbyX+E2zdv1EfGR6e/inpleuqT12uLPAxtbanJwDjSY2cJKMnOIOiCsd60kC7256uT/q3wutWTbhAy628DVbhfjmtnae2a6Vk/deS1l0aMMSqeeNfKpMCSLzMYJxJj/wgLLAwPmn9ZIPqBccH2tFUHzgmsnqrW76lrmaXNP9kLFy2+IdDysYlmj0Tix+/4q2GgtqEM/qKcJGPKemE5+PLJeda8N4sQbNRe3ZGyNc2f3JxXjGYr8s9dWDUZYIGpwxmDmUMwL0kiGKPvM+lMnJqGd3w0fmCFu5ESM/Lf/t/m7hlRc/FyO9hs31ajw== rsa-key-20171108", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-15 09:32:24,081 p=12016 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ********************************************************************************************************************************************
2017-11-15 09:32:24,084 p=12016 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-15 09:32:24,084 p=12016 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-15 09:32:24,123 p=12016 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 09:32:24,130 p=12016 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 09:32:26,609 p=12016 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 09:32:26,613 p=12016 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-15 09:32:26,613 p=12016 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-15 09:32:26,739 p=12016 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-15 09:32:28,437 p=12016 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip5", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"cb29c5c1-3c79-4303-bdf9-c767a418cdc5\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.151.197", 
        "location": "centralus", 
        "name": "winpublicip5", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-15 09:32:30,873 p=12016 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 09:32:30,877 p=12016 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-15 09:32:30,877 p=12016 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:7
2017-11-15 09:32:31,025 p=12016 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-15 09:32:33,139 p=12016 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic5", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip5", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip5", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"bf18b0b8-4af1-4d65-8d6e-ad6c1aa8baaa\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.4", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip5", 
                "name": "winpublicip5"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic5", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-15 09:32:34,417 p=12016 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ******************************************************************************************************************************************
2017-11-15 09:32:34,421 p=12016 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-15 09:32:34,421 p=12016 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:20
2017-11-15 09:32:34,603 p=12016 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-15 09:32:35,075 p=12016 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "admin_username": "amansyed", 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "latest"
            }, 
            "name": "windowsvm5", 
            "network_interface_names": "winnic5", 
            "network_interfaces": "winnic5", 
            "os_type": "Windows", 
            "resource_group": "ansible", 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAjN1KUxaMLDxfwKov49gBCPstyFitbyX+E2zdv1EfGR6e/inpleuqT12uLPAxtbanJwDjSY2cJKMnOIOiCsd60kC7256uT/q3wutWTbhAy628DVbhfjmtnae2a6Vk/deS1l0aMMSqeeNfKpMCSLzMYJxJj/wgLLAwPmn9ZIPqBccH2tFUHzgmsnqrW76lrmaXNP9kLFy2+IdDysYlmj0Tix+/4q2GgtqEM/qKcJGPKemE5+PLJeda8N4sQbNRe3ZGyNc2f3JxXjGYr8s9dWDUZYIGpwxmDmUMwL0kiGKPvM+lMnJqGd3w0fmCFu5ESM/Lf/t/m7hlRc/FyO9hs31ajw== rsa-key-20171108", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "vm_size": "Standard_D1", 
            "when": "os_type != \"Windows\""
        }
    }, 
    "msg": "Unsupported parameters for (azure_rm_virtualmachine) module: when Supported parameters include: ad_user,admin_password,admin_username,allocated,append_tags,cli_default_profile,client_id,cloud_environment,data_disks,image,location,managed_disk_type,name,network_interface_names,open_ports,os_disk_caching,os_type,password,profile,public_ip_allocation_method,remove_on_absent,resource_group,restarted,secret,short_hostname,ssh_password_enabled,ssh_public_keys,started,state,storage_account_name,storage_blob_name,storage_container_name,subnet_name,subscription_id,tags,tenant,virtual_network_name,virtual_network_resource_group,vm_size"
}
2017-11-15 09:32:35,079 p=12016 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-15 09:32:35,079 p=12016 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-15 09:32:35,079 p=12016 u=root |  localhost                  : ok=6    changed=0    unreachable=0    failed=1   
2017-11-15 09:34:59,536 p=12324 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-15 09:34:59,536 p=12324 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-15 09:34:59,537 p=12324 u=root |  setting up inventory plugins
2017-11-15 09:34:59,539 p=12324 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-15 09:34:59,539 p=12324 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-15 09:34:59,540 p=12324 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-15 09:34:59,541 p=12324 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-15 09:34:59,619 p=12324 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-15 09:34:59,759 p=12324 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-15 09:34:59,759 p=12324 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-15 09:34:59,769 p=12324 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-15 09:34:59,775 p=12324 u=root |  META: ran handlers
2017-11-15 09:35:01,160 p=12324 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-15 09:35:01,164 p=12324 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-15 09:35:01,164 p=12324 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-15 09:35:01,199 p=12324 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-15 09:35:01,310 p=12324 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-15 09:35:01,503 p=12324 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-15 09:35:01,587 p=12324 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "68f3f83c0a4367974c14534eaa3931945b198363", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1020, 
    "state": "file", 
    "uid": 0
}
2017-11-15 09:35:02,160 p=12324 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-15 09:35:02,163 p=12324 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-15 09:35:02,163 p=12324 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-15 09:35:02,189 p=12324 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "winnic5", 
                "os_type": "Windows", 
                "public_ip_name": "winpublicip5", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "windowsvm5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansiblenic5", 
                "os_type": "Linux", 
                "public_ip_name": "linuxpublic1", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "Ansibletest5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-15 09:35:03,608 p=12324 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ********************************************************************************************************************************************
2017-11-15 09:35:03,612 p=12324 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-15 09:35:03,612 p=12324 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-15 09:35:03,654 p=12324 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 09:35:03,661 p=12324 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 09:35:05,040 p=12324 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 09:35:05,044 p=12324 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-15 09:35:05,044 p=12324 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-15 09:35:05,191 p=12324 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-15 09:35:07,125 p=12324 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip5", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"cb29c5c1-3c79-4303-bdf9-c767a418cdc5\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.151.197", 
        "location": "centralus", 
        "name": "winpublicip5", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-15 09:35:08,121 p=12324 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 09:35:08,125 p=12324 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-15 09:35:08,125 p=12324 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:7
2017-11-15 09:35:08,283 p=12324 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-15 09:35:10,605 p=12324 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic5", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip5", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip5", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"bf18b0b8-4af1-4d65-8d6e-ad6c1aa8baaa\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.4", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip5", 
                "name": "winpublicip5"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic5", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-15 09:35:11,952 p=12324 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ******************************************************************************************************************************************
2017-11-15 09:35:11,956 p=12324 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-15 09:35:11,956 p=12324 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:20
2017-11-15 09:35:12,138 p=12324 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-15 09:35:12,587 p=12324 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "admin_username": "amansyed", 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "latest"
            }, 
            "name": "windowsvm5", 
            "network_interface_names": "winnic5", 
            "network_interfaces": "winnic5", 
            "os_type": "Windows", 
            "resource_group": "ansible", 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "vm_size": "Standard_D1", 
            "when": "os_type != \"Windows\""
        }
    }, 
    "msg": "Unsupported parameters for (azure_rm_virtualmachine) module: when Supported parameters include: ad_user,admin_password,admin_username,allocated,append_tags,cli_default_profile,client_id,cloud_environment,data_disks,image,location,managed_disk_type,name,network_interface_names,open_ports,os_disk_caching,os_type,password,profile,public_ip_allocation_method,remove_on_absent,resource_group,restarted,secret,short_hostname,ssh_password_enabled,ssh_public_keys,started,state,storage_account_name,storage_blob_name,storage_container_name,subnet_name,subscription_id,tags,tenant,virtual_network_name,virtual_network_resource_group,vm_size"
}
2017-11-15 09:35:12,589 p=12324 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-15 09:35:12,589 p=12324 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-15 09:35:12,589 p=12324 u=root |  localhost                  : ok=6    changed=0    unreachable=0    failed=1   
2017-11-15 10:44:30,135 p=16174 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-15 10:44:30,135 p=16174 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-15 10:44:30,136 p=16174 u=root |  setting up inventory plugins
2017-11-15 10:44:30,138 p=16174 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-15 10:44:30,138 p=16174 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-15 10:44:30,139 p=16174 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-15 10:44:30,140 p=16174 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-15 10:44:30,225 p=16174 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-15 10:44:30,368 p=16174 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-15 10:44:30,368 p=16174 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-15 10:44:30,378 p=16174 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-15 10:44:30,384 p=16174 u=root |  META: ran handlers
2017-11-15 10:44:33,051 p=16174 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-15 10:44:33,054 p=16174 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-15 10:44:33,054 p=16174 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-15 10:44:33,080 p=16174 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-15 10:44:33,176 p=16174 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-15 10:44:33,368 p=16174 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-15 10:44:33,452 p=16174 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "68f3f83c0a4367974c14534eaa3931945b198363", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1020, 
    "state": "file", 
    "uid": 0
}
2017-11-15 10:44:35,187 p=16174 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-15 10:44:35,190 p=16174 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-15 10:44:35,190 p=16174 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-15 10:44:35,215 p=16174 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "winnic5", 
                "os_type": "Windows", 
                "public_ip_name": "winpublicip5", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "windowsvm5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansiblenic5", 
                "os_type": "Linux", 
                "public_ip_name": "linuxpublic1", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "Ansibletest5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-15 10:44:37,515 p=16174 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ********************************************************************************************************************************************
2017-11-15 10:44:37,518 p=16174 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-15 10:44:37,519 p=16174 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-15 10:44:37,556 p=16174 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 10:44:37,563 p=16174 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 10:44:39,740 p=16174 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 10:44:39,743 p=16174 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-15 10:44:39,744 p=16174 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-15 10:44:39,871 p=16174 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-15 10:44:43,187 p=16174 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip5", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"cb29c5c1-3c79-4303-bdf9-c767a418cdc5\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.151.197", 
        "location": "centralus", 
        "name": "winpublicip5", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-15 10:44:45,419 p=16174 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 10:44:45,423 p=16174 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-15 10:44:45,423 p=16174 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:7
2017-11-15 10:44:45,580 p=16174 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-15 10:44:48,028 p=16174 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic5", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip5", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip5", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"bf18b0b8-4af1-4d65-8d6e-ad6c1aa8baaa\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.4", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip5", 
                "name": "winpublicip5"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic5", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-15 10:45:03,515 p=16174 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ******************************************************************************************************************************************
2017-11-15 10:45:03,518 p=16174 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-15 10:45:03,519 p=16174 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:20
2017-11-15 10:45:03,696 p=16174 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-15 10:45:04,152 p=16174 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "admin_username": "amansyed", 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "latest"
            }, 
            "name": "windowsvm5", 
            "network_interface_names": "winnic5", 
            "network_interfaces": "winnic5", 
            "os_type": "Windows", 
            "resource_group": "ansible", 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "vm_size": "Standard_D1", 
            "when": "outer_item.os_type == \"Linux\""
        }
    }, 
    "msg": "Unsupported parameters for (azure_rm_virtualmachine) module: when Supported parameters include: ad_user,admin_password,admin_username,allocated,append_tags,cli_default_profile,client_id,cloud_environment,data_disks,image,location,managed_disk_type,name,network_interface_names,open_ports,os_disk_caching,os_type,password,profile,public_ip_allocation_method,remove_on_absent,resource_group,restarted,secret,short_hostname,ssh_password_enabled,ssh_public_keys,started,state,storage_account_name,storage_blob_name,storage_container_name,subnet_name,subscription_id,tags,tenant,virtual_network_name,virtual_network_resource_group,vm_size"
}
2017-11-15 10:45:04,154 p=16174 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-15 10:45:04,154 p=16174 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-15 10:45:04,154 p=16174 u=root |  localhost                  : ok=6    changed=0    unreachable=0    failed=1   
2017-11-15 10:46:21,440 p=16405 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-15 10:46:21,441 p=16405 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-15 10:46:21,442 p=16405 u=root |  setting up inventory plugins
2017-11-15 10:46:21,444 p=16405 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-15 10:46:21,444 p=16405 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-15 10:46:21,445 p=16405 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-15 10:46:21,445 p=16405 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-15 10:46:21,527 p=16405 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-15 10:46:21,670 p=16405 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-15 10:46:21,670 p=16405 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-15 10:46:21,680 p=16405 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-15 10:46:21,686 p=16405 u=root |  META: ran handlers
2017-11-15 10:46:23,235 p=16405 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-15 10:46:23,238 p=16405 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-15 10:46:23,239 p=16405 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-15 10:46:23,267 p=16405 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-15 10:46:23,378 p=16405 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-15 10:46:23,571 p=16405 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-15 10:46:23,654 p=16405 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "68f3f83c0a4367974c14534eaa3931945b198363", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1020, 
    "state": "file", 
    "uid": 0
}
2017-11-15 10:46:24,779 p=16405 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-15 10:46:24,782 p=16405 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-15 10:46:24,783 p=16405 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-15 10:46:24,811 p=16405 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "winnic5", 
                "os_type": "Windows", 
                "public_ip_name": "winpublicip5", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "windowsvm5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansiblenic5", 
                "os_type": "Linux", 
                "public_ip_name": "linuxpublic1", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "Ansibletest5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-15 10:46:26,026 p=16405 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ********************************************************************************************************************************************
2017-11-15 10:46:26,030 p=16405 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-15 10:46:26,030 p=16405 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-15 10:46:26,073 p=16405 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 10:46:26,081 p=16405 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 10:46:27,402 p=16405 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************************
2017-11-15 10:46:27,405 p=16405 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-15 10:46:27,405 p=16405 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-15 10:46:27,429 p=16405 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "ip_allocation": "Static", 
        "network_interface_name": "winnic5", 
        "os_type": "Windows", 
        "public_ip_name": "winpublicip5", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "windowsvm5", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-15 10:46:40,618 p=16405 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 10:46:40,623 p=16405 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-15 10:46:40,623 p=16405 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-15 10:46:40,748 p=16405 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-15 10:46:42,837 p=16405 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip5", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"cb29c5c1-3c79-4303-bdf9-c767a418cdc5\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.151.197", 
        "location": "centralus", 
        "name": "winpublicip5", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-15 10:46:46,066 p=16405 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 10:46:46,070 p=16405 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-15 10:46:46,071 p=16405 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-15 10:46:46,249 p=16405 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-15 10:46:48,170 p=16405 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic5", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip5", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip5", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"bf18b0b8-4af1-4d65-8d6e-ad6c1aa8baaa\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.4", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip5", 
                "name": "winpublicip5"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic5", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-15 10:46:49,746 p=16405 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************************
2017-11-15 10:46:49,751 p=16405 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-15 10:46:49,751 p=16405 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-15 10:46:49,775 p=16405 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-15 10:48:27,851 p=16405 u=root |   [ERROR]: User interrupted execution

2017-11-15 10:48:31,150 p=16661 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-15 10:48:31,150 p=16661 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-15 10:48:31,152 p=16661 u=root |  setting up inventory plugins
2017-11-15 10:48:31,153 p=16661 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-15 10:48:31,154 p=16661 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-15 10:48:31,155 p=16661 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-15 10:48:31,155 p=16661 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-15 10:48:31,244 p=16661 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-15 10:48:31,395 p=16661 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-15 10:48:31,395 p=16661 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-15 10:48:31,405 p=16661 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-15 10:48:31,411 p=16661 u=root |  META: ran handlers
2017-11-15 10:48:32,986 p=16661 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-15 10:48:32,990 p=16661 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-15 10:48:32,990 p=16661 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-15 10:48:33,019 p=16661 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-15 10:48:33,117 p=16661 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-15 10:48:33,306 p=16661 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-15 10:48:33,390 p=16661 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "68f3f83c0a4367974c14534eaa3931945b198363", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1020, 
    "state": "file", 
    "uid": 0
}
2017-11-15 10:48:34,570 p=16661 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-15 10:48:34,574 p=16661 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-15 10:48:34,574 p=16661 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-15 10:48:34,604 p=16661 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "winnic5", 
                "os_type": "Windows", 
                "public_ip_name": "winpublicip5", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "windowsvm5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansiblenic5", 
                "os_type": "Linux", 
                "public_ip_name": "linuxpublic1", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "Ansibletest5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-15 10:48:35,946 p=16661 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ********************************************************************************************************************************************
2017-11-15 10:48:35,950 p=16661 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-15 10:48:35,950 p=16661 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-15 10:48:35,996 p=16661 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 10:48:36,004 p=16661 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 10:48:37,130 p=16661 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************************
2017-11-15 10:48:37,134 p=16661 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-15 10:48:37,134 p=16661 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-15 10:48:37,158 p=16661 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "ip_allocation": "Static", 
        "network_interface_name": "winnic5", 
        "os_type": "Windows", 
        "public_ip_name": "winpublicip5", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "windowsvm5", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-15 10:48:38,347 p=16661 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 10:48:38,351 p=16661 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-15 10:48:38,351 p=16661 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-15 10:48:38,498 p=16661 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-15 10:48:40,494 p=16661 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip5", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"cb29c5c1-3c79-4303-bdf9-c767a418cdc5\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.151.197", 
        "location": "centralus", 
        "name": "winpublicip5", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-15 10:48:41,434 p=16661 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 10:48:41,438 p=16661 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-15 10:48:41,438 p=16661 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-15 10:48:41,611 p=16661 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-15 10:48:44,532 p=16661 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic5", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip5", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip5", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"bf18b0b8-4af1-4d65-8d6e-ad6c1aa8baaa\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.4", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip5", 
                "name": "winpublicip5"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic5", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-15 10:48:45,770 p=16661 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************************
2017-11-15 10:48:45,774 p=16661 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-15 10:48:45,774 p=16661 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-15 10:48:45,796 p=16661 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-15 10:48:46,874 p=16661 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ******************************************************************************************************************************************
2017-11-15 10:48:46,878 p=16661 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-15 10:48:46,878 p=16661 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:22
2017-11-15 10:48:46,893 p=16661 u=root |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional result was False", 
    "skipped": true
}
2017-11-15 10:48:51,362 p=16661 u=root |  Perform task: TASK: create windows vm (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************
2017-11-15 10:48:51,366 p=16661 u=root |  TASK [create windows vm] ****************************************************************************************************************************************************************************
2017-11-15 10:48:51,366 p=16661 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:43
2017-11-15 10:48:51,549 p=16661 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-15 10:48:55,491 p=16661 u=root |  The full traceback is:
  File "/tmp/ansible_7QUB_0/ansible_module_azure_rm_virtualmachine.py", line 1346, in get_storage_account
    name)
  File "/usr/local/lib/python2.7/dist-packages/azure/mgmt/storage/v2017_06_01/operations/storage_accounts_operations.py", line 326, in get_properties
    raise exp

2017-11-15 10:48:55,493 p=16661 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": null, 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "4.127.20170919"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "windowsvm5", 
            "network_interface_names": [
                "winnic5"
            ], 
            "network_interfaces": "winnic5", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Windows", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": true, 
            "ssh_public_keys": null, 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "msg": "Error fetching storage account ansibletestvm13934 - Azure Error: ResourceNotFound\nMessage: The Resource 'Microsoft.Storage/storageAccounts/ansibletestvm13934' under resource group 'ansible' was not found."
}
2017-11-15 10:48:55,496 p=16661 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-15 10:48:55,496 p=16661 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-15 10:48:55,496 p=16661 u=root |  localhost                  : ok=8    changed=0    unreachable=0    failed=1   
2017-11-15 10:51:51,143 p=16959 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-15 10:51:51,144 p=16959 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-15 10:51:51,144 p=16959 u=root |  setting up inventory plugins
2017-11-15 10:51:51,146 p=16959 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-15 10:51:51,147 p=16959 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-15 10:51:51,148 p=16959 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-15 10:51:51,148 p=16959 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-15 10:51:51,227 p=16959 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-15 10:51:51,367 p=16959 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-15 10:51:51,367 p=16959 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-15 10:51:51,377 p=16959 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-15 10:51:51,383 p=16959 u=root |  META: ran handlers
2017-11-15 10:51:52,947 p=16959 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-15 10:51:52,951 p=16959 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-15 10:51:52,951 p=16959 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-15 10:51:52,982 p=16959 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-15 10:51:53,082 p=16959 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-15 10:51:53,290 p=16959 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-15 10:51:53,383 p=16959 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "68f3f83c0a4367974c14534eaa3931945b198363", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1020, 
    "state": "file", 
    "uid": 0
}
2017-11-15 10:51:54,569 p=16959 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-15 10:51:54,573 p=16959 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-15 10:51:54,573 p=16959 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-15 10:51:54,602 p=16959 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "winnic5", 
                "os_type": "Windows", 
                "public_ip_name": "winpublicip5", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "windowsvm5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansiblenic5", 
                "os_type": "Linux", 
                "public_ip_name": "linuxpublic1", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "Ansibletest5", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-15 10:51:55,889 p=16959 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ********************************************************************************************************************************************
2017-11-15 10:51:55,893 p=16959 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-15 10:51:55,893 p=16959 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-15 10:51:55,937 p=16959 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 10:51:55,945 p=16959 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-15 10:51:58,145 p=16959 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************************
2017-11-15 10:51:58,149 p=16959 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-15 10:51:58,149 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-15 10:51:58,173 p=16959 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "ip_allocation": "Static", 
        "network_interface_name": "winnic5", 
        "os_type": "Windows", 
        "public_ip_name": "winpublicip5", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "windowsvm5", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-15 10:51:59,769 p=16959 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 10:51:59,774 p=16959 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-15 10:51:59,774 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-15 10:51:59,908 p=16959 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-15 10:52:01,706 p=16959 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "winpublicip5", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"cb29c5c1-3c79-4303-bdf9-c767a418cdc5\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.151.197", 
        "location": "centralus", 
        "name": "winpublicip5", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-15 10:52:03,913 p=16959 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 10:52:03,916 p=16959 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-15 10:52:03,917 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-15 10:52:04,073 p=16959 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-15 10:52:05,784 p=16959 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "winnic5", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "winpublicip5", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "winpublicip5", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"bf18b0b8-4af1-4d65-8d6e-ad6c1aa8baaa\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.4", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip5", 
                "name": "winpublicip5"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "winnic5", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-15 10:52:07,201 p=16959 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************************
2017-11-15 10:52:07,204 p=16959 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-15 10:52:07,204 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-15 10:52:07,222 p=16959 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-15 10:52:09,361 p=16959 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ******************************************************************************************************************************************
2017-11-15 10:52:09,365 p=16959 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-15 10:52:09,366 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:22
2017-11-15 10:52:09,381 p=16959 u=root |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional result was False", 
    "skipped": true
}
2017-11-15 10:52:11,185 p=16959 u=root |  Perform task: TASK: create windows vm (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************
2017-11-15 10:52:11,189 p=16959 u=root |  TASK [create windows vm] ****************************************************************************************************************************************************************************
2017-11-15 10:52:11,189 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:43
2017-11-15 10:52:11,368 p=16959 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-15 10:56:49,614 p=16959 u=root |  changed: [localhost] => {
    "ansible_facts": {
        "azure_vm": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/windowsvm5", 
            "location": "centralus", 
            "name": "windowsvm5", 
            "powerstate": "running", 
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_D1"
                }, 
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5", 
                            "name": "winnic5", 
                            "properties": {
                                "dnsSettings": {
                                    "appliedDnsServers": [], 
                                    "dnsServers": [], 
                                    "internalDomainNameSuffix": "gwffiukydkxu1fpyobrxomhvae.gx.internal.cloudapp.net"
                                }, 
                                "enableAcceleratedNetworking": false, 
                                "enableIPForwarding": false, 
                                "ipConfigurations": [
                                    {
                                        "etag": "W/\"dedcfdd2-fd78-4532-b623-9bed6acbf815\"", 
                                        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/winnic5/ipConfigurations/default", 
                                        "name": "default", 
                                        "properties": {
                                            "primary": true, 
                                            "privateIPAddress": "10.10.0.4", 
                                            "privateIPAddressVersion": "IPv4", 
                                            "privateIPAllocationMethod": "Dynamic", 
                                            "provisioningState": "Succeeded", 
                                            "publicIPAddress": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/winpublicip5", 
                                                "name": "winpublicip5", 
                                                "properties": {
                                                    "idleTimeoutInMinutes": 4, 
                                                    "ipAddress": "52.176.151.197", 
                                                    "provisioningState": "Succeeded", 
                                                    "publicIPAddressVersion": "IPv4", 
                                                    "publicIPAllocationMethod": "Static", 
                                                    "resourceGuid": "529eabd4-a24b-41d8-8fe3-ea9efba74c62"
                                                }
                                            }, 
                                            "subnet": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1"
                                            }
                                        }
                                    }
                                ], 
                                "macAddress": "00-0D-3A-90-C6-EF", 
                                "networkSecurityGroup": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1"
                                }, 
                                "primary": true, 
                                "provisioningState": "Succeeded", 
                                "resourceGuid": "6be4142a-2843-4b20-b4a1-da8c9a1626a1", 
                                "virtualMachine": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/windowsvm5"
                                }
                            }
                        }
                    ]
                }, 
                "osProfile": {
                    "adminUsername": "amansyed", 
                    "computerName": "windowsvm5", 
                    "secrets": [], 
                    "windowsConfiguration": {
                        "enableAutomaticUpdates": true, 
                        "provisionVMAgent": true
                    }
                }, 
                "storageProfile": {
                    "dataDisks": [], 
                    "imageReference": {
                        "offer": "WindowsServer", 
                        "publisher": "MicrosoftWindowsServer", 
                        "sku": "2012-R2-Datacenter", 
                        "version": "4.127.20170919"
                    }, 
                    "osDisk": {
                        "caching": "ReadOnly", 
                        "createOption": "fromImage", 
                        "diskSizeGB": 127, 
                        "name": "windowsvm5.vhd", 
                        "osType": "Windows", 
                        "vhd": {
                            "uri": "https://ansibletestvm13934.blob.core.windows.net/vhds/windowsvm5.vhd"
                        }
                    }
                }
            }, 
            "tags": null, 
            "type": "Microsoft.Compute/virtualMachines"
        }
    }, 
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": null, 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "4.127.20170919"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "windowsvm5", 
            "network_interface_names": [
                "winnic5"
            ], 
            "network_interfaces": "winnic5", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Windows", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": true, 
            "ssh_public_keys": null, 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "powerstate_change": null
}
2017-11-15 11:00:15,463 p=16959 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************************
2017-11-15 11:00:15,466 p=16959 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-15 11:00:15,467 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-15 11:00:15,491 p=16959 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansiblenic5", 
        "os_type": "Linux", 
        "public_ip_name": "linuxpublic1", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "Ansibletest5", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-15 11:00:16,806 p=16959 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 11:00:16,811 p=16959 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-15 11:00:16,811 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-15 11:00:16,837 p=16959 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-15 11:00:22,046 p=16959 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "linuxpublic1", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"20230cb8-2586-4413-935c-c16ff79752d3\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.173.37.103", 
        "location": "centralus", 
        "name": "linuxpublic1", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": null, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-15 11:00:23,487 p=16959 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-15 11:00:23,491 p=16959 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-15 11:00:23,491 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-15 11:00:23,518 p=16959 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-15 11:00:55,695 p=16959 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansiblenic5", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "linuxpublic1", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "linuxpublic1", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"ee0df9ae-e9f3-4e03-8ffc-0a48156caf75\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansiblenic5", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.5", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/linuxpublic1", 
                "name": "linuxpublic1"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "ansiblenic5", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": null, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-15 11:00:57,423 p=16959 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************************
2017-11-15 11:00:57,426 p=16959 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-15 11:00:57,426 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-15 11:00:57,447 p=16959 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-15 11:01:00,823 p=16959 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ******************************************************************************************************************************************
2017-11-15 11:01:00,826 p=16959 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-15 11:01:00,827 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:22
2017-11-15 11:01:00,859 p=16959 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-15 11:02:35,565 p=16959 u=root |  changed: [localhost] => {
    "ansible_facts": {
        "azure_vm": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/Ansibletest5", 
            "location": "centralus", 
            "name": "Ansibletest5", 
            "powerstate": "running", 
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_D1"
                }, 
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansiblenic5", 
                            "name": "ansiblenic5", 
                            "properties": {
                                "dnsSettings": {
                                    "appliedDnsServers": [], 
                                    "dnsServers": [], 
                                    "internalDomainNameSuffix": "gwffiukydkxu1fpyobrxomhvae.gx.internal.cloudapp.net"
                                }, 
                                "enableAcceleratedNetworking": false, 
                                "enableIPForwarding": false, 
                                "ipConfigurations": [
                                    {
                                        "etag": "W/\"c3fee6f5-1226-4f3b-8569-ddd40523fa6e\"", 
                                        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansiblenic5/ipConfigurations/default", 
                                        "name": "default", 
                                        "properties": {
                                            "primary": true, 
                                            "privateIPAddress": "10.10.0.5", 
                                            "privateIPAddressVersion": "IPv4", 
                                            "privateIPAllocationMethod": "Dynamic", 
                                            "provisioningState": "Succeeded", 
                                            "publicIPAddress": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/linuxpublic1", 
                                                "name": "linuxpublic1", 
                                                "properties": {
                                                    "idleTimeoutInMinutes": 4, 
                                                    "ipAddress": "52.173.37.103", 
                                                    "provisioningState": "Succeeded", 
                                                    "publicIPAddressVersion": "IPv4", 
                                                    "publicIPAllocationMethod": "Static", 
                                                    "resourceGuid": "361408e8-adc0-4955-a389-1c2ff201977b"
                                                }
                                            }, 
                                            "subnet": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1"
                                            }
                                        }
                                    }
                                ], 
                                "macAddress": "00-0D-3A-94-6B-B5", 
                                "networkSecurityGroup": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1"
                                }, 
                                "primary": true, 
                                "provisioningState": "Succeeded", 
                                "resourceGuid": "554eeacf-7371-444d-ab1c-1a7e4d25c14a", 
                                "virtualMachine": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/Ansibletest5"
                                }
                            }
                        }
                    ]
                }, 
                "osProfile": {
                    "adminUsername": "amansyed", 
                    "computerName": "Ansibletest5", 
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true, 
                        "ssh": {
                            "publicKeys": [
                                {
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                                    "path": "/home/amansyed/.ssh/authorized_keys"
                                }
                            ]
                        }
                    }, 
                    "secrets": []
                }, 
                "storageProfile": {
                    "dataDisks": [], 
                    "imageReference": {
                        "offer": "UbuntuServer", 
                        "publisher": "Canonical", 
                        "sku": "16.04-LTS", 
                        "version": "16.04.201711072"
                    }, 
                    "osDisk": {
                        "caching": "ReadOnly", 
                        "createOption": "fromImage", 
                        "diskSizeGB": 30, 
                        "name": "Ansibletest5.vhd", 
                        "osType": "Linux", 
                        "vhd": {
                            "uri": "https://ansibletestvm13934.blob.core.windows.net/vhds/Ansibletest5.vhd"
                        }
                    }
                }
            }, 
            "tags": null, 
            "type": "Microsoft.Compute/virtualMachines"
        }
    }, 
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": null, 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": null, 
            "image": {
                "offer": "UbuntuServer", 
                "publisher": "Canonical", 
                "sku": "16.04-LTS", 
                "version": "16.04.201711072"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "Ansibletest5", 
            "network_interface_names": [
                "ansiblenic5"
            ], 
            "network_interfaces": "ansiblenic5", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Linux", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "powerstate_change": null
}
2017-11-15 11:04:21,606 p=16959 u=root |  Perform task: TASK: create windows vm (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************
2017-11-15 11:04:21,610 p=16959 u=root |  TASK [create windows vm] ****************************************************************************************************************************************************************************
2017-11-15 11:04:21,611 p=16959 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:43
2017-11-15 11:04:21,630 p=16959 u=root |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional result was False", 
    "skipped": true
}
2017-11-15 11:04:21,631 p=16959 u=root |  META: ran handlers
2017-11-15 11:04:21,631 p=16959 u=root |  META: ran handlers
2017-11-15 11:04:21,633 p=16959 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-15 11:04:21,633 p=16959 u=root |  localhost                  : ok=14   changed=4    unreachable=0    failed=0   
2017-11-17 06:50:55,200 p=3686 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 06:50:55,209 p=3686 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 06:50:55,210 p=3686 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 06:50:55,210 p=3686 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 06:50:55,989 p=3686 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 06:50:56,044 p=3686 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 06:50:56,083 p=3686 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version\nwindowsvm5,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,winpublicip5,Static,ansible_test_SG1;test_SG-2,winnic5,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,100:Standard_LRS;200:Standard_LRS\nAnsibletest5,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,linuxpublic1,Static,ansible_test_SG1,ansiblenic5,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,20:Standard_LRS;10:Premium_LRS"
}
2017-11-17 06:50:56,089 p=3686 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 06:50:56,118 p=3686 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    public_ip_name: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n    security_group_name:\n         for sg in list[7].split(\";\") %}\n      - '{{ sg }}'\n{%       endfor %}         \n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n\n{%   endif %}\n    data_disks:\n{%   if list[15] is defined %}\n         for vol in list[15].split(\";\") %}\n     - size_gb: '{{vol.split(\":\")[1]}}'\n       type: '{{vol.split(\":\") [2]}}'\n{%  endif %}\t\n{% endfor %}\n"}
2017-11-17 06:50:56,119 p=3686 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 06:50:56,120 p=3686 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 06:50:56,120 p=3686 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 06:50:56,120 p=3686 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 06:56:01,277 p=4095 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 06:56:01,277 p=4095 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 06:56:01,278 p=4095 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 06:56:01,278 p=4095 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 06:56:01,541 p=4095 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 06:56:01,552 p=4095 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 06:56:01,583 p=4095 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version\nwindowsvm5,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,winpublicip5,Static,ansible_test_SG1;test_SG-2,winnic5,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,100:Standard_LRS;200:Standard_LRS\nAnsibletest5,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,linuxpublic1,Static,ansible_test_SG1,ansiblenic5,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,20:Standard_LRS;10:Premium_LRS"
}
2017-11-17 06:56:01,587 p=4095 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 06:56:01,610 p=4095 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    public_ip_name: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n    security_group_name:\n         for sg in list[7].split(\";\") %}\n      - '{{ sg }}'\n{%       endfor %}         \n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n{%   endif %}\n    data_disks:\n{%   if list[15] is defined %}\n         for vol in list[15].split(\";\") %}\n     - size_gb: '{{vol.split(\":\")[1]}}'\n       type: '{{vol.split(\":\") [2]}}'\n{%       endfor %}\n{%   endif %}\t\n{% endfor %}\n"}
2017-11-17 06:56:01,610 p=4095 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 06:56:01,611 p=4095 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 06:56:01,611 p=4095 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 06:56:01,611 p=4095 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 06:57:31,549 p=4183 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 06:57:31,549 p=4183 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 06:57:31,550 p=4183 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 06:57:31,550 p=4183 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 06:57:31,819 p=4183 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 06:57:31,829 p=4183 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 06:57:31,853 p=4183 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version\nwindowsvm5,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,winpublicip5,Static,ansible_test_SG1;test_SG-2,winnic5,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,100:Standard_LRS;200:Standard_LRS\nAnsibletest5,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,linuxpublic1,Static,ansible_test_SG1,ansiblenic5,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,20:Standard_LRS;10:Premium_LRS"
}
2017-11-17 06:57:31,858 p=4183 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 06:57:31,881 p=4183 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    public_ip_name: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n    security_group_name:\n         for sg in list[7].split(\";\") %}\n      - '{{ sg }}'\n{%       endfor %}         \n{%   endif %}\n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n    data_disks:\n{%   if list[15] is defined %}\n         for vol in list[15].split(\";\") %}\n     - size_gb: '{{vol.split(\":\")[1]}}'\n       type: '{{vol.split(\":\") [2]}}'\n{%       endfor %}\n{%   endif %}\t\n{% endfor %}\n"}
2017-11-17 06:57:31,881 p=4183 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 06:57:31,884 p=4183 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 06:57:31,884 p=4183 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 06:57:31,884 p=4183 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 06:59:04,299 p=4276 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 06:59:04,299 p=4276 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 06:59:04,300 p=4276 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 06:59:04,300 p=4276 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 06:59:04,539 p=4276 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 06:59:04,547 p=4276 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 06:59:04,566 p=4276 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version\nwindowsvm5,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,winpublicip5,Static,ansible_test_SG1;test_SG-2,winnic5,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,100:Standard_LRS;200:Standard_LRS\nAnsibletest5,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,linuxpublic1,Static,ansible_test_SG1,ansiblenic5,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,20:Standard_LRS;10:Premium_LRS"
}
2017-11-17 06:59:04,570 p=4276 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 06:59:04,591 p=4276 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: Encountered unknown tag 'endfor'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    public_ip_name: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n{%   endif %}\n    security_group_name:\n         for sg in list[7].split(\";\") %}\n      - '{{ sg }}'\n{%       endfor %}         \n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n    data_disks:\n{%   if list[15] is defined %}\n         for vol in list[15].split(\";\") %}\n     - size_gb: '{{vol.split(\":\")[1]}}'\n       type: '{{vol.split(\":\") [2]}}'\n{%       endfor %}\n{%   endif %}\t\n{% endfor %}\n"}
2017-11-17 06:59:04,591 p=4276 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 06:59:04,592 p=4276 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 06:59:04,592 p=4276 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 06:59:04,592 p=4276 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 07:06:48,018 p=4667 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 07:06:48,018 p=4667 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 07:06:48,019 p=4667 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 07:06:48,020 p=4667 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 07:06:48,302 p=4667 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 07:06:48,311 p=4667 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 07:06:48,331 p=4667 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version\nwindowsvm5,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,winpublicip5,Static,ansible_test_SG1;test_SG-2,winnic5,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,100:Standard_LRS;200:Standard_LRS\nAnsibletest5,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,linuxpublic1,Static,ansible_test_SG1,ansiblenic5,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,20:Standard_LRS;10:Premium_LRS"
}
2017-11-17 07:06:48,336 p=4667 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 07:06:48,356 p=4667 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    public_ip_name: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n    security_group_name:\n         for sg in list[7].split(\";\") %}\n      - '{{ sg }}'\n{%       endfor %}         \n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n    data_disks:\n{%    if list[15] is defined %}\n         for vol in list[15].split(\";\") %}\n      - size_gb: '{{vol.split(\":\")[1]}}'\n        type: '{{vol.split(\":\") [2]}}'\n{%       endfor %}\n{%    endif %}\t\n{%   endif %}\n{% endfor %}\n"}
2017-11-17 07:06:48,357 p=4667 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 07:06:48,358 p=4667 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 07:06:48,358 p=4667 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 07:06:48,358 p=4667 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 07:20:45,417 p=5571 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 07:20:45,417 p=5571 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 07:20:45,419 p=5571 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 07:20:45,419 p=5571 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 07:20:45,684 p=5571 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 07:20:45,693 p=5571 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 07:20:45,715 p=5571 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nwindowsvm5,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,winpublicip5,Static,ansible_test_SG1;test_SG-2,winnic5,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,100:Standard_LRS;200:Standard_LRS\nAnsibletest5,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,linuxpublic1,Static,ansible_test_SG1,ansiblenic5,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,20:Standard_LRS;10:Premium_LRS"
}
2017-11-17 07:20:45,719 p=5571 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 07:20:45,753 p=5571 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleUndefinedVariable: list object has no element 2"}
2017-11-17 07:20:45,753 p=5571 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 07:20:45,754 p=5571 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 07:20:45,754 p=5571 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 07:20:45,754 p=5571 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 07:32:05,123 p=6453 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 07:32:05,124 p=6453 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 07:32:05,125 p=6453 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 07:32:05,125 p=6453 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 07:32:05,389 p=6453 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 07:32:05,401 p=6453 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 07:32:05,424 p=6453 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 07:32:05,428 p=6453 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 07:32:05,463 p=6453 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleUndefinedVariable: list object has no element 2"}
2017-11-17 07:32:05,464 p=6453 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 07:32:05,465 p=6453 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 07:32:05,466 p=6453 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 07:32:05,466 p=6453 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 07:33:11,978 p=6566 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 07:33:11,978 p=6566 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 07:33:11,979 p=6566 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 07:33:11,979 p=6566 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 07:33:12,229 p=6566 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 07:33:12,239 p=6566 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 07:33:12,261 p=6566 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 07:33:12,265 p=6566 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 07:33:12,700 p=6566 u=root |  changed: [localhost]
2017-11-17 07:33:12,703 p=6566 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 07:33:12,703 p=6566 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 09:42:33,958 p=13125 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 09:42:33,959 p=13125 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 09:42:33,960 p=13125 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 09:42:33,960 p=13125 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 09:42:34,219 p=13125 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 09:42:34,228 p=13125 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 09:42:34,250 p=13125 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 09:42:34,255 p=13125 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 09:42:34,279 p=13125 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: expected token ')', got 'i'. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    public_ip_name: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n    security_group_name:\n{%       for sg in list[7].split(\";\") %}\n      - '{{ sg }}'\n{%       endfor %}         \n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n    data_disks:\n      - lun:\n{%       for (int i = 0; i < limit; i +=1)\n{%       endfor %} \n{%    if list[15] is defined %}\n{%      for vol in list[15].split(\";\") %}\n        size_gb: '{{vol.split(\":\")[0]}}'\n        type: '{{vol.split(\":\") [1]}}'\n{%      endfor %}\n{%    endif %}\t\n{%   endif %}\n{% endfor %}\n"}
2017-11-17 09:42:34,279 p=13125 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 09:42:34,280 p=13125 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 09:42:34,280 p=13125 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 09:42:34,280 p=13125 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 09:55:51,513 p=13790 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 09:55:51,513 p=13790 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 09:55:51,514 p=13790 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 09:55:51,514 p=13790 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 09:55:51,754 p=13790 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 09:55:51,763 p=13790 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 09:55:51,782 p=13790 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 09:55:51,785 p=13790 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 09:55:51,805 p=13790 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: Encountered unknown tag 'index'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    public_ip_name: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n    security_group_name:\n{%       for sg in list[7].split(\";\") %}\n      - '{{ sg }}'\n{%       endfor %}         \n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n    data_disks:\n{%    if list[15] is defined %}\n{%    index = 0   %}\n{%      for vol in list[15].split(\";\") %}\n      - lun: '{{index}}'\n        size_gb: '{{vol.split(\":\")[0]}}'\n        type: '{{vol.split(\":\") [1]}}'\n{%    index = index + 1 %}\n{%      endfor %}\n{%    endif %}\t\n{%   endif %}\n{% endfor %}\n"}
2017-11-17 09:55:51,806 p=13790 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 09:55:51,807 p=13790 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 09:55:51,807 p=13790 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 09:55:51,807 p=13790 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 09:57:38,303 p=13892 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 09:57:38,303 p=13892 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 09:57:38,304 p=13892 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 09:57:38,304 p=13892 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 09:57:38,549 p=13892 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 09:57:38,559 p=13892 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 09:57:38,582 p=13892 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 09:57:38,585 p=13892 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 09:57:38,609 p=13892 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: Encountered unknown tag 'index'. Jinja was looking for the following tags: 'endfor' or 'else'. The innermost block that needs to be closed is 'for'.. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    public_ip_name: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n    security_group_name:\n{%       for sg in list[7].split(\";\") %}\n      - '{{ sg }}'\n{%       endfor %}         \n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n    data_disks:\n{%    if list[15] is defined %}\n{%    set index = 0   %}\n{%      for vol in list[15].split(\";\") %}\n      - lun: '{{index}}'\n        size_gb: '{{vol.split(\":\")[0]}}'\n        type: '{{vol.split(\":\") [1]}}'\n{%    index = index + 1 %}\n{%      endfor %}\n{%    endif %}\t\n{%   endif %}\n{% endfor %}\n"}
2017-11-17 09:57:38,610 p=13892 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 09:57:38,611 p=13892 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 09:57:38,612 p=13892 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 09:57:38,612 p=13892 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 10:01:54,419 p=14123 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:01:54,419 p=14123 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:01:54,420 p=14123 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:01:54,421 p=14123 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:01:54,684 p=14123 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:01:54,694 p=14123 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:01:54,718 p=14123 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:01:54,723 p=14123 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:01:55,170 p=14123 u=root |  changed: [localhost]
2017-11-17 10:01:55,172 p=14123 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:01:55,172 p=14123 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:03:26,431 p=14253 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:03:26,431 p=14253 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:03:26,432 p=14253 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:03:26,432 p=14253 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:03:26,665 p=14253 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:03:26,674 p=14253 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:03:26,693 p=14253 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:03:26,697 p=14253 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:03:26,720 p=14253 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: expected token ':', got '}'. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    public_ip_name: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n    security_group_name:\n{%       for sg in list[7].split(\";\") %}\n      - '{{ sg }}'\n{%       endfor %}         \n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n    data_disks:\n{%    if list[15] is defined %}\n{%    set ind = 0   %}\n{%      for vol in list[15].split(\";\") %}\n      - lun: '{{ind}}'\n        size_gb: '{{vol.split(\":\")[0]}}'\n        type: '{{vol.split(\":\") [1]}}'\n{%    set ind = {{ind}} + 1 %}\n{%      endfor %}\n{%    endif %}\t\n{%   endif %}\n{% endfor %}\n"}
2017-11-17 10:03:26,720 p=14253 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 10:03:26,721 p=14253 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 10:03:26,721 p=14253 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:03:26,721 p=14253 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 10:07:20,624 p=14460 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:07:20,624 p=14460 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:07:20,625 p=14460 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:07:20,625 p=14460 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:07:20,867 p=14460 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:07:20,877 p=14460 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:07:20,898 p=14460 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:07:20,903 p=14460 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:07:21,320 p=14460 u=root |  changed: [localhost]
2017-11-17 10:07:21,321 p=14460 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:07:21,322 p=14460 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:08:49,586 p=14593 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:08:49,586 p=14593 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:08:49,587 p=14593 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:08:49,588 p=14593 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:08:49,848 p=14593 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:08:49,858 p=14593 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:08:49,881 p=14593 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:08:49,885 p=14593 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:08:50,372 p=14593 u=root |  changed: [localhost]
2017-11-17 10:08:50,375 p=14593 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:08:50,375 p=14593 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:09:48,616 p=14693 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:09:48,616 p=14693 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:09:48,617 p=14693 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:09:48,618 p=14693 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:09:48,849 p=14693 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:09:48,857 p=14693 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:09:48,875 p=14693 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:09:48,878 p=14693 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:09:49,353 p=14693 u=root |  changed: [localhost]
2017-11-17 10:09:49,356 p=14693 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:09:49,356 p=14693 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:10:38,724 p=14785 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:10:38,724 p=14785 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:10:38,725 p=14785 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:10:38,725 p=14785 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:10:38,972 p=14785 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:10:38,981 p=14785 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:10:39,003 p=14785 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:10:39,008 p=14785 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:10:39,442 p=14785 u=root |  changed: [localhost]
2017-11-17 10:10:39,443 p=14785 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:10:39,444 p=14785 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:12:24,968 p=14922 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:12:24,968 p=14922 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:12:24,969 p=14922 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:12:24,970 p=14922 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:12:25,203 p=14922 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:12:25,211 p=14922 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:12:25,232 p=14922 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:12:25,236 p=14922 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:12:25,647 p=14922 u=root |  ok: [localhost]
2017-11-17 10:12:25,649 p=14922 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:12:25,649 p=14922 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=0   
2017-11-17 10:13:10,877 p=15005 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:13:10,877 p=15005 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:13:10,878 p=15005 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:13:10,878 p=15005 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:13:11,115 p=15005 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:13:11,123 p=15005 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:13:11,143 p=15005 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:13:11,146 p=15005 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:13:11,553 p=15005 u=root |  changed: [localhost]
2017-11-17 10:13:11,555 p=15005 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:13:11,555 p=15005 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:14:34,912 p=15126 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:14:34,912 p=15126 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:14:34,913 p=15126 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:14:34,913 p=15126 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:14:35,147 p=15126 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:14:35,155 p=15126 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:14:35,175 p=15126 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:14:35,177 p=15126 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:14:35,588 p=15126 u=root |  changed: [localhost]
2017-11-17 10:14:35,590 p=15126 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:14:35,590 p=15126 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:15:51,728 p=15239 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:15:51,728 p=15239 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:15:51,729 p=15239 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:15:51,729 p=15239 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:15:51,968 p=15239 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:15:51,977 p=15239 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:15:51,997 p=15239 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:15:52,000 p=15239 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:15:52,427 p=15239 u=root |  changed: [localhost]
2017-11-17 10:15:52,428 p=15239 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:15:52,429 p=15239 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:17:44,591 p=15389 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:17:44,591 p=15389 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:17:44,593 p=15389 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:17:44,593 p=15389 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:17:44,836 p=15389 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:17:44,845 p=15389 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:17:44,865 p=15389 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:17:44,868 p=15389 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:17:45,283 p=15389 u=root |  changed: [localhost]
2017-11-17 10:17:45,284 p=15389 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:17:45,284 p=15389 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:20:24,203 p=15572 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:20:24,203 p=15572 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:20:24,204 p=15572 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:20:24,205 p=15572 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:20:24,448 p=15572 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:20:24,457 p=15572 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:20:24,479 p=15572 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:20:24,482 p=15572 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:20:24,904 p=15572 u=root |  changed: [localhost]
2017-11-17 10:20:24,906 p=15572 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:20:24,906 p=15572 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:25:17,376 p=15976 u=root |  ERROR! the playbook: ../csv_yaml_windows.yaml could not be found
2017-11-17 10:25:27,774 p=15992 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:25:27,774 p=15992 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:25:27,775 p=15992 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:25:27,775 p=15992 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:25:28,011 p=15992 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:25:28,019 p=15992 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:25:28,041 p=15992 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:25:28,044 p=15992 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:25:28,464 p=15992 u=root |  ok: [localhost]
2017-11-17 10:25:28,465 p=15992 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:25:28,465 p=15992 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=0   
2017-11-17 10:27:52,337 p=16205 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:27:52,337 p=16205 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:27:52,338 p=16205 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:27:52,339 p=16205 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:27:52,570 p=16205 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:27:52,578 p=16205 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:27:52,597 p=16205 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:27:52,599 p=16205 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:27:53,005 p=16205 u=root |  ok: [localhost]
2017-11-17 10:27:53,006 p=16205 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:27:53,006 p=16205 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=0   
2017-11-17 10:28:19,623 p=16273 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:28:19,623 p=16273 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:28:19,624 p=16273 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:28:19,624 p=16273 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:28:19,868 p=16273 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:28:19,878 p=16273 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:28:19,902 p=16273 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:28:19,905 p=16273 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:28:20,350 p=16273 u=root |  changed: [localhost]
2017-11-17 10:28:20,352 p=16273 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:28:20,352 p=16273 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:30:07,948 p=16415 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:30:07,949 p=16415 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:30:07,949 p=16415 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:30:07,950 p=16415 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:30:08,192 p=16415 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:30:08,201 p=16415 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:30:08,222 p=16415 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:30:08,225 p=16415 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:30:08,685 p=16415 u=root |  ok: [localhost]
2017-11-17 10:30:08,688 p=16415 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:30:08,688 p=16415 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=0   
2017-11-17 10:31:03,150 p=16506 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:31:03,151 p=16506 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:31:03,152 p=16506 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:31:03,152 p=16506 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:31:03,387 p=16506 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:31:03,396 p=16506 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:31:03,415 p=16506 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:31:03,418 p=16506 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:31:03,846 p=16506 u=root |  changed: [localhost]
2017-11-17 10:31:03,848 p=16506 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:31:03,848 p=16506 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:31:54,581 p=16598 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:31:54,582 p=16598 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:31:54,583 p=16598 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:31:54,583 p=16598 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:31:54,823 p=16598 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:31:54,832 p=16598 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:31:54,852 p=16598 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:31:54,855 p=16598 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:31:55,281 p=16598 u=root |  changed: [localhost]
2017-11-17 10:31:55,283 p=16598 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:31:55,283 p=16598 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:32:37,612 p=16686 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:32:37,612 p=16686 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:32:37,613 p=16686 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:32:37,613 p=16686 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:32:37,847 p=16686 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:32:37,856 p=16686 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:32:37,880 p=16686 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:32:37,885 p=16686 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:32:38,299 p=16686 u=root |  changed: [localhost]
2017-11-17 10:32:38,301 p=16686 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:32:38,301 p=16686 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:33:25,716 p=16773 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:33:25,717 p=16773 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:33:25,718 p=16773 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:33:25,718 p=16773 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:33:25,960 p=16773 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:33:25,969 p=16773 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:33:25,988 p=16773 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:33:25,992 p=16773 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:33:26,404 p=16773 u=root |  changed: [localhost]
2017-11-17 10:33:26,406 p=16773 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:33:26,406 p=16773 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 10:34:13,045 p=16865 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 10:34:13,045 p=16865 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 10:34:13,049 p=16865 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 10:34:13,049 p=16865 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 10:34:13,280 p=16865 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 10:34:13,289 p=16865 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 10:34:13,308 p=16865 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 10:34:13,312 p=16865 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 10:34:13,729 p=16865 u=root |  ok: [localhost]
2017-11-17 10:34:13,732 p=16865 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 10:34:13,732 p=16865 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=0   
2017-11-17 12:01:54,360 p=21983 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 12:01:54,361 p=21983 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 12:01:54,362 p=21983 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 12:01:54,362 p=21983 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 12:01:54,600 p=21983 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 12:01:54,609 p=21983 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 12:01:54,628 p=21983 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2;sg3,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 12:01:54,631 p=21983 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 12:01:55,040 p=21983 u=root |  changed: [localhost]
2017-11-17 12:01:55,041 p=21983 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 12:01:55,042 p=21983 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 12:03:36,223 p=22279 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 12:03:36,224 p=22279 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 12:03:36,225 p=22279 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 12:03:36,225 p=22279 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 12:03:36,500 p=22279 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 12:03:36,509 p=22279 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 12:03:36,529 p=22279 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2;sg3,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 12:03:36,532 p=22279 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 12:03:36,564 p=22279 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleUndefinedVariable: 'ttt' is undefined"}
2017-11-17 12:03:36,565 p=22279 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 12:03:36,565 p=22279 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 12:03:36,566 p=22279 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 12:03:36,566 p=22279 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 12:38:01,461 p=25592 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 12:38:01,461 p=25592 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 12:38:01,463 p=25592 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 12:38:01,464 p=25592 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 12:38:01,756 p=25592 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 12:38:01,766 p=25592 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 12:38:01,789 p=25592 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2;sg3,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 12:38:01,793 p=25592 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 12:38:01,824 p=25592 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: Encountered unknown tag 'do'. Jinja was looking for the following tags: 'endfor' or 'else'. The innermost block that needs to be closed is 'for'.. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    public_ip_name: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n    security_group_name:\n{%       for sg in list[7].split(\";\") %}\n      - '{{ sg }}'\n{%       endfor %}         \n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n    data_disks:\n{%    if list[15] is defined %}\n{%    set ind = [0]   %}\n{%      for vol in list[15].split(\";\") %}\n      - lun: {{ind}}\n        size_gb: '{{vol.split(\":\")[0]}}'\n        type: '{{vol.split(\":\") [1]}}'\n{%      do ind.append(1) %}\n{%      endfor %}\n{%    endif %}\t\n{%   endif %}\n{% endfor %}\n"}
2017-11-17 12:38:01,824 p=25592 u=root |  NO MORE HOSTS LEFT **********************************************************************************************************************************************************************************
2017-11-17 12:38:01,825 p=25592 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-17 12:38:01,825 p=25592 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 12:38:01,826 p=25592 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-17 12:40:15,808 p=25949 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 12:40:15,808 p=25949 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 12:40:15,809 p=25949 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 12:40:15,809 p=25949 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 12:40:16,051 p=25949 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 12:40:16,060 p=25949 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 12:40:16,082 p=25949 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2;sg3,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 12:40:16,086 p=25949 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 12:40:16,596 p=25949 u=root |  changed: [localhost]
2017-11-17 12:40:16,599 p=25949 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 12:40:16,600 p=25949 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 12:42:11,004 p=26320 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 12:42:11,004 p=26320 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 12:42:11,005 p=26320 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 12:42:11,005 p=26320 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 12:42:11,246 p=26320 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 12:42:11,255 p=26320 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 12:42:11,276 p=26320 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2;sg3,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 12:42:11,279 p=26320 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 12:42:11,697 p=26320 u=root |  changed: [localhost]
2017-11-17 12:42:11,699 p=26320 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 12:42:11,699 p=26320 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 12:43:01,886 p=26527 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 12:43:01,886 p=26527 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 12:43:01,887 p=26527 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 12:43:01,888 p=26527 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 12:43:02,121 p=26527 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 12:43:02,130 p=26527 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 12:43:02,149 p=26527 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2;sg3,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs"
}
2017-11-17 12:43:02,153 p=26527 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 12:43:02,578 p=26527 u=root |  changed: [localhost]
2017-11-17 12:43:02,580 p=26527 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 12:43:02,580 p=26527 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-17 12:43:50,513 p=26747 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-17 12:43:50,513 p=26747 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-17 12:43:50,514 p=26747 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-17 12:43:50,515 p=26747 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-17 12:43:50,755 p=26747 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-17 12:43:50,764 p=26747 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-17 12:43:50,786 p=26747 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest,ansible,test_vnet,test_subnet,windows,test_publicip,static,sg1;sg2;sg3,test_nic,standard_d1,test,windows,winodwsserver,windows_2012,latest,100:standard_lrs;200:standard_lrs;300:standard_lrs"
}
2017-11-17 12:43:50,789 p=26747 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-17 12:43:51,220 p=26747 u=root |  changed: [localhost]
2017-11-17 12:43:51,222 p=26747 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-17 12:43:51,222 p=26747 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-20 07:21:21,318 p=5013 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 07:21:21,329 p=5013 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 07:21:21,348 p=5013 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:21:21,348 p=5013 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:21:21,349 p=5013 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:21:21,349 p=5013 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:21:22,222 p=5013 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-20 07:21:22,222 p=5013 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 07:21:22,278 p=5013 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-20 07:21:22,340 p=5013 u=root |  META: ran handlers
2017-11-20 07:21:25,036 p=5013 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-20 07:21:25,047 p=5013 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-20 07:21:25,047 p=5013 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 07:21:25,244 p=5013 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 07:21:25,623 p=5013 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/copy.py
2017-11-20 07:21:25,720 p=5013 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "45f9ba52a21c4768e864fae03c46f8223244085b", 
    "dest": "./vars/input_windows.yaml", 
    "diff": [], 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": false, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": null, 
            "local_follow": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1511162485.11-237979582666582/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "943f5552903f0bd70caed97291030231", 
    "mode": "0644", 
    "owner": "root", 
    "size": 1262, 
    "src": "/root/.ansible/tmp/ansible-tmp-1511162485.11-237979582666582/source", 
    "state": "file", 
    "uid": 0
}
2017-11-20 07:21:30,092 p=5013 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-20 07:21:30,095 p=5013 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-20 07:21:30,095 p=5013 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 07:21:30,118 p=5013 u=root |  fatal: [localhost]: FAILED! => {
    "failed": true, 
    "msg": "Syntax Error while loading YAML.\n\n\nThe error appears to have been in 'True': line 24, column 1, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\n(could not open file to display line)\nexception type: <class 'yaml.scanner.ScannerError'>\nexception: while scanning for the next token\nfound character '\\t' that cannot start any token\n  in \"<unicode string>\", line 24, column 1:\n    \t\n    ^"
}
2017-11-20 07:21:30,119 p=5013 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 07:21:30,120 p=5013 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 07:21:30,120 p=5013 u=root |  localhost                  : ok=1    changed=1    unreachable=0    failed=1   
2017-11-20 07:26:56,890 p=5477 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:26:56,891 p=5477 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:26:56,892 p=5477 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:26:56,893 p=5477 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:26:57,152 p=5477 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-20 07:26:57,168 p=5477 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 07:26:57,190 p=5477 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest11,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,ansibletest11publicip11,static,ansible_test_SG1,ansibletestnic11,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,10:Standard_LRS\nansibletest12,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,ansibletest12publicip12,static,ansible_test_SG1,ansibletestnic12,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,20:Standard_LRS"
}
2017-11-20 07:26:57,194 p=5477 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-20 07:26:57,652 p=5477 u=root |  ok: [localhost]
2017-11-20 07:26:57,654 p=5477 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 07:26:57,654 p=5477 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=0   
2017-11-20 07:27:31,904 p=5568 u=root |  ERROR! the playbook: input_windows.yaml could not be found
2017-11-20 07:27:43,948 p=5583 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 07:27:43,948 p=5583 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 07:27:43,951 p=5583 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:27:43,951 p=5583 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:27:43,952 p=5583 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:27:43,952 p=5583 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:27:44,196 p=5583 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-20 07:27:44,197 p=5583 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 07:27:44,208 p=5583 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-20 07:27:44,214 p=5583 u=root |  META: ran handlers
2017-11-20 07:27:46,852 p=5583 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-20 07:27:46,855 p=5583 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-20 07:27:46,856 p=5583 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 07:27:47,005 p=5583 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 07:27:47,221 p=5583 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-20 07:27:47,316 p=5583 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "45f9ba52a21c4768e864fae03c46f8223244085b", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1262, 
    "state": "file", 
    "uid": 0
}
2017-11-20 07:27:49,238 p=5583 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-20 07:27:49,241 p=5583 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-20 07:27:49,241 p=5583 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 07:27:49,264 p=5583 u=root |  fatal: [localhost]: FAILED! => {
    "failed": true, 
    "msg": "Syntax Error while loading YAML.\n\n\nThe error appears to have been in 'True': line 24, column 1, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\n(could not open file to display line)\nexception type: <class 'yaml.scanner.ScannerError'>\nexception: while scanning for the next token\nfound character '\\t' that cannot start any token\n  in \"<unicode string>\", line 24, column 1:\n    \t\n    ^"
}
2017-11-20 07:27:49,266 p=5583 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 07:27:49,266 p=5583 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 07:27:49,266 p=5583 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-20 07:31:10,980 p=5850 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:31:10,980 p=5850 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:31:10,982 p=5850 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:31:10,982 p=5850 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:31:11,237 p=5850 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-20 07:31:11,246 p=5850 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 07:31:11,268 p=5850 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest11,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,ansibletest11publicip11,static,ansible_test_SG1,ansibletestnic11,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,10:Standard_LRS\nansibletest12,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,ansibletest12publicip12,static,ansible_test_SG1,ansibletestnic12,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,20:Standard_LRS"
}
2017-11-20 07:31:11,272 p=5850 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-20 07:31:11,719 p=5850 u=root |  ok: [localhost]
2017-11-20 07:31:11,722 p=5850 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 07:31:11,722 p=5850 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=0   
2017-11-20 07:32:46,589 p=6022 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:32:46,590 p=6022 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:32:46,591 p=6022 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:32:46,591 p=6022 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:32:46,840 p=6022 u=root |  PLAY [Test CSV to List] *****************************************************************************************************************************************************************************
2017-11-20 07:32:46,849 p=6022 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 07:32:46,869 p=6022 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,public_ip_name,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest11,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,ansibletest11publicip11,static,ansible_test_SG1,ansibletestnic11,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,10:Standard_LRS\nansibletest12,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,ansibletest12publicip12,static,ansible_test_SG1,ansibletestnic12,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,20:Standard_LRS"
}
2017-11-20 07:32:46,873 p=6022 u=root |  TASK [CSV to Yaml] **********************************************************************************************************************************************************************************
2017-11-20 07:32:47,311 p=6022 u=root |  changed: [localhost]
2017-11-20 07:32:47,314 p=6022 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 07:32:47,314 p=6022 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-20 07:41:59,261 p=6843 u=root |  ERROR! the playbook: ../csv_yaml_windows.yaml could not be found
2017-11-20 07:47:04,850 p=7250 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 07:47:04,850 p=7250 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 07:47:04,853 p=7250 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:47:04,853 p=7250 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:47:04,854 p=7250 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:47:04,855 p=7250 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:47:05,097 p=7250 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-20 07:47:05,097 p=7250 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 07:47:05,108 p=7250 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-20 07:47:05,115 p=7250 u=root |  META: ran handlers
2017-11-20 07:47:07,611 p=7250 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-20 07:47:07,615 p=7250 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-20 07:47:07,615 p=7250 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 07:47:07,766 p=7250 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 07:47:07,990 p=7250 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/copy.py
2017-11-20 07:47:08,089 p=7250 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "f5d659294887fea294322d57e607de32e17b7fae", 
    "dest": "./vars/input_windows.yaml", 
    "diff": [], 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": false, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": null, 
            "local_follow": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1511164027.65-51324438166521/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "bdedd639596e27000bbeedc193e733a0", 
    "mode": "0644", 
    "owner": "root", 
    "size": 1308, 
    "src": "/root/.ansible/tmp/ansible-tmp-1511164027.65-51324438166521/source", 
    "state": "file", 
    "uid": 0
}
2017-11-20 07:47:10,435 p=7250 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-20 07:47:10,438 p=7250 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-20 07:47:10,438 p=7250 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 07:47:10,462 p=7250 u=root |  fatal: [localhost]: FAILED! => {
    "failed": true, 
    "msg": "Syntax Error while loading YAML.\n\n\nThe error appears to have been in 'True': line 26, column 1, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\n(could not open file to display line)\nexception type: <class 'yaml.scanner.ScannerError'>\nexception: while scanning for the next token\nfound character '\\t' that cannot start any token\n  in \"<unicode string>\", line 26, column 1:\n    \t\n    ^"
}
2017-11-20 07:47:10,464 p=7250 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 07:47:10,465 p=7250 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 07:47:10,465 p=7250 u=root |  localhost                  : ok=1    changed=1    unreachable=0    failed=1   
2017-11-20 07:49:44,351 p=7482 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 07:49:44,351 p=7482 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 07:49:44,355 p=7482 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:49:44,355 p=7482 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:49:44,356 p=7482 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:49:44,359 p=7482 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:49:44,609 p=7482 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-20 07:49:44,610 p=7482 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 07:49:44,621 p=7482 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-20 07:49:44,628 p=7482 u=root |  META: ran handlers
2017-11-20 07:49:45,800 p=7482 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-20 07:49:45,804 p=7482 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-20 07:49:45,804 p=7482 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 07:49:45,955 p=7482 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 07:49:46,170 p=7482 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/copy.py
2017-11-20 07:49:46,266 p=7482 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "5b2b5e3ef0601445a45b630a81b663251770a78f", 
    "dest": "./vars/input_windows.yaml", 
    "diff": [], 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": false, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": null, 
            "local_follow": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1511164185.85-97661763491893/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "1f1f8b9131454c96354c590a490be912", 
    "mode": "0644", 
    "owner": "root", 
    "size": 1304, 
    "src": "/root/.ansible/tmp/ansible-tmp-1511164185.85-97661763491893/source", 
    "state": "file", 
    "uid": 0
}
2017-11-20 07:49:47,864 p=7482 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ***************************************************************************************************************************
2017-11-20 07:49:47,867 p=7482 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-20 07:49:47,867 p=7482 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 07:49:47,909 p=7482 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "10", 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "lun": 1, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "public_ip_name": "ansibletest11publicip11", 
                "resource_group": "ansible", 
                "security_group_name": [
                    "ansible_test_SG1"
                ], 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "public_ip_name": "ansibletest12publicip12", 
                "resource_group": "ansible", 
                "security_group_name": [
                    "ansible_test_SG1"
                ], 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 07:49:51,584 p=7482 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ********************************************************************************************************************************************
2017-11-20 07:49:51,587 p=7482 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-20 07:49:51,587 p=7482 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 07:49:51,639 p=7482 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 07:49:51,648 p=7482 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 07:49:54,400 p=7482 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: ****************************************************************************************************************************************************
2017-11-20 07:49:54,403 p=7482 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 07:49:54,403 p=7482 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 07:49:54,426 p=7482 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "lun": 0, 
                "size_gb": "10", 
                "type": "Standard_LRS"
            }, 
            {
                "lun": 1, 
                "size_gb": "20", 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "public_ip_name": "ansibletest11publicip11", 
        "resource_group": "ansible", 
        "security_group_name": [
            "ansible_test_SG1"
        ], 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 07:49:57,128 p=7482 u=root |  Perform task: TASK: create public ip address (N)o/(y)es/(c)ontinue: *********************************************************************************************************************************
2017-11-20 07:49:57,132 p=7482 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-20 07:49:57,132 p=7482 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-20 07:49:57,279 p=7482 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-20 07:49:59,044 p=7482 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "allocation_method": "static", 
            "append_tags": true, 
            "name": "ansibletest11publicip11", 
            "resource_group": "ansible", 
            "state": "present"
        }
    }, 
    "msg": "value of allocation_method must be one of: Dynamic,Static, got: static"
}
2017-11-20 07:49:59,046 p=7482 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 07:49:59,046 p=7482 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 07:49:59,046 p=7482 u=root |  localhost                  : ok=5    changed=1    unreachable=0    failed=1   
2017-11-20 07:50:59,772 p=7653 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:50:59,773 p=7653 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:50:59,774 p=7653 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:50:59,774 p=7653 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:50:59,870 p=7653 u=root |  playbook: bulk_vm_provision.yaml
2017-11-20 07:51:08,868 p=7669 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:51:08,868 p=7669 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:51:08,869 p=7669 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:51:08,869 p=7669 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:51:08,886 p=7669 u=root |  ERROR! 'debug' is not a valid attribute for a Play

The error appears to have been in '/root/ansible/playbook/task_vm_V1.yaml': line 1, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - debug: var=outer_item
    ^ here

2017-11-20 07:52:06,373 p=7726 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 07:52:06,373 p=7726 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 07:52:06,376 p=7726 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:52:06,376 p=7726 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:52:06,377 p=7726 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:52:06,377 p=7726 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:52:06,620 p=7726 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-20 07:52:06,621 p=7726 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 07:52:06,632 p=7726 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-20 07:52:06,638 p=7726 u=root |  META: ran handlers
2017-11-20 07:52:11,702 p=7726 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-20 07:52:11,705 p=7726 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-20 07:52:11,705 p=7726 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 07:52:11,845 p=7726 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 07:52:12,056 p=7726 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/copy.py
2017-11-20 07:52:12,147 p=7726 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "25a98d64ac7aae47bc8f15bfc0dbf4eb9dccd70e", 
    "dest": "./vars/input_windows.yaml", 
    "diff": [], 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": false, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": null, 
            "local_follow": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1511164331.74-237726586010614/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "ba623d88cdb1e186fb39ead8e24086de", 
    "mode": "0644", 
    "owner": "root", 
    "size": 1304, 
    "src": "/root/.ansible/tmp/ansible-tmp-1511164331.74-237726586010614/source", 
    "state": "file", 
    "uid": 0
}
2017-11-20 07:52:12,152 p=7726 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-20 07:52:12,152 p=7726 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 07:52:12,186 p=7726 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "10", 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "lun": 1, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "public_ip_name": "ansibletest11publicip11", 
                "resource_group": "ansible", 
                "security_group_name": [
                    "ansible_test_SG1"
                ], 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "public_ip_name": "ansibletest12publicip12", 
                "resource_group": "ansible", 
                "security_group_name": [
                    "ansible_test_SG1"
                ], 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 07:52:12,191 p=7726 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-20 07:52:12,191 p=7726 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 07:52:12,233 p=7726 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 07:52:12,242 p=7726 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 07:52:12,246 p=7726 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 07:52:12,246 p=7726 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 07:52:12,266 p=7726 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "lun": 0, 
                "size_gb": "10", 
                "type": "Standard_LRS"
            }, 
            {
                "lun": 1, 
                "size_gb": "20", 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "public_ip_name": "ansibletest11publicip11", 
        "resource_group": "ansible", 
        "security_group_name": [
            "ansible_test_SG1"
        ], 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 07:52:12,270 p=7726 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-20 07:52:12,270 p=7726 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-20 07:52:12,399 p=7726 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-20 07:52:18,894 p=7726 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "ansibletest11publicip11", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"042ede45-b9e1-4a46-b3ea-250bdde4b7c3\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.52.173", 
        "location": "centralus", 
        "name": "ansibletest11publicip11", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": null, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-20 07:52:18,899 p=7726 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-20 07:52:18,899 p=7726 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 07:52:19,070 p=7726 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 07:52:21,273 p=7726 u=root |  The full traceback is:
  File "/tmp/ansible_c10AT2/ansible_module_azure_rm_networkinterface.py", line 559, in get_security_group
    nsg = self.network_client.network_security_groups.get(self.resource_group, name)
  File "/usr/local/lib/python2.7/dist-packages/azure/mgmt/network/v2017_06_01/operations/network_security_groups_operations.py", line 177, in get
    raise exp

2017-11-20 07:52:21,274 p=7726 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic11", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "ansibletest11publicip11", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "ansibletest11publicip11", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": [
                "ansible_test_SG1"
            ], 
            "security_group_name": "['ansible_test_SG1']", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "msg": "Error: fetching network security group ['ansible_test_SG1'] - Azure Error: ResourceNotFound\nMessage: The Resource 'Microsoft.Network/networkSecurityGroups/['ansible_test_SG1']' under resource group 'ansible' was not found.."
}
2017-11-20 07:52:21,277 p=7726 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 07:52:21,277 p=7726 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 07:52:21,277 p=7726 u=root |  localhost                  : ok=6    changed=2    unreachable=0    failed=1   
2017-11-20 07:55:22,889 p=8066 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 07:55:22,890 p=8066 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 07:55:22,892 p=8066 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 07:55:22,893 p=8066 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 07:55:22,894 p=8066 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 07:55:22,894 p=8066 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 07:55:23,138 p=8066 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-20 07:55:23,138 p=8066 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 07:55:23,149 p=8066 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-20 07:55:23,155 p=8066 u=root |  META: ran handlers
2017-11-20 07:55:24,852 p=8066 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-20 07:55:24,856 p=8066 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-20 07:55:24,856 p=8066 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 07:55:24,996 p=8066 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 07:55:25,208 p=8066 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-20 07:55:25,306 p=8066 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "25a98d64ac7aae47bc8f15bfc0dbf4eb9dccd70e", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1304, 
    "state": "file", 
    "uid": 0
}
2017-11-20 07:55:25,310 p=8066 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-20 07:55:25,311 p=8066 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 07:55:25,341 p=8066 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "10", 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "lun": 1, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "public_ip_name": "ansibletest11publicip11", 
                "resource_group": "ansible", 
                "security_group_name": [
                    "ansible_test_SG1"
                ], 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "public_ip_name": "ansibletest12publicip12", 
                "resource_group": "ansible", 
                "security_group_name": [
                    "ansible_test_SG1"
                ], 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 07:55:25,345 p=8066 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-20 07:55:25,345 p=8066 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 07:55:25,386 p=8066 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 07:55:25,395 p=8066 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 07:55:25,399 p=8066 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 07:55:25,399 p=8066 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 07:55:25,421 p=8066 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "lun": 0, 
                "size_gb": "10", 
                "type": "Standard_LRS"
            }, 
            {
                "lun": 1, 
                "size_gb": "20", 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "public_ip_name": "ansibletest11publicip11", 
        "resource_group": "ansible", 
        "security_group_name": [
            "ansible_test_SG1"
        ], 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 07:55:25,424 p=8066 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-20 07:55:25,424 p=8066 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-20 07:55:25,556 p=8066 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-20 07:55:27,573 p=8066 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "ansibletest11publicip11", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"042ede45-b9e1-4a46-b3ea-250bdde4b7c3\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.52.173", 
        "location": "centralus", 
        "name": "ansibletest11publicip11", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-20 07:55:27,578 p=8066 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-20 07:55:27,578 p=8066 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 07:55:27,744 p=8066 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 07:55:29,928 p=8066 u=root |  The full traceback is:
  File "/tmp/ansible_WQDGoD/ansible_module_azure_rm_networkinterface.py", line 559, in get_security_group
    nsg = self.network_client.network_security_groups.get(self.resource_group, name)
  File "/usr/local/lib/python2.7/dist-packages/azure/mgmt/network/v2017_06_01/operations/network_security_groups_operations.py", line 177, in get
    raise exp

2017-11-20 07:55:29,929 p=8066 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic11", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "ansibletest11publicip11", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "ansibletest11publicip11", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": [
                "ansible_test_SG1"
            ], 
            "security_group_name": "['ansible_test_SG1']", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "msg": "Error: fetching network security group ['ansible_test_SG1'] - Azure Error: ResourceNotFound\nMessage: The Resource 'Microsoft.Network/networkSecurityGroups/['ansible_test_SG1']' under resource group 'ansible' was not found.."
}
2017-11-20 07:55:29,932 p=8066 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 07:55:29,932 p=8066 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 07:55:29,932 p=8066 u=root |  localhost                  : ok=6    changed=0    unreachable=0    failed=1   
2017-11-20 08:10:08,942 p=8926 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 08:10:08,943 p=8926 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 08:10:08,946 p=8926 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 08:10:08,946 p=8926 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 08:10:08,947 p=8926 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 08:10:08,947 p=8926 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 08:10:09,201 p=8926 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-20 08:10:09,201 p=8926 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 08:10:09,212 p=8926 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-20 08:10:09,218 p=8926 u=root |  META: ran handlers
2017-11-20 08:10:10,747 p=8926 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-20 08:10:10,750 p=8926 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-20 08:10:10,751 p=8926 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 08:10:10,888 p=8926 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 08:10:11,110 p=8926 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/copy.py
2017-11-20 08:10:11,204 p=8926 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "51f5d24b11acba7f615b8c8ce9714d13966736a5", 
    "dest": "./vars/input_windows.yaml", 
    "diff": [], 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": false, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": null, 
            "local_follow": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1511165410.79-133416463827337/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "8a383d8cf1e98ae7b45414763d04a2cb", 
    "mode": "0644", 
    "owner": "root", 
    "size": 1288, 
    "src": "/root/.ansible/tmp/ansible-tmp-1511165410.79-133416463827337/source", 
    "state": "file", 
    "uid": 0
}
2017-11-20 08:10:11,208 p=8926 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-20 08:10:11,209 p=8926 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 08:10:11,237 p=8926 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "10", 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "lun": 1, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "public_ip_name": "ansibletest11publicip11", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "public_ip_name": "ansibletest12publicip12", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 08:10:11,242 p=8926 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-20 08:10:11,242 p=8926 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 08:10:11,286 p=8926 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 08:10:11,295 p=8926 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 08:10:11,299 p=8926 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 08:10:11,300 p=8926 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 08:10:11,321 p=8926 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "lun": 0, 
                "size_gb": "10", 
                "type": "Standard_LRS"
            }, 
            {
                "lun": 1, 
                "size_gb": "20", 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "public_ip_name": "ansibletest11publicip11", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 08:10:11,324 p=8926 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-20 08:10:11,324 p=8926 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-20 08:10:11,456 p=8926 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-20 08:10:13,568 p=8926 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "ansibletest11publicip11", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"042ede45-b9e1-4a46-b3ea-250bdde4b7c3\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.52.173", 
        "location": "centralus", 
        "name": "ansibletest11publicip11", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-20 08:10:13,572 p=8926 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-20 08:10:13,572 p=8926 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 08:10:13,738 p=8926 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 08:10:46,844 p=8926 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic11", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "ansibletest11publicip11", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "ansibletest11publicip11", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"aea11192-e29b-4190-83b2-11e4614b8db2\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic11", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.7", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/ansibletest11publicip11", 
                "name": "ansibletest11publicip11"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "ansibletestnic11", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": null, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-20 08:10:46,849 p=8926 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 08:10:46,849 p=8926 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-20 08:10:46,869 p=8926 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-20 08:10:46,872 p=8926 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-20 08:10:46,872 p=8926 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:22
2017-11-20 08:10:47,083 p=8926 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-20 08:10:52,153 p=8926 u=root |  The full traceback is:
  File "/tmp/ansible_ThAaED/ansible_module_azure_rm_virtualmachine.py", line 1353, in create_or_update_vm
    poller = self.compute_client.virtual_machines.create_or_update(self.resource_group, self.name, params)
  File "/usr/local/lib/python2.7/dist-packages/azure/mgmt/compute/compute/v2017_03_30/operations/virtual_machines_operations.py", line 232, in create_or_update
    get_long_running_status, long_running_operation_timeout)
  File "/usr/local/lib/python2.7/dist-packages/msrestazure/azure_operation.py", line 350, in __init__
    raise CloudError(self._response)

2017-11-20 08:10:52,155 p=8926 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": null, 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": null, 
            "image": {
                "offer": "UbuntuServer", 
                "publisher": "Canonical", 
                "sku": "16.04-LTS", 
                "version": "16.04.201711160"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest11", 
            "network_interface_names": [
                "ansibletestnic11"
            ], 
            "network_interfaces": "ansibletestnic11", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Linux", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "msg": "Error creating or updating virtual machine ansibletest11 - Azure Error: OperationNotAllowed\nMessage: Operation results in exceeding quota limits of Core. Maximum allowed: 4, Current in use: 4, Additional requested: 1. Please read more about quota increase at http://aka.ms/corequotaincrease."
}
2017-11-20 08:10:52,158 p=8926 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 08:10:52,158 p=8926 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 08:10:52,158 p=8926 u=root |  localhost                  : ok=8    changed=2    unreachable=0    failed=1   
2017-11-20 08:13:09,481 p=9217 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 08:13:09,481 p=9217 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 08:13:09,484 p=9217 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 08:13:09,484 p=9217 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 08:13:09,485 p=9217 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 08:13:09,486 p=9217 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 08:13:09,730 p=9217 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-20 08:13:09,730 p=9217 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 08:13:09,742 p=9217 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-20 08:13:09,750 p=9217 u=root |  META: ran handlers
2017-11-20 08:13:10,939 p=9217 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-20 08:13:10,942 p=9217 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-20 08:13:10,943 p=9217 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 08:13:11,081 p=9217 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 08:13:11,309 p=9217 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-20 08:13:11,411 p=9217 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "51f5d24b11acba7f615b8c8ce9714d13966736a5", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1288, 
    "state": "file", 
    "uid": 0
}
2017-11-20 08:13:11,415 p=9217 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-20 08:13:11,415 p=9217 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 08:13:11,444 p=9217 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "10", 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "lun": 1, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "public_ip_name": "ansibletest11publicip11", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "public_ip_name": "ansibletest12publicip12", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 08:13:11,448 p=9217 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-20 08:13:11,449 p=9217 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 08:13:11,489 p=9217 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 08:13:11,498 p=9217 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 08:13:11,502 p=9217 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 08:13:11,502 p=9217 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 08:13:11,524 p=9217 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "lun": 0, 
                "size_gb": "10", 
                "type": "Standard_LRS"
            }, 
            {
                "lun": 1, 
                "size_gb": "20", 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "public_ip_name": "ansibletest11publicip11", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 08:13:11,527 p=9217 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-20 08:13:11,528 p=9217 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-20 08:13:11,661 p=9217 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-20 08:13:14,004 p=9217 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "ansibletest11publicip11", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"e524652b-c81c-40e6-978a-3184979cc020\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.52.173", 
        "location": "centralus", 
        "name": "ansibletest11publicip11", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-20 08:13:14,008 p=9217 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-20 08:13:14,008 p=9217 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 08:13:14,176 p=9217 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 08:13:16,221 p=9217 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic11", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "ansibletest11publicip11", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "ansibletest11publicip11", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"aea11192-e29b-4190-83b2-11e4614b8db2\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic11", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.7", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/ansibletest11publicip11", 
                "name": "ansibletest11publicip11"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "ansibletestnic11", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-20 08:13:16,225 p=9217 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 08:13:16,226 p=9217 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-20 08:13:16,244 p=9217 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-20 08:13:16,248 p=9217 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-20 08:13:16,248 p=9217 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:22
2017-11-20 08:13:16,455 p=9217 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-20 08:13:20,783 p=9217 u=root |  The full traceback is:
  File "/tmp/ansible_sodC9l/ansible_module_azure_rm_virtualmachine.py", line 1346, in get_storage_account
    name)
  File "/usr/local/lib/python2.7/dist-packages/azure/mgmt/storage/v2017_06_01/operations/storage_accounts_operations.py", line 326, in get_properties
    raise exp

2017-11-20 08:13:20,786 p=9217 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": null, 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": null, 
            "image": {
                "offer": "UbuntuServer", 
                "publisher": "Canonical", 
                "sku": "16.04-LTS", 
                "version": "16.04.201711160"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest11", 
            "network_interface_names": [
                "ansibletestnic11"
            ], 
            "network_interfaces": "ansibletestnic11", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Linux", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "msg": "Error fetching storage account ansibletestvm13934 - Azure Error: ResourceNotFound\nMessage: The Resource 'Microsoft.Storage/storageAccounts/ansibletestvm13934' under resource group 'ansible' was not found."
}
2017-11-20 08:13:20,788 p=9217 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 08:13:20,788 p=9217 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 08:13:20,788 p=9217 u=root |  localhost                  : ok=8    changed=0    unreachable=0    failed=1   
2017-11-20 08:15:11,818 p=9452 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 08:15:11,819 p=9452 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 08:15:11,821 p=9452 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 08:15:11,822 p=9452 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 08:15:11,823 p=9452 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 08:15:11,823 p=9452 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 08:15:12,073 p=9452 u=root |  PLAYBOOK: bulk_vm_provision.yaml ********************************************************************************************************************************************************************
2017-11-20 08:15:12,074 p=9452 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 08:15:12,085 p=9452 u=root |  PLAY [Bulk VM provisioning in Azure] ****************************************************************************************************************************************************************
2017-11-20 08:15:12,091 p=9452 u=root |  META: ran handlers
2017-11-20 08:15:13,683 p=9452 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: *****************************************************************************************************************************
2017-11-20 08:15:13,686 p=9452 u=root |  TASK [Load .csv file to input.yaml] *****************************************************************************************************************************************************************
2017-11-20 08:15:13,686 p=9452 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 08:15:13,827 p=9452 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 08:15:14,051 p=9452 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-20 08:15:14,156 p=9452 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "51f5d24b11acba7f615b8c8ce9714d13966736a5", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1288, 
    "state": "file", 
    "uid": 0
}
2017-11-20 08:15:14,161 p=9452 u=root |  TASK [Loading variable from vars dir] ***************************************************************************************************************************************************************
2017-11-20 08:15:14,161 p=9452 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 08:15:14,191 p=9452 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "10", 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "lun": 1, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "public_ip_name": "ansibletest11publicip11", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "public_ip_name": "ansibletest12publicip12", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 08:15:14,195 p=9452 u=root |  TASK [include_tasks] ********************************************************************************************************************************************************************************
2017-11-20 08:15:14,196 p=9452 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 08:15:14,238 p=9452 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 08:15:14,246 p=9452 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 08:15:14,250 p=9452 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 08:15:14,250 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 08:15:14,272 p=9452 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "lun": 0, 
                "size_gb": "10", 
                "type": "Standard_LRS"
            }, 
            {
                "lun": 1, 
                "size_gb": "20", 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "public_ip_name": "ansibletest11publicip11", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 08:15:14,276 p=9452 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-20 08:15:14,276 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-20 08:15:14,410 p=9452 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-20 08:15:17,027 p=9452 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "ansibletest11publicip11", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"e524652b-c81c-40e6-978a-3184979cc020\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.176.52.173", 
        "location": "centralus", 
        "name": "ansibletest11publicip11", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": {}, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-20 08:15:17,030 p=9452 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-20 08:15:17,030 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 08:15:17,193 p=9452 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 08:15:19,814 p=9452 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic11", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "ansibletest11publicip11", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "ansibletest11publicip11", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"aea11192-e29b-4190-83b2-11e4614b8db2\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic11", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.7", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/ansibletest11publicip11", 
                "name": "ansibletest11publicip11"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "ansibletestnic11", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-20 08:15:19,818 p=9452 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 08:15:19,819 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-20 08:15:19,838 p=9452 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-20 08:15:19,842 p=9452 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-20 08:15:19,842 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:22
2017-11-20 08:15:20,039 p=9452 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-20 08:16:55,218 p=9452 u=root |  changed: [localhost] => {
    "ansible_facts": {
        "azure_vm": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/ansibletest11", 
            "location": "centralus", 
            "name": "ansibletest11", 
            "powerstate": "running", 
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_D1"
                }, 
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic11", 
                            "name": "ansibletestnic11", 
                            "properties": {
                                "dnsSettings": {
                                    "appliedDnsServers": [], 
                                    "dnsServers": [], 
                                    "internalDomainNameSuffix": "gwffiukydkxu1fpyobrxomhvae.gx.internal.cloudapp.net"
                                }, 
                                "enableAcceleratedNetworking": false, 
                                "enableIPForwarding": false, 
                                "ipConfigurations": [
                                    {
                                        "etag": "W/\"472435e7-924c-47a1-880f-1289d1948cd6\"", 
                                        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic11/ipConfigurations/default", 
                                        "name": "default", 
                                        "properties": {
                                            "primary": true, 
                                            "privateIPAddress": "10.10.0.7", 
                                            "privateIPAddressVersion": "IPv4", 
                                            "privateIPAllocationMethod": "Dynamic", 
                                            "provisioningState": "Succeeded", 
                                            "publicIPAddress": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/ansibletest11publicip11", 
                                                "name": "ansibletest11publicip11", 
                                                "properties": {
                                                    "idleTimeoutInMinutes": 4, 
                                                    "ipAddress": "52.176.52.173", 
                                                    "provisioningState": "Succeeded", 
                                                    "publicIPAddressVersion": "IPv4", 
                                                    "publicIPAllocationMethod": "Static", 
                                                    "resourceGuid": "1fdd2963-27a7-4d11-b69e-cd5e47b724b4"
                                                }
                                            }, 
                                            "subnet": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1"
                                            }
                                        }
                                    }
                                ], 
                                "macAddress": "00-0D-3A-90-70-68", 
                                "networkSecurityGroup": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1"
                                }, 
                                "primary": true, 
                                "provisioningState": "Succeeded", 
                                "resourceGuid": "2cb4e095-2c32-4a22-b210-be30dd30a186", 
                                "virtualMachine": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/ansibletest11"
                                }
                            }
                        }
                    ]
                }, 
                "osProfile": {
                    "adminUsername": "amansyed", 
                    "computerName": "ansibletest11", 
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true, 
                        "ssh": {
                            "publicKeys": [
                                {
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                                    "path": "/home/amansyed/.ssh/authorized_keys"
                                }
                            ]
                        }
                    }, 
                    "secrets": []
                }, 
                "storageProfile": {
                    "dataDisks": [], 
                    "imageReference": {
                        "offer": "UbuntuServer", 
                        "publisher": "Canonical", 
                        "sku": "16.04-LTS", 
                        "version": "16.04.201711160"
                    }, 
                    "osDisk": {
                        "caching": "ReadOnly", 
                        "createOption": "fromImage", 
                        "diskSizeGB": 30, 
                        "name": "ansibletest11.vhd", 
                        "osType": "Linux", 
                        "vhd": {
                            "uri": "https://ansibletestvm13934.blob.core.windows.net/vhds/ansibletest11.vhd"
                        }
                    }
                }
            }, 
            "tags": null, 
            "type": "Microsoft.Compute/virtualMachines"
        }
    }, 
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": null, 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": null, 
            "image": {
                "offer": "UbuntuServer", 
                "publisher": "Canonical", 
                "sku": "16.04-LTS", 
                "version": "16.04.201711160"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest11", 
            "network_interface_names": [
                "ansibletestnic11"
            ], 
            "network_interfaces": "ansibletestnic11", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Linux", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "powerstate_change": null
}
2017-11-20 08:16:55,223 p=9452 u=root |  TASK [create windows vm] ****************************************************************************************************************************************************************************
2017-11-20 08:16:55,223 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:43
2017-11-20 08:16:55,237 p=9452 u=root |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional result was False", 
    "skipped": true
}
2017-11-20 08:16:55,241 p=9452 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 08:16:55,241 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 08:16:55,261 p=9452 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "lun": 0, 
                "size_gb": "20", 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Windows", 
        "public_ip_name": "ansibletest12publicip12", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 08:16:55,265 p=9452 u=root |  TASK [create public ip address] *********************************************************************************************************************************************************************
2017-11-20 08:16:55,265 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-20 08:16:55,286 p=9452 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_publicipaddress.py
2017-11-20 08:17:00,660 p=9452 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "allocation_method": "Static", 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "domain_name": null, 
            "location": null, 
            "name": "ansibletest12publicip12", 
            "password": null, 
            "profile": null, 
            "resource_group": "ansible", 
            "secret": null, 
            "state": "present", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null
        }
    }, 
    "state": {
        "dns_settings": {}, 
        "etag": "W/\"9d14c4e2-bde1-4e12-a6dd-18c472a69807\"", 
        "idle_timeout_in_minutes": 4, 
        "ip_address": "52.173.23.86", 
        "location": "centralus", 
        "name": "ansibletest12publicip12", 
        "provisioning_state": "Succeeded", 
        "public_ip_allocation_method": "Static", 
        "tags": null, 
        "type": "Microsoft.Network/publicIPAddresses"
    }
}
2017-11-20 08:17:00,664 p=9452 u=root |  TASK [create network interface] *********************************************************************************************************************************************************************
2017-11-20 08:17:00,665 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 08:17:00,689 p=9452 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 08:17:33,668 p=9452 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic12", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": null, 
            "private_ip_allocation_method": "Dynamic", 
            "profile": null, 
            "public_ip": true, 
            "public_ip_address_name": "ansibletest12publicip12", 
            "public_ip_allocation_method": "Dynamic", 
            "public_ip_name": "ansibletest12publicip12", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"13f59c6b-7788-4107-98ba-283873006c65\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic12", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.4", 
            "private_ip_allocation_method": "Dynamic", 
            "public_ip_address": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/ansibletest12publicip12", 
                "name": "ansibletest12publicip12"
            }, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "ansibletestnic12", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": null, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-20 08:17:33,671 p=9452 u=root |  TASK [debug] ****************************************************************************************************************************************************************************************
2017-11-20 08:17:33,671 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-20 08:17:33,692 p=9452 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-20 08:17:33,696 p=9452 u=root |  TASK [create linux vm] ******************************************************************************************************************************************************************************
2017-11-20 08:17:33,696 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:22
2017-11-20 08:17:33,711 p=9452 u=root |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional result was False", 
    "skipped": true
}
2017-11-20 08:17:33,715 p=9452 u=root |  TASK [create windows vm] ****************************************************************************************************************************************************************************
2017-11-20 08:17:33,716 p=9452 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:43
2017-11-20 08:17:33,750 p=9452 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-20 08:20:09,955 p=9452 u=root |  changed: [localhost] => {
    "ansible_facts": {
        "azure_vm": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/ansibletest12", 
            "location": "centralus", 
            "name": "ansibletest12", 
            "powerstate": "running", 
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_D1"
                }, 
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic12", 
                            "name": "ansibletestnic12", 
                            "properties": {
                                "dnsSettings": {
                                    "appliedDnsServers": [], 
                                    "dnsServers": [], 
                                    "internalDomainNameSuffix": "gwffiukydkxu1fpyobrxomhvae.gx.internal.cloudapp.net"
                                }, 
                                "enableAcceleratedNetworking": false, 
                                "enableIPForwarding": false, 
                                "ipConfigurations": [
                                    {
                                        "etag": "W/\"03d53e30-1055-4bb9-8825-0787aabbe34c\"", 
                                        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic12/ipConfigurations/default", 
                                        "name": "default", 
                                        "properties": {
                                            "primary": true, 
                                            "privateIPAddress": "10.10.0.4", 
                                            "privateIPAddressVersion": "IPv4", 
                                            "privateIPAllocationMethod": "Dynamic", 
                                            "provisioningState": "Succeeded", 
                                            "publicIPAddress": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/publicIPAddresses/ansibletest12publicip12", 
                                                "name": "ansibletest12publicip12", 
                                                "properties": {
                                                    "idleTimeoutInMinutes": 4, 
                                                    "ipAddress": "52.173.23.86", 
                                                    "provisioningState": "Succeeded", 
                                                    "publicIPAddressVersion": "IPv4", 
                                                    "publicIPAllocationMethod": "Static", 
                                                    "resourceGuid": "f11a1c5e-4dc8-4b03-b36a-bf05d3bcc9be"
                                                }
                                            }, 
                                            "subnet": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1"
                                            }
                                        }
                                    }
                                ], 
                                "macAddress": "00-0D-3A-90-A2-08", 
                                "networkSecurityGroup": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1"
                                }, 
                                "primary": true, 
                                "provisioningState": "Succeeded", 
                                "resourceGuid": "7b6380dd-4052-4f7d-9c19-481779d3d322", 
                                "virtualMachine": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/ansibletest12"
                                }
                            }
                        }
                    ]
                }, 
                "osProfile": {
                    "adminUsername": "amansyed", 
                    "computerName": "ansibletest12", 
                    "secrets": [], 
                    "windowsConfiguration": {
                        "enableAutomaticUpdates": true, 
                        "provisionVMAgent": true
                    }
                }, 
                "storageProfile": {
                    "dataDisks": [], 
                    "imageReference": {
                        "offer": "WindowsServer", 
                        "publisher": "MicrosoftWindowsServer", 
                        "sku": "2012-R2-Datacenter", 
                        "version": "4.127.20170919"
                    }, 
                    "osDisk": {
                        "caching": "ReadOnly", 
                        "createOption": "fromImage", 
                        "diskSizeGB": 127, 
                        "name": "ansibletest12.vhd", 
                        "osType": "Windows", 
                        "vhd": {
                            "uri": "https://ansibletestvm13934.blob.core.windows.net/vhds/ansibletest12.vhd"
                        }
                    }
                }
            }, 
            "tags": null, 
            "type": "Microsoft.Compute/virtualMachines"
        }
    }, 
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": null, 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "4.127.20170919"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest12", 
            "network_interface_names": [
                "ansibletestnic12"
            ], 
            "network_interfaces": "ansibletestnic12", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Windows", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": true, 
            "ssh_public_keys": null, 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "powerstate_change": null
}
2017-11-20 08:20:09,956 p=9452 u=root |  META: ran handlers
2017-11-20 08:20:09,956 p=9452 u=root |  META: ran handlers
2017-11-20 08:20:09,958 p=9452 u=root |  PLAY RECAP ******************************************************************************************************************************************************************************************
2017-11-20 08:20:09,958 p=9452 u=root |  localhost                  : ok=14   changed=4    unreachable=0    failed=0   
2017-11-20 15:55:26,517 p=36557 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 15:55:26,518 p=36557 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 15:55:26,519 p=36557 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 15:55:26,519 p=36557 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 15:55:26,794 p=36557 u=root |  PLAY [Test CSV to List] ********************************************************
2017-11-20 15:55:26,805 p=36557 u=root |  TASK [debug] *******************************************************************
2017-11-20 15:55:26,827 p=36557 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,private_ip_address,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest11,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,10.10.0.12,Static,ansible_test_SG1,ansibletestnic11,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,10:Standard_LRS;20:Standard_LRS\nansibletest12,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,10.10.0.13,Static,ansible_test_SG1,ansibletestnic12,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,20:Standard_LRS"
}
2017-11-20 15:55:26,831 p=36557 u=root |  TASK [CSV to Yaml] *************************************************************
2017-11-20 15:55:27,282 p=36557 u=root |  changed: [localhost]
2017-11-20 15:55:27,286 p=36557 u=root |  PLAY RECAP *********************************************************************
2017-11-20 15:55:27,286 p=36557 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-20 15:56:53,528 p=36753 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 15:56:53,528 p=36753 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 15:56:53,529 p=36753 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 15:56:53,529 p=36753 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 15:56:53,780 p=36753 u=root |  PLAY [Test CSV to List] ********************************************************
2017-11-20 15:56:53,790 p=36753 u=root |  TASK [debug] *******************************************************************
2017-11-20 15:56:53,811 p=36753 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,private_ip_address,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks\nansibletest11,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,10.10.0.12,Static,ansible_test_SG1,ansibletestnic11,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,10:Standard_LRS;20:Standard_LRS\nansibletest12,ansible,ansible_test_vnet1,ansible_test_subnet1,Windows,10.10.0.13,Static,ansible_test_SG1,ansibletestnic12,Standard_D1,amansyed,WindowsServer,MicrosoftWindowsServer,2012-R2-Datacenter,latest,20:Standard_LRS"
}
2017-11-20 15:56:53,816 p=36753 u=root |  TASK [CSV to Yaml] *************************************************************
2017-11-20 15:56:54,283 p=36753 u=root |  changed: [localhost]
2017-11-20 15:56:54,286 p=36753 u=root |  PLAY RECAP *********************************************************************
2017-11-20 15:56:54,286 p=36753 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-20 15:58:38,462 p=36911 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 15:58:38,462 p=36911 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 15:58:38,464 p=36911 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 15:58:38,464 p=36911 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 15:58:38,480 p=36911 u=root |  ERROR! 'debug' is not a valid attribute for a Play

The error appears to have been in '/root/ansible/playbook/task_vm_V1.yaml': line 1, column 5, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


  - debug: var=outer_item
    ^ here

2017-11-20 15:59:02,792 p=36945 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 15:59:02,792 p=36945 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 15:59:02,795 p=36945 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 15:59:02,796 p=36945 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 15:59:02,797 p=36945 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 15:59:02,797 p=36945 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 15:59:03,038 p=36945 u=root |  PLAYBOOK: bulk_vm_provision.yaml ***********************************************
2017-11-20 15:59:03,039 p=36945 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 15:59:03,049 p=36945 u=root |  PLAY [Bulk VM provisioning in Azure] *******************************************
2017-11-20 15:59:03,055 p=36945 u=root |  META: ran handlers
2017-11-20 15:59:04,440 p=36945 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ********
2017-11-20 15:59:04,445 p=36945 u=root |  TASK [Load .csv file to input.yaml] ********************************************
2017-11-20 15:59:04,445 p=36945 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 15:59:04,585 p=36945 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 15:59:04,796 p=36945 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-20 15:59:04,888 p=36945 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "f464c79c7ad512efb64da8700bbdd9eae5c7c880", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1254, 
    "state": "file", 
    "uid": 0
}
2017-11-20 15:59:06,368 p=36945 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ******
2017-11-20 15:59:06,371 p=36945 u=root |  TASK [Loading variable from vars dir] ******************************************
2017-11-20 15:59:06,371 p=36945 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 15:59:06,389 p=36945 u=root |  fatal: [localhost]: FAILED! => {
    "ansible_facts": {}, 
    "ansible_included_var_files": [], 
    "changed": false, 
    "failed": true, 
    "message": "/root/ansible/playbook/vars/.input_windows.yaml.swp does not have a valid extension: yaml, yml, json"
}
2017-11-20 15:59:06,391 p=36945 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 15:59:06,391 p=36945 u=root |  PLAY RECAP *********************************************************************
2017-11-20 15:59:06,392 p=36945 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-20 15:59:31,561 p=37017 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 15:59:31,561 p=37017 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 15:59:31,564 p=37017 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 15:59:31,564 p=37017 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 15:59:31,565 p=37017 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 15:59:31,565 p=37017 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 15:59:31,808 p=37017 u=root |  PLAYBOOK: bulk_vm_provision.yaml ***********************************************
2017-11-20 15:59:31,809 p=37017 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 15:59:31,819 p=37017 u=root |  PLAY [Bulk VM provisioning in Azure] *******************************************
2017-11-20 15:59:31,825 p=37017 u=root |  META: ran handlers
2017-11-20 15:59:32,983 p=37017 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ********
2017-11-20 15:59:32,987 p=37017 u=root |  TASK [Load .csv file to input.yaml] ********************************************
2017-11-20 15:59:32,987 p=37017 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 15:59:33,139 p=37017 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 15:59:33,375 p=37017 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-20 15:59:33,470 p=37017 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "f464c79c7ad512efb64da8700bbdd9eae5c7c880", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1254, 
    "state": "file", 
    "uid": 0
}
2017-11-20 15:59:34,623 p=37017 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ******
2017-11-20 15:59:34,626 p=37017 u=root |  TASK [Loading variable from vars dir] ******************************************
2017-11-20 15:59:34,626 p=37017 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 15:59:34,658 p=37017 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "10", 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "lun": 1, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "private_ip": "10.10.0.12", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.13", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 15:59:36,623 p=37017 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ***********************
2017-11-20 15:59:36,627 p=37017 u=root |  TASK [include_tasks] ***********************************************************
2017-11-20 15:59:36,627 p=37017 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 15:59:36,670 p=37017 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 15:59:36,678 p=37017 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 15:59:39,551 p=37017 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: *******************************
2017-11-20 15:59:39,554 p=37017 u=root |  TASK [debug] *******************************************************************
2017-11-20 15:59:39,554 p=37017 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 15:59:39,579 p=37017 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "lun": 0, 
                "size_gb": "10", 
                "type": "Standard_LRS"
            }, 
            {
                "lun": 1, 
                "size_gb": "20", 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.12", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 15:59:41,480 p=37017 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ************
2017-11-20 15:59:41,484 p=37017 u=root |  TASK [create network interface] ************************************************
2017-11-20 15:59:41,484 p=37017 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 15:59:41,511 p=37017 u=root |  fatal: [localhost]: FAILED! => {
    "failed": true, 
    "msg": "The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'private_ip_address'\n\nThe error appears to have been in '/root/ansible/playbook/task_vm_V1.yaml': line 9, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: create network interface\n    ^ here\n\nexception type: <class 'ansible.errors.AnsibleUndefinedVariable'>\nexception: 'dict object' has no attribute 'private_ip_address'"
}
2017-11-20 15:59:41,512 p=37017 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 15:59:41,513 p=37017 u=root |  PLAY RECAP *********************************************************************
2017-11-20 15:59:41,513 p=37017 u=root |  localhost                  : ok=5    changed=0    unreachable=0    failed=1   
2017-11-20 16:01:54,718 p=37204 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 16:01:54,718 p=37204 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 16:01:54,721 p=37204 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 16:01:54,721 p=37204 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 16:01:54,722 p=37204 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 16:01:54,722 p=37204 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 16:01:54,965 p=37204 u=root |  PLAYBOOK: bulk_vm_provision.yaml ***********************************************
2017-11-20 16:01:54,966 p=37204 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 16:01:54,976 p=37204 u=root |  PLAY [Bulk VM provisioning in Azure] *******************************************
2017-11-20 16:01:54,982 p=37204 u=root |  META: ran handlers
2017-11-20 16:01:55,807 p=37204 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ********
2017-11-20 16:01:55,810 p=37204 u=root |  TASK [Load .csv file to input.yaml] ********************************************
2017-11-20 16:01:55,810 p=37204 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 16:01:55,947 p=37204 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 16:01:56,174 p=37204 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-20 16:01:56,270 p=37204 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "f464c79c7ad512efb64da8700bbdd9eae5c7c880", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1254, 
    "state": "file", 
    "uid": 0
}
2017-11-20 16:01:57,200 p=37204 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ******
2017-11-20 16:01:57,203 p=37204 u=root |  TASK [Loading variable from vars dir] ******************************************
2017-11-20 16:01:57,203 p=37204 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 16:01:57,232 p=37204 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "10", 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "lun": 1, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "private_ip": "10.10.0.12", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.13", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 16:01:58,567 p=37204 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ***********************
2017-11-20 16:01:58,570 p=37204 u=root |  TASK [include_tasks] ***********************************************************
2017-11-20 16:01:58,570 p=37204 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 16:01:58,614 p=37204 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:01:58,622 p=37204 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:01:59,607 p=37204 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: *******************************
2017-11-20 16:01:59,610 p=37204 u=root |  TASK [debug] *******************************************************************
2017-11-20 16:01:59,611 p=37204 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 16:01:59,633 p=37204 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "lun": 0, 
                "size_gb": "10", 
                "type": "Standard_LRS"
            }, 
            {
                "lun": 1, 
                "size_gb": "20", 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.12", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 16:02:00,583 p=37204 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ************
2017-11-20 16:02:00,586 p=37204 u=root |  TASK [create network interface] ************************************************
2017-11-20 16:02:00,586 p=37204 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 16:02:00,605 p=37204 u=root |  fatal: [localhost]: FAILED! => {
    "failed": true, 
    "msg": "The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'private_ip_address'\n\nThe error appears to have been in '/root/ansible/playbook/task_vm_V1.yaml': line 9, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: create network interface\n    ^ here\n\nexception type: <class 'ansible.errors.AnsibleUndefinedVariable'>\nexception: 'dict object' has no attribute 'private_ip_address'"
}
2017-11-20 16:02:00,607 p=37204 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 16:02:00,607 p=37204 u=root |  PLAY RECAP *********************************************************************
2017-11-20 16:02:00,607 p=37204 u=root |  localhost                  : ok=5    changed=0    unreachable=0    failed=1   
2017-11-20 16:06:51,739 p=37586 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 16:06:51,739 p=37586 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 16:06:51,743 p=37586 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 16:06:51,743 p=37586 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 16:06:51,752 p=37586 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 16:06:51,752 p=37586 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 16:06:52,148 p=37586 u=root |  PLAYBOOK: bulk_vm_provision.yaml ***********************************************
2017-11-20 16:06:52,148 p=37586 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 16:06:52,160 p=37586 u=root |  PLAY [Bulk VM provisioning in Azure] *******************************************
2017-11-20 16:06:52,167 p=37586 u=root |  META: ran handlers
2017-11-20 16:06:53,140 p=37586 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ********
2017-11-20 16:06:53,144 p=37586 u=root |  TASK [Load .csv file to input.yaml] ********************************************
2017-11-20 16:06:53,144 p=37586 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 16:06:53,288 p=37586 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 16:06:53,506 p=37586 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-20 16:06:53,600 p=37586 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "f464c79c7ad512efb64da8700bbdd9eae5c7c880", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1254, 
    "state": "file", 
    "uid": 0
}
2017-11-20 16:06:54,582 p=37586 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: ******
2017-11-20 16:06:54,585 p=37586 u=root |  TASK [Loading variable from vars dir] ******************************************
2017-11-20 16:06:54,585 p=37586 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 16:06:54,616 p=37586 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "10", 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "lun": 1, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "private_ip": "10.10.0.12", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "lun": 0, 
                        "size_gb": "20", 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.13", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 16:06:55,814 p=37586 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: ***********************
2017-11-20 16:06:55,817 p=37586 u=root |  TASK [include_tasks] ***********************************************************
2017-11-20 16:06:55,817 p=37586 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 16:06:55,857 p=37586 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:06:55,865 p=37586 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:06:56,943 p=37586 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: *******************************
2017-11-20 16:06:56,946 p=37586 u=root |  TASK [debug] *******************************************************************
2017-11-20 16:06:56,946 p=37586 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 16:06:56,970 p=37586 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "lun": 0, 
                "size_gb": "10", 
                "type": "Standard_LRS"
            }, 
            {
                "lun": 1, 
                "size_gb": "20", 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.12", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 16:06:59,534 p=37586 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ************
2017-11-20 16:06:59,537 p=37586 u=root |  TASK [create network interface] ************************************************
2017-11-20 16:06:59,537 p=37586 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 16:06:59,684 p=37586 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 16:07:32,856 p=37586 u=root |  changed: [localhost] => {
    "changed": true, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic11", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": "10.10.0.12", 
            "private_ip_allocation_method": "Static", 
            "profile": null, 
            "public_ip": false, 
            "public_ip_address_name": null, 
            "public_ip_allocation_method": "Dynamic", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"31aa5f38-b248-4bb3-86cf-381f3cc0769f\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic11", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.12", 
            "private_ip_allocation_method": "Static", 
            "public_ip_address": {}, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "ansibletestnic11", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": null, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-20 16:08:05,613 p=37586 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: *******************************
2017-11-20 16:08:05,616 p=37586 u=root |  TASK [debug] *******************************************************************
2017-11-20 16:08:05,616 p=37586 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:23
2017-11-20 16:08:05,637 p=37586 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-20 16:08:05,641 p=37586 u=root |  TASK [create linux vm] *********************************************************
2017-11-20 16:08:05,641 p=37586 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:24
2017-11-20 16:08:05,830 p=37586 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-20 16:08:55,996 p=37586 u=root |  The full traceback is:
Traceback (most recent call last):
  File "/tmp/ansible_TtB9sy/ansible_module_azure_rm_virtualmachine.py", line 1554, in <module>
    main()
  File "/tmp/ansible_TtB9sy/ansible_module_azure_rm_virtualmachine.py", line 1551, in main
    AzureRMVirtualMachine()
  File "/tmp/ansible_TtB9sy/ansible_module_azure_rm_virtualmachine.py", line 651, in __init__
    supports_check_mode=True)
  File "/tmp/ansible_TtB9sy/ansible_modlib.zip/ansible/module_utils/azure_rm_common.py", line 256, in __init__
  File "/tmp/ansible_TtB9sy/ansible_module_azure_rm_virtualmachine.py", line 948, in exec_module
    disk_size_gb=data_disk['disk_size_gb'],
KeyError: 'disk_size_gb'

2017-11-20 16:08:55,997 p=37586 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "module_stderr": "Traceback (most recent call last):\n  File \"/tmp/ansible_TtB9sy/ansible_module_azure_rm_virtualmachine.py\", line 1554, in <module>\n    main()\n  File \"/tmp/ansible_TtB9sy/ansible_module_azure_rm_virtualmachine.py\", line 1551, in main\n    AzureRMVirtualMachine()\n  File \"/tmp/ansible_TtB9sy/ansible_module_azure_rm_virtualmachine.py\", line 651, in __init__\n    supports_check_mode=True)\n  File \"/tmp/ansible_TtB9sy/ansible_modlib.zip/ansible/module_utils/azure_rm_common.py\", line 256, in __init__\n  File \"/tmp/ansible_TtB9sy/ansible_module_azure_rm_virtualmachine.py\", line 948, in exec_module\n    disk_size_gb=data_disk['disk_size_gb'],\nKeyError: 'disk_size_gb'\n", 
    "module_stdout": "", 
    "msg": "MODULE FAILURE", 
    "rc": 0
}
2017-11-20 16:08:55,998 p=37586 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 16:08:55,998 p=37586 u=root |  PLAY RECAP *********************************************************************
2017-11-20 16:08:55,999 p=37586 u=root |  localhost                  : ok=7    changed=1    unreachable=0    failed=1   
2017-11-20 16:11:41,760 p=38048 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 16:11:41,760 p=38048 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 16:11:41,763 p=38048 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 16:11:41,763 p=38048 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 16:11:41,764 p=38048 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 16:11:41,764 p=38048 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 16:11:42,010 p=38048 u=root |  PLAYBOOK: bulk_vm_provision.yaml **************************************************************************************************************************************
2017-11-20 16:11:42,010 p=38048 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 16:11:42,021 p=38048 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-20 16:11:42,027 p=38048 u=root |  META: ran handlers
2017-11-20 16:11:43,134 p=38048 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-20 16:11:43,137 p=38048 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-20 16:11:43,137 p=38048 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 16:11:43,278 p=38048 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 16:11:43,513 p=38048 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/copy.py
2017-11-20 16:11:43,606 p=38048 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "472fe3dc7cb992ffc55f9a4be351020972f6a413", 
    "dest": "./vars/input_windows.yaml", 
    "diff": [], 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": false, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": null, 
            "local_follow": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1511194303.17-150430218171392/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "0708bea31c95f148c1569c8b8092a0bf", 
    "mode": "0644", 
    "owner": "root", 
    "size": 1308, 
    "src": "/root/.ansible/tmp/ansible-tmp-1511194303.17-150430218171392/source", 
    "state": "file", 
    "uid": 0
}
2017-11-20 16:11:44,597 p=38048 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-20 16:11:44,600 p=38048 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-20 16:11:44,600 p=38048 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 16:11:44,630 p=38048 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "10", 
                        "lun": 0, 
                        "managed_disk_type": "Standard_LRS"
                    }, 
                    {
                        "disk_size_gb": "20", 
                        "lun": 1, 
                        "managed_disk_type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "private_ip": "10.10.0.12", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "20", 
                        "lun": 0, 
                        "managed_disk_type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.13", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 16:11:45,629 p=38048 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: **************************************************************************************************************
2017-11-20 16:11:45,632 p=38048 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-20 16:11:45,632 p=38048 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 16:11:45,675 p=38048 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:11:45,683 p=38048 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:11:46,613 p=38048 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-20 16:11:46,616 p=38048 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-20 16:11:46,616 p=38048 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 16:11:46,639 p=38048 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "managed_disk_type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "managed_disk_type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.12", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 16:11:47,942 p=38048 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ***************************************************************************************************
2017-11-20 16:11:47,945 p=38048 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-20 16:11:47,946 p=38048 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 16:11:48,098 p=38048 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 16:11:50,171 p=38048 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic11", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": "10.10.0.12", 
            "private_ip_allocation_method": "Static", 
            "profile": null, 
            "public_ip": false, 
            "public_ip_address_name": null, 
            "public_ip_allocation_method": "Dynamic", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"31aa5f38-b248-4bb3-86cf-381f3cc0769f\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic11", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.12", 
            "private_ip_allocation_method": "Static", 
            "public_ip_address": {}, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "ansibletestnic11", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-20 16:11:51,381 p=38048 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-20 16:11:51,384 p=38048 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-20 16:11:51,384 p=38048 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:23
2017-11-20 16:11:51,405 p=38048 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-20 16:11:52,845 p=38048 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ************************************************************************************************************
2017-11-20 16:11:52,849 p=38048 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-20 16:11:52,849 p=38048 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:24
2017-11-20 16:11:53,294 p=38048 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-20 16:11:57,660 p=38048 u=root |  The full traceback is:
  File "/tmp/ansible_anSQFX/ansible_module_azure_rm_virtualmachine.py", line 1353, in create_or_update_vm
    poller = self.compute_client.virtual_machines.create_or_update(self.resource_group, self.name, params)
  File "/usr/local/lib/python2.7/dist-packages/azure/mgmt/compute/compute/v2017_03_30/operations/virtual_machines_operations.py", line 232, in create_or_update
    get_long_running_status, long_running_operation_timeout)
  File "/usr/local/lib/python2.7/dist-packages/msrestazure/azure_operation.py", line 350, in __init__
    raise CloudError(self._response)

2017-11-20 16:11:57,662 p=38048 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": null, 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": [
                {
                    "caching": "ReadOnly", 
                    "disk_size_gb": "10", 
                    "lun": 0, 
                    "managed_disk_type": "Standard_LRS"
                }, 
                {
                    "caching": "ReadOnly", 
                    "disk_size_gb": "20", 
                    "lun": 1, 
                    "managed_disk_type": "Standard_LRS"
                }
            ], 
            "image": {
                "offer": "UbuntuServer", 
                "publisher": "Canonical", 
                "sku": "16.04-LTS", 
                "version": "16.04.201711160"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest11", 
            "network_interface_names": [
                "ansibletestnic11"
            ], 
            "network_interfaces": "ansibletestnic11", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Linux", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "msg": "Error creating or updating virtual machine ansibletest11 - Azure Error: OperationNotAllowed\nMessage: Addition of a managed disk to a VM with blob based disks is not supported.\nTarget: dataDisk"
}
2017-11-20 16:11:57,665 p=38048 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 16:11:57,665 p=38048 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-20 16:11:57,665 p=38048 u=root |  localhost                  : ok=7    changed=1    unreachable=0    failed=1   
2017-11-20 16:12:26,882 p=38209 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 16:12:26,882 p=38209 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 16:12:26,885 p=38209 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 16:12:26,885 p=38209 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 16:12:26,887 p=38209 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 16:12:26,887 p=38209 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 16:12:27,144 p=38209 u=root |  PLAYBOOK: bulk_vm_provision.yaml **************************************************************************************************************************************
2017-11-20 16:12:27,145 p=38209 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 16:12:27,156 p=38209 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-20 16:12:27,162 p=38209 u=root |  META: ran handlers
2017-11-20 16:12:27,765 p=38209 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-20 16:12:27,768 p=38209 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-20 16:12:27,768 p=38209 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 16:12:27,912 p=38209 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 16:12:28,127 p=38209 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/copy.py
2017-11-20 16:12:28,219 p=38209 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "7691b76a7031fa34c7d9d048d7ff69edf52b58d9", 
    "dest": "./vars/input_windows.yaml", 
    "diff": [], 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": false, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": null, 
            "local_follow": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1511194347.81-255968050662876/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "10e7999ed54d5127f22d3b1be878533c", 
    "mode": "0644", 
    "owner": "root", 
    "size": 1269, 
    "src": "/root/.ansible/tmp/ansible-tmp-1511194347.81-255968050662876/source", 
    "state": "file", 
    "uid": 0
}
2017-11-20 16:12:28,223 p=38209 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-20 16:12:28,223 p=38209 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 16:12:28,251 p=38209 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "10", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "disk_size_gb": "20", 
                        "lun": 1, 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "private_ip": "10.10.0.12", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "20", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.13", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 16:12:28,256 p=38209 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-20 16:12:28,256 p=38209 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 16:12:28,295 p=38209 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:12:28,302 p=38209 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:12:28,307 p=38209 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-20 16:12:28,307 p=38209 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 16:12:28,330 p=38209 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.12", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 16:12:28,333 p=38209 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-20 16:12:28,333 p=38209 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 16:12:28,476 p=38209 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 16:12:30,587 p=38209 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic11", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": "10.10.0.12", 
            "private_ip_allocation_method": "Static", 
            "profile": null, 
            "public_ip": false, 
            "public_ip_address_name": null, 
            "public_ip_allocation_method": "Dynamic", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"31aa5f38-b248-4bb3-86cf-381f3cc0769f\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic11", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.12", 
            "private_ip_allocation_method": "Static", 
            "public_ip_address": {}, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "ansibletestnic11", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-20 16:12:30,591 p=38209 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-20 16:12:30,591 p=38209 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:23
2017-11-20 16:12:30,610 p=38209 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-20 16:12:30,614 p=38209 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-20 16:12:30,614 p=38209 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:24
2017-11-20 16:12:30,816 p=38209 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-20 16:13:52,499 p=38209 u=root |  The full traceback is:
  File "/tmp/ansible_ThYByo/ansible_module_azure_rm_virtualmachine.py", line 1354, in create_or_update_vm
    self.get_poller_result(poller)
  File "/tmp/ansible_ThYByo/ansible_modlib.zip/ansible/module_utils/azure_rm_common.py", line 490, in get_poller_result
    poller.wait(timeout=delay)
  File "/usr/local/lib/python2.7/dist-packages/msrestazure/azure_operation.py", line 501, in wait
    raise self._exception

2017-11-20 16:13:52,502 p=38209 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": null, 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": [
                {
                    "caching": "ReadOnly", 
                    "disk_size_gb": "10", 
                    "lun": 0, 
                    "storage_blob_name": "ansibletest11-data-0.vhd", 
                    "storage_container_name": "vhds", 
                    "type": "Standard_LRS"
                }, 
                {
                    "caching": "ReadOnly", 
                    "disk_size_gb": "20", 
                    "lun": 1, 
                    "storage_blob_name": "ansibletest11-data-1.vhd", 
                    "storage_container_name": "vhds", 
                    "type": "Standard_LRS"
                }
            ], 
            "image": {
                "offer": "UbuntuServer", 
                "publisher": "Canonical", 
                "sku": "16.04-LTS", 
                "version": "16.04.201711160"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest11", 
            "network_interface_names": [
                "ansibletestnic11"
            ], 
            "network_interfaces": "ansibletestnic11", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Linux", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "msg": "Error creating or updating virtual machine ansibletest11 - Azure Error: TargetDiskBlobAlreadyExists\nMessage: Blob https://ansibletestvm13934.blob.core.windows.net/vhds/ansibletest11.vhd already exists. Please provide a different blob URI as target for disk 'ansibletest11.vhd'."
}
2017-11-20 16:13:52,504 p=38209 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 16:13:52,505 p=38209 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-20 16:13:52,505 p=38209 u=root |  localhost                  : ok=7    changed=1    unreachable=0    failed=1   
2017-11-20 16:16:08,993 p=38509 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 16:16:08,993 p=38509 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 16:16:08,996 p=38509 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 16:16:08,996 p=38509 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 16:16:08,998 p=38509 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 16:16:08,998 p=38509 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 16:16:09,240 p=38509 u=root |  PLAYBOOK: bulk_vm_provision.yaml **************************************************************************************************************************************
2017-11-20 16:16:09,241 p=38509 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 16:16:09,252 p=38509 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-20 16:16:09,258 p=38509 u=root |  META: ran handlers
2017-11-20 16:16:09,966 p=38509 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-20 16:16:09,970 p=38509 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-20 16:16:09,970 p=38509 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 16:16:10,108 p=38509 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 16:16:10,320 p=38509 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-20 16:16:10,413 p=38509 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "7691b76a7031fa34c7d9d048d7ff69edf52b58d9", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1269, 
    "state": "file", 
    "uid": 0
}
2017-11-20 16:16:10,418 p=38509 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-20 16:16:10,418 p=38509 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 16:16:10,445 p=38509 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "10", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "disk_size_gb": "20", 
                        "lun": 1, 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "private_ip": "10.10.0.12", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "20", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.13", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 16:16:10,449 p=38509 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-20 16:16:10,449 p=38509 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 16:16:10,487 p=38509 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:16:10,495 p=38509 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:16:10,499 p=38509 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-20 16:16:10,499 p=38509 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 16:16:10,528 p=38509 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.12", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 16:16:10,532 p=38509 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-20 16:16:10,532 p=38509 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 16:16:10,672 p=38509 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 16:16:12,749 p=38509 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic11", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": "10.10.0.12", 
            "private_ip_allocation_method": "Static", 
            "profile": null, 
            "public_ip": false, 
            "public_ip_address_name": null, 
            "public_ip_allocation_method": "Dynamic", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"31aa5f38-b248-4bb3-86cf-381f3cc0769f\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic11", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.12", 
            "private_ip_allocation_method": "Static", 
            "public_ip_address": {}, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "ansibletestnic11", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-20 16:16:12,755 p=38509 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-20 16:16:12,755 p=38509 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:23
2017-11-20 16:16:12,774 p=38509 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-20 16:16:12,778 p=38509 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-20 16:16:12,778 p=38509 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:24
2017-11-20 16:16:12,975 p=38509 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-20 16:16:17,207 p=38509 u=root |  The full traceback is:
  File "/tmp/ansible_bAUGcn/ansible_module_azure_rm_virtualmachine.py", line 1346, in get_storage_account
    name)
  File "/usr/local/lib/python2.7/dist-packages/azure/mgmt/storage/v2017_06_01/operations/storage_accounts_operations.py", line 326, in get_properties
    raise exp

2017-11-20 16:16:17,210 p=38509 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": null, 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": [
                {
                    "disk_size_gb": "10", 
                    "lun": 0, 
                    "type": "Standard_LRS"
                }, 
                {
                    "disk_size_gb": "20", 
                    "lun": 1, 
                    "type": "Standard_LRS"
                }
            ], 
            "image": {
                "offer": "UbuntuServer", 
                "publisher": "Canonical", 
                "sku": "16.04-LTS", 
                "version": "16.04.201711160"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest11", 
            "network_interface_names": [
                "ansibletestnic11"
            ], 
            "network_interfaces": "ansibletestnic11", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Linux", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "msg": "Error fetching storage account ansibletestvm13934 - Azure Error: ResourceNotFound\nMessage: The Resource 'Microsoft.Storage/storageAccounts/ansibletestvm13934' under resource group 'ansible' was not found."
}
2017-11-20 16:16:17,213 p=38509 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 16:16:17,213 p=38509 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-20 16:16:17,213 p=38509 u=root |  localhost                  : ok=7    changed=0    unreachable=0    failed=1   
2017-11-20 16:18:02,889 p=38717 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-20 16:18:02,890 p=38717 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-20 16:18:02,893 p=38717 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-20 16:18:02,893 p=38717 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-20 16:18:02,894 p=38717 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-20 16:18:02,894 p=38717 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-20 16:18:03,141 p=38717 u=root |  PLAYBOOK: bulk_vm_provision.yaml **************************************************************************************************************************************
2017-11-20 16:18:03,142 p=38717 u=root |  1 plays in bulk_vm_provision.yaml
2017-11-20 16:18:03,153 p=38717 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-20 16:18:03,160 p=38717 u=root |  META: ran handlers
2017-11-20 16:18:03,596 p=38717 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-20 16:18:03,599 p=38717 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-20 16:18:03,599 p=38717 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:17
2017-11-20 16:18:03,744 p=38717 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-20 16:18:03,970 p=38717 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-20 16:18:04,066 p=38717 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "7691b76a7031fa34c7d9d048d7ff69edf52b58d9", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 1269, 
    "state": "file", 
    "uid": 0
}
2017-11-20 16:18:11,068 p=38717 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-20 16:18:11,071 p=38717 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-20 16:18:11,071 p=38717 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:23
2017-11-20 16:18:11,101 p=38717 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "10", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }, 
                    {
                        "disk_size_gb": "20", 
                        "lun": 1, 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic11", 
                "os_type": "Linux", 
                "private_ip": "10.10.0.12", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "UbuntuServer", 
                "vm_image_publisher": "Canonical", 
                "vm_image_sku": "16.04-LTS", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest11", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }, 
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "20", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }
                ], 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic12", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.13", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "subnet_name": "ansible_test_subnet1", 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest12", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-20 16:18:11,106 p=38717 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-20 16:18:11,106 p=38717 u=root |  task path: /root/ansible/playbook/bulk_vm_provision.yaml:28
2017-11-20 16:18:11,146 p=38717 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:18:11,153 p=38717 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-20 16:18:11,157 p=38717 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-20 16:18:11,157 p=38717 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-20 16:18:11,189 p=38717 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.12", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-20 16:18:11,195 p=38717 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-20 16:18:11,195 p=38717 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-20 16:18:11,338 p=38717 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-20 16:18:14,317 p=38717 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic11", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": "10.10.0.12", 
            "private_ip_allocation_method": "Static", 
            "profile": null, 
            "public_ip": false, 
            "public_ip_address_name": null, 
            "public_ip_allocation_method": "Dynamic", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"31aa5f38-b248-4bb3-86cf-381f3cc0769f\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic11", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.12", 
            "private_ip_allocation_method": "Static", 
            "public_ip_address": {}, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": null, 
        "name": "ansibletestnic11", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": null, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-20 16:18:14,322 p=38717 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-20 16:18:14,322 p=38717 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:23
2017-11-20 16:18:14,342 p=38717 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-20 16:18:14,346 p=38717 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-20 16:18:14,347 p=38717 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:24
2017-11-20 16:18:14,548 p=38717 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-20 16:18:19,358 p=38717 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": null, 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": [
                {
                    "disk_size_gb": "10", 
                    "lun": 0, 
                    "type": "Standard_LRS"
                }, 
                {
                    "disk_size_gb": "20", 
                    "lun": 1, 
                    "type": "Standard_LRS"
                }
            ], 
            "image": {
                "offer": "UbuntuServer", 
                "publisher": "Canonical", 
                "sku": "16.04-LTS", 
                "version": "16.04.201711160"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest11", 
            "network_interface_names": [
                "ansibletestnic11"
            ], 
            "network_interfaces": "ansibletestnic11", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Linux", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": false, 
            "ssh_public_keys": [
                {
                    "key_data": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
                    "path": "/home/amansyed/.ssh/authorized_keys"
                }
            ], 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "msg": "Error ansibletest11 has a provisioning state of Failed. Expecting state to be Succeeded."
}
2017-11-20 16:18:19,361 p=38717 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-20 16:18:19,361 p=38717 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-20 16:18:19,362 p=38717 u=root |  localhost                  : ok=7    changed=0    unreachable=0    failed=1   
2017-11-21 06:49:54,336 p=4169 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 06:49:54,341 p=4169 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 06:49:54,342 p=4169 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 06:49:54,343 p=4169 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 06:49:55,279 p=4169 u=root |  PLAY [Bulk VM provisioning in Azure] *******************************************
2017-11-21 06:49:55,375 p=4169 u=root |  TASK [Load .csv file to input.yaml] ********************************************
2017-11-21 06:49:56,034 p=4169 u=root |  ok: [localhost]
2017-11-21 06:49:56,043 p=4169 u=root |  TASK [Loading variable from vars dir] ******************************************
2017-11-21 06:49:56,081 p=4169 u=root |  ok: [localhost]
2017-11-21 06:49:56,087 p=4169 u=root |  TASK [include_tasks] ***********************************************************
2017-11-21 06:49:56,133 p=4169 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 06:49:56,142 p=4169 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 06:49:56,150 p=4169 u=root |  TASK [debug] *******************************************************************
2017-11-21 06:49:56,173 p=4169 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.12", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 06:49:56,179 p=4169 u=root |  TASK [create network interface] ************************************************
2017-11-21 06:50:30,858 p=4169 u=root |  changed: [localhost]
2017-11-21 06:50:30,865 p=4169 u=root |  TASK [debug] *******************************************************************
2017-11-21 06:50:30,891 p=4169 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 06:50:30,895 p=4169 u=root |  TASK [create linux vm] *********************************************************
2017-11-21 06:53:21,710 p=4169 u=root |  changed: [localhost]
2017-11-21 06:53:21,716 p=4169 u=root |  TASK [create windows vm] *******************************************************
2017-11-21 06:53:21,732 p=4169 u=root |  skipping: [localhost]
2017-11-21 06:53:21,735 p=4169 u=root |  TASK [debug] *******************************************************************
2017-11-21 06:53:21,758 p=4169 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "20", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.13", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 06:53:21,762 p=4169 u=root |  TASK [create network interface] ************************************************
2017-11-21 06:53:54,515 p=4169 u=root |  changed: [localhost]
2017-11-21 06:53:54,521 p=4169 u=root |  TASK [debug] *******************************************************************
2017-11-21 06:53:54,548 p=4169 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-21 06:53:54,553 p=4169 u=root |  TASK [create linux vm] *********************************************************
2017-11-21 06:53:54,567 p=4169 u=root |  skipping: [localhost]
2017-11-21 06:53:54,571 p=4169 u=root |  TASK [create windows vm] *******************************************************
2017-11-21 06:53:57,489 p=4169 u=root |  An exception occurred during task execution. To see the full traceback, use -vvv. The error was: AttributeError: 'AzureRMVirtualMachine' object has no attribute 'error'
2017-11-21 06:53:57,490 p=4169 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "module_stderr": "Traceback (most recent call last):\n  File \"/tmp/ansible_S2fg30/ansible_module_azure_rm_virtualmachine.py\", line 1554, in <module>\n    main()\n  File \"/tmp/ansible_S2fg30/ansible_module_azure_rm_virtualmachine.py\", line 1551, in main\n    AzureRMVirtualMachine()\n  File \"/tmp/ansible_S2fg30/ansible_module_azure_rm_virtualmachine.py\", line 651, in __init__\n    supports_check_mode=True)\n  File \"/tmp/ansible_S2fg30/ansible_modlib.zip/ansible/module_utils/azure_rm_common.py\", line 256, in __init__\n  File \"/tmp/ansible_S2fg30/ansible_module_azure_rm_virtualmachine.py\", line 701, in exec_module\n    self.error(\"parameter error: expecting image to contain publisher, offer, sku and version keys.\")\nAttributeError: 'AzureRMVirtualMachine' object has no attribute 'error'\n", "module_stdout": "", "msg": "MODULE FAILURE", "rc": 0}
2017-11-21 06:53:57,493 p=4169 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 06:53:57,493 p=4169 u=root |  PLAY RECAP *********************************************************************
2017-11-21 06:53:57,493 p=4169 u=root |  localhost                  : ok=11   changed=3    unreachable=0    failed=1   
2017-11-21 06:57:35,814 p=4768 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 06:57:35,814 p=4768 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 06:57:35,815 p=4768 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 06:57:35,815 p=4768 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 06:57:36,083 p=4768 u=root |  PLAY [Bulk VM provisioning in Azure] *******************************************
2017-11-21 06:57:36,094 p=4768 u=root |  TASK [Load .csv file to input.yaml] ********************************************
2017-11-21 06:57:36,552 p=4768 u=root |  ok: [localhost]
2017-11-21 06:57:36,558 p=4768 u=root |  TASK [Loading variable from vars dir] ******************************************
2017-11-21 06:57:36,590 p=4768 u=root |  ok: [localhost]
2017-11-21 06:57:36,596 p=4768 u=root |  TASK [include_tasks] ***********************************************************
2017-11-21 06:57:36,630 p=4768 u=root |  fatal: [localhost]: FAILED! => {"failed": true, "reason": "Syntax Error while loading YAML.\n\n\nThe error appears to have been in '/root/ansible/playbook/task_vm_V1.yaml': line 63, column 8, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n        sku: \"{{outer_item.vm_image_sku}}\"\n       version: \"{{outer_item.vm_image_version}}\"\n       ^ here\nWe could be wrong, but this one looks like it might be an issue with\nmissing quotes.  Always quote template expression brackets when they\nstart a value. For instance:\n\n    with_items:\n      - {{ foo }}\n\nShould be written as:\n\n    with_items:\n      - \"{{ foo }}\"\n\nexception type: <class 'yaml.parser.ParserError'>\nexception: while parsing a block mapping\n  in \"<unicode string>\", line 48, column 7:\n          resource_group: ansible\n          ^\nexpected <block end>, but found '<block mapping start>'\n  in \"<unicode string>\", line 63, column 8:\n           version: \"{{outer_item.vm_image_ ... \n           ^"}
2017-11-21 06:57:36,639 p=4768 u=root |  fatal: [localhost]: FAILED! => {"failed": true, "reason": "Syntax Error while loading YAML.\n\n\nThe error appears to have been in '/root/ansible/playbook/task_vm_V1.yaml': line 63, column 8, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n        sku: \"{{outer_item.vm_image_sku}}\"\n       version: \"{{outer_item.vm_image_version}}\"\n       ^ here\nWe could be wrong, but this one looks like it might be an issue with\nmissing quotes.  Always quote template expression brackets when they\nstart a value. For instance:\n\n    with_items:\n      - {{ foo }}\n\nShould be written as:\n\n    with_items:\n      - \"{{ foo }}\"\n\nexception type: <class 'yaml.parser.ParserError'>\nexception: while parsing a block mapping\n  in \"<unicode string>\", line 48, column 7:\n          resource_group: ansible\n          ^\nexpected <block end>, but found '<block mapping start>'\n  in \"<unicode string>\", line 63, column 8:\n           version: \"{{outer_item.vm_image_ ... \n           ^"}
2017-11-21 06:57:36,640 p=4768 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 06:57:36,640 p=4768 u=root |  PLAY RECAP *********************************************************************
2017-11-21 06:57:36,640 p=4768 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=2   
2017-11-21 07:03:09,345 p=5130 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 07:03:09,345 p=5130 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 07:03:09,346 p=5130 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 07:03:09,346 p=5130 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 07:03:09,585 p=5130 u=root |  PLAY [Bulk VM provisioning in Azure] *******************************************
2017-11-21 07:03:09,594 p=5130 u=root |  TASK [Load .csv file to input.yaml] ********************************************
2017-11-21 07:03:10,035 p=5130 u=root |  ok: [localhost]
2017-11-21 07:03:10,038 p=5130 u=root |  TASK [Loading variable from vars dir] ******************************************
2017-11-21 07:03:10,064 p=5130 u=root |  ok: [localhost]
2017-11-21 07:03:10,068 p=5130 u=root |  TASK [include_tasks] ***********************************************************
2017-11-21 07:03:10,105 p=5130 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 07:03:10,112 p=5130 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 07:03:10,116 p=5130 u=root |  TASK [debug] *******************************************************************
2017-11-21 07:03:10,135 p=5130 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.12", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 07:03:10,139 p=5130 u=root |  TASK [create network interface] ************************************************
2017-11-21 07:03:12,605 p=5130 u=root |  ok: [localhost]
2017-11-21 07:03:12,610 p=5130 u=root |  TASK [debug] *******************************************************************
2017-11-21 07:03:12,630 p=5130 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 07:03:12,635 p=5130 u=root |  TASK [create linux vm] *********************************************************
2017-11-21 07:03:17,938 p=5130 u=root |  ok: [localhost]
2017-11-21 07:03:17,943 p=5130 u=root |  TASK [create windows vm] *******************************************************
2017-11-21 07:03:17,958 p=5130 u=root |  skipping: [localhost]
2017-11-21 07:03:17,962 p=5130 u=root |  TASK [debug] *******************************************************************
2017-11-21 07:03:17,980 p=5130 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "20", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.13", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 07:03:17,985 p=5130 u=root |  TASK [create network interface] ************************************************
2017-11-21 07:03:19,747 p=5130 u=root |  ok: [localhost]
2017-11-21 07:03:19,753 p=5130 u=root |  TASK [debug] *******************************************************************
2017-11-21 07:03:19,777 p=5130 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-21 07:03:19,781 p=5130 u=root |  TASK [create linux vm] *********************************************************
2017-11-21 07:03:19,794 p=5130 u=root |  skipping: [localhost]
2017-11-21 07:03:19,798 p=5130 u=root |  TASK [create windows vm] *******************************************************
2017-11-21 07:06:40,055 p=5130 u=root |  changed: [localhost]
2017-11-21 07:06:40,058 p=5130 u=root |  PLAY RECAP *********************************************************************
2017-11-21 07:06:40,059 p=5130 u=root |  localhost                  : ok=12   changed=1    unreachable=0    failed=0   
2017-11-21 09:58:28,319 p=14073 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 09:58:28,319 p=14073 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 09:58:28,320 p=14073 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 09:58:28,321 p=14073 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 09:58:28,555 p=14073 u=root |  PLAY [Bulk VM provisioning in Azure] *************************************************************************************************************************************************************
2017-11-21 09:58:28,563 p=14073 u=root |  TASK [Load .csv file to input.yaml] **************************************************************************************************************************************************************
2017-11-21 09:58:28,979 p=14073 u=root |  changed: [localhost]
2017-11-21 09:58:28,983 p=14073 u=root |  TASK [Loading variable from vars dir] ************************************************************************************************************************************************************
2017-11-21 09:58:29,005 p=14073 u=root |  ok: [localhost]
2017-11-21 09:58:29,008 p=14073 u=root |  TASK [include_tasks] *****************************************************************************************************************************************************************************
2017-11-21 09:58:29,039 p=14073 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 09:58:29,043 p=14073 u=root |  TASK [debug] *************************************************************************************************************************************************************************************
2017-11-21 09:58:29,062 p=14073 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.14", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 09:58:29,065 p=14073 u=root |  TASK [create network interface] ******************************************************************************************************************************************************************
2017-11-21 09:59:02,111 p=14073 u=root |  changed: [localhost]
2017-11-21 09:59:02,117 p=14073 u=root |  TASK [debug] *************************************************************************************************************************************************************************************
2017-11-21 09:59:02,140 p=14073 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 09:59:02,145 p=14073 u=root |  TASK [create linux vm] ***************************************************************************************************************************************************************************
2017-11-21 10:00:21,567 p=14073 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error creating or updating virtual machine ansibletest11 - Azure Error: TargetDiskBlobAlreadyExists\nMessage: Blob https://ansibletestvm13934.blob.core.windows.net/vhds/ansibletest11.vhd already exists. Please provide a different blob URI as target for disk 'ansibletest11.vhd'."}
2017-11-21 10:00:21,569 p=14073 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 10:00:21,569 p=14073 u=root |  PLAY RECAP ***************************************************************************************************************************************************************************************
2017-11-21 10:00:21,570 p=14073 u=root |  localhost                  : ok=6    changed=2    unreachable=0    failed=1   
2017-11-21 10:01:52,241 p=14361 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:01:52,241 p=14361 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:01:52,242 p=14361 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:01:52,242 p=14361 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:01:52,488 p=14361 u=root |  PLAY [Bulk VM provisioning in Azure] *************************************************************************************************************************************************************
2017-11-21 10:01:52,503 p=14361 u=root |  TASK [Load .csv file to input.yaml] **************************************************************************************************************************************************************
2017-11-21 10:01:52,914 p=14361 u=root |  ok: [localhost]
2017-11-21 10:01:52,918 p=14361 u=root |  TASK [Loading variable from vars dir] ************************************************************************************************************************************************************
2017-11-21 10:01:52,940 p=14361 u=root |  ok: [localhost]
2017-11-21 10:01:52,944 p=14361 u=root |  TASK [include_tasks] *****************************************************************************************************************************************************************************
2017-11-21 10:01:52,975 p=14361 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 10:01:52,979 p=14361 u=root |  TASK [debug] *************************************************************************************************************************************************************************************
2017-11-21 10:01:52,999 p=14361 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.14", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 10:01:53,002 p=14361 u=root |  TASK [create network interface] ******************************************************************************************************************************************************************
2017-11-21 10:01:55,534 p=14361 u=root |  changed: [localhost]
2017-11-21 10:01:55,540 p=14361 u=root |  TASK [debug] *************************************************************************************************************************************************************************************
2017-11-21 10:01:55,561 p=14361 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 10:01:55,566 p=14361 u=root |  TASK [create linux vm] ***************************************************************************************************************************************************************************
2017-11-21 10:01:59,384 p=14361 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error ansibletest11 has a provisioning state of Failed. Expecting state to be Succeeded."}
2017-11-21 10:01:59,389 p=14361 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 10:01:59,389 p=14361 u=root |  PLAY RECAP ***************************************************************************************************************************************************************************************
2017-11-21 10:01:59,390 p=14361 u=root |  localhost                  : ok=6    changed=1    unreachable=0    failed=1   
2017-11-21 10:02:54,134 p=14519 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:02:54,135 p=14519 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:02:54,136 p=14519 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:02:54,136 p=14519 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:02:54,370 p=14519 u=root |  PLAY [Bulk VM provisioning in Azure] *************************************************************************************************************************************************************
2017-11-21 10:02:54,379 p=14519 u=root |  TASK [Load .csv file to input.yaml] **************************************************************************************************************************************************************
2017-11-21 10:02:54,798 p=14519 u=root |  ok: [localhost]
2017-11-21 10:02:54,802 p=14519 u=root |  TASK [Loading variable from vars dir] ************************************************************************************************************************************************************
2017-11-21 10:02:54,824 p=14519 u=root |  ok: [localhost]
2017-11-21 10:02:54,827 p=14519 u=root |  TASK [include_tasks] *****************************************************************************************************************************************************************************
2017-11-21 10:02:54,858 p=14519 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 10:02:54,863 p=14519 u=root |  TASK [debug] *************************************************************************************************************************************************************************************
2017-11-21 10:02:54,881 p=14519 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic11", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.14", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest11", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 10:02:54,885 p=14519 u=root |  TASK [create network interface] ******************************************************************************************************************************************************************
2017-11-21 10:02:57,092 p=14519 u=root |  changed: [localhost]
2017-11-21 10:02:57,097 p=14519 u=root |  TASK [debug] *************************************************************************************************************************************************************************************
2017-11-21 10:02:57,119 p=14519 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 10:02:57,122 p=14519 u=root |  TASK [create linux vm] ***************************************************************************************************************************************************************************
2017-11-21 10:05:46,640 p=14519 u=root |  changed: [localhost]
2017-11-21 10:05:46,647 p=14519 u=root |  TASK [create windows vm] *************************************************************************************************************************************************************************
2017-11-21 10:05:46,661 p=14519 u=root |  skipping: [localhost]
2017-11-21 10:05:46,663 p=14519 u=root |  PLAY RECAP ***************************************************************************************************************************************************************************************
2017-11-21 10:05:46,663 p=14519 u=root |  localhost                  : ok=7    changed=2    unreachable=0    failed=0   
2017-11-21 10:06:52,003 p=14847 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:06:52,003 p=14847 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:06:52,004 p=14847 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:06:52,004 p=14847 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:06:52,273 p=14847 u=root |  PLAY [Bulk VM provisioning in Azure] *************************************************************************************************************************************************************
2017-11-21 10:06:52,282 p=14847 u=root |  TASK [Load .csv file to input.yaml] **************************************************************************************************************************************************************
2017-11-21 10:06:52,705 p=14847 u=root |  changed: [localhost]
2017-11-21 10:06:52,710 p=14847 u=root |  TASK [Loading variable from vars dir] ************************************************************************************************************************************************************
2017-11-21 10:06:52,732 p=14847 u=root |  ok: [localhost]
2017-11-21 10:06:52,736 p=14847 u=root |  TASK [include_tasks] *****************************************************************************************************************************************************************************
2017-11-21 10:06:52,772 p=14847 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 10:06:52,776 p=14847 u=root |  TASK [debug] *************************************************************************************************************************************************************************************
2017-11-21 10:06:52,798 p=14847 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Linux", 
        "private_ip": "", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 10:06:52,801 p=14847 u=root |  TASK [create network interface] ******************************************************************************************************************************************************************
2017-11-21 10:07:25,573 p=14847 u=root |  changed: [localhost]
2017-11-21 10:07:25,578 p=14847 u=root |  TASK [debug] *************************************************************************************************************************************************************************************
2017-11-21 10:07:25,601 p=14847 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 10:07:25,605 p=14847 u=root |  TASK [create linux vm] ***************************************************************************************************************************************************************************
2017-11-21 10:07:30,213 p=14847 u=root |   [ERROR]: User interrupted execution

2017-11-21 10:16:10,764 p=15413 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:16:10,765 p=15413 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:16:10,766 p=15413 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:16:10,766 p=15413 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:16:11,002 p=15413 u=root |  PLAY [Bulk VM provisioning in Azure] *************************************************************************************************************************************************************
2017-11-21 10:16:11,011 p=15413 u=root |  TASK [Load .csv file to input.yaml] **************************************************************************************************************************************************************
2017-11-21 10:16:11,420 p=15413 u=root |  ok: [localhost]
2017-11-21 10:16:11,424 p=15413 u=root |  TASK [Loading variable from vars dir] ************************************************************************************************************************************************************
2017-11-21 10:16:11,445 p=15413 u=root |  ok: [localhost]
2017-11-21 10:16:11,448 p=15413 u=root |  TASK [include_tasks] *****************************************************************************************************************************************************************************
2017-11-21 10:16:11,479 p=15413 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 10:16:11,483 p=15413 u=root |  TASK [debug] *************************************************************************************************************************************************************************************
2017-11-21 10:16:11,502 p=15413 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Linux", 
        "private_ip": "", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 10:16:11,505 p=15413 u=root |  TASK [create network interface] ******************************************************************************************************************************************************************
2017-11-21 10:16:48,097 p=15413 u=root |  changed: [localhost]
2017-11-21 10:16:48,103 p=15413 u=root |  TASK [debug] *************************************************************************************************************************************************************************************
2017-11-21 10:16:48,126 p=15413 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 10:16:48,131 p=15413 u=root |  TASK [create linux vm] ***************************************************************************************************************************************************************************
2017-11-21 10:19:09,897 p=15413 u=root |  changed: [localhost]
2017-11-21 10:19:09,903 p=15413 u=root |  TASK [create windows vm] *************************************************************************************************************************************************************************
2017-11-21 10:19:09,918 p=15413 u=root |  skipping: [localhost]
2017-11-21 10:19:09,920 p=15413 u=root |  PLAY RECAP ***************************************************************************************************************************************************************************************
2017-11-21 10:19:09,920 p=15413 u=root |  localhost                  : ok=7    changed=2    unreachable=0    failed=0   
2017-11-21 10:31:42,072 p=16355 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:31:42,072 p=16355 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:31:42,073 p=16355 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:31:42,073 p=16355 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:31:42,318 p=16355 u=root |  PLAY [Test CSV to List] ***********************************************************************************************************************************************
2017-11-21 10:31:42,326 p=16355 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:31:42,347 p=16355 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,private_ip_address,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks,tags\nansibletest12,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,,Dynamic,ansible_test_SG1,ansibletestnic12,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,10:Standard_LRS;20:Standard_LRS,webserver:production"
}
2017-11-21 10:31:42,350 p=16355 u=root |  TASK [CSV to Yaml] ****************************************************************************************************************************************************
2017-11-21 10:31:42,381 p=16355 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "AnsibleError: template error while templating string: Encountered unknown tag 'endif'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'endfor' or 'else'. The innermost block that needs to be closed is 'for'.. String: ---\ninput:\n{% for item in csvfile.split(\"\\n\") %}\n{%   if loop.index != 1 %}\n{%     set list = item.split(\",\") %}\n  - vm_name: '{{ list[0]|trim() }}'\n    resource_group: '{{ list[1]|trim() }}'\n    vnet_name: '{{ list[2]|trim() }}'\n    subnet_name: '{{ list[3]|trim() }}'\n    os_type: '{{ list[4]|trim() }}'\n    private_ip: '{{ list[5]|trim() }}'\n    ip_allocation: '{{ list[6]|trim() }}'\n    security_group_name: '{{ list[7]|trim() }}'\n    network_interface_name: '{{ list[8]|trim() }}'\n    vm_size: '{{ list[9]|trim() }}'\n    admin_username: '{{ list[10]|trim() }}'\n    vm_image_offer: '{{ list[11]|trim() }}'\n    vm_image_publisher: '{{ list[12]|trim() }}'\n    vm_image_sku: '{{ list[13]|trim() }}'\n    vm_image_version: '{{ list[14]|trim() }}'\n    data_disks:\n{%    if list[15] is defined %}\n{%    set ind = [0]   %}\n{%      for vol in list[15].split(\";\") %}\n      - lun: {{ind[0]|trim()}}\n        disk_size_gb: '{{vol.split(\":\")[0]|trim()}}'\n        type: '{{vol.split(\":\")[1]|trim()}}'\n{% if ind.append(ind.pop() + 1) %}{% endif %}\n{%      endfor %}\n{%    endif %}\n    tags:\n{%    for tags in list[16].split(\";\") %}\n        Appname: '{{tags.split(\":\")[0]|trim()}}'\n        category: '{{tags.split(\":\")[1]|trim()}}'\n{%   endif %}\n{% endfor %}\n"}
2017-11-21 10:31:42,381 p=16355 u=root |  NO MORE HOSTS LEFT ****************************************************************************************************************************************************
2017-11-21 10:31:42,383 p=16355 u=root |  	to retry, use: --limit @/root/ansible/playbook/csv_yaml_windows.retry

2017-11-21 10:31:42,383 p=16355 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 10:31:42,383 p=16355 u=root |  localhost                  : ok=1    changed=0    unreachable=0    failed=1   
2017-11-21 10:32:36,007 p=16415 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:32:36,008 p=16415 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:32:36,009 p=16415 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:32:36,009 p=16415 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:32:36,239 p=16415 u=root |  PLAY [Test CSV to List] ***********************************************************************************************************************************************
2017-11-21 10:32:36,247 p=16415 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:32:36,267 p=16415 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,private_ip_address,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks,tags\nansibletest12,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,,Dynamic,ansible_test_SG1,ansibletestnic12,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,10:Standard_LRS;20:Standard_LRS,webserver:production"
}
2017-11-21 10:32:36,270 p=16415 u=root |  TASK [CSV to Yaml] ****************************************************************************************************************************************************
2017-11-21 10:32:36,685 p=16415 u=root |  changed: [localhost]
2017-11-21 10:32:36,688 p=16415 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 10:32:36,688 p=16415 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-21 10:37:18,154 p=16736 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:37:18,154 p=16736 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:37:18,155 p=16736 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:37:18,156 p=16736 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:37:18,396 p=16736 u=root |  PLAY [Test CSV to List] ***********************************************************************************************************************************************
2017-11-21 10:37:18,404 p=16736 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:37:18,424 p=16736 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,private_ip_address,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks,tags\nansibletest12,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,,Dynamic,ansible_test_SG1,ansibletestnic12,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,10:Standard_LRS;20:Standard_LRS,webserver:production"
}
2017-11-21 10:37:18,427 p=16736 u=root |  TASK [CSV to Yaml] ****************************************************************************************************************************************************
2017-11-21 10:37:18,927 p=16736 u=root |  ok: [localhost]
2017-11-21 10:37:18,930 p=16736 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 10:37:18,930 p=16736 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=0   
2017-11-21 10:37:29,377 p=16789 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:37:29,378 p=16789 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:37:29,379 p=16789 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:37:29,379 p=16789 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:37:29,615 p=16789 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-21 10:37:29,623 p=16789 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-21 10:37:30,104 p=16789 u=root |  ok: [localhost]
2017-11-21 10:37:30,110 p=16789 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-21 10:37:30,136 p=16789 u=root |  ok: [localhost]
2017-11-21 10:37:30,141 p=16789 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-21 10:37:30,179 p=16789 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 10:37:30,184 p=16789 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:37:30,208 p=16789 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Linux", 
        "private_ip": "", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 10:37:30,211 p=16789 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-21 10:38:06,831 p=16789 u=root |  changed: [localhost]
2017-11-21 10:38:06,837 p=16789 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:38:06,859 p=16789 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 10:38:06,864 p=16789 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-21 10:39:27,076 p=16789 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error creating or updating virtual machine ansibletest12 - Azure Error: TargetDiskBlobAlreadyExists\nMessage: Blob https://ansibletestvm13934.blob.core.windows.net/vhds/ansibletest12.vhd already exists. Please provide a different blob URI as target for disk 'ansibletest12.vhd'."}
2017-11-21 10:39:27,080 p=16789 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 10:39:27,080 p=16789 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 10:39:27,080 p=16789 u=root |  localhost                  : ok=6    changed=1    unreachable=0    failed=1   
2017-11-21 10:42:17,539 p=17140 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:42:17,539 p=17140 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:42:17,540 p=17140 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:42:17,540 p=17140 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:42:17,781 p=17140 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-21 10:42:17,792 p=17140 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-21 10:42:18,279 p=17140 u=root |  ok: [localhost]
2017-11-21 10:42:18,282 p=17140 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-21 10:42:18,305 p=17140 u=root |  ok: [localhost]
2017-11-21 10:42:18,309 p=17140 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-21 10:42:18,340 p=17140 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 10:42:18,345 p=17140 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:42:18,365 p=17140 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Linux", 
        "private_ip": "", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 10:42:18,369 p=17140 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-21 10:42:20,782 p=17140 u=root |  ok: [localhost]
2017-11-21 10:42:20,789 p=17140 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:42:20,820 p=17140 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 10:42:20,825 p=17140 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-21 10:42:24,869 p=17140 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error ansibletest12 has a provisioning state of Failed. Expecting state to be Succeeded."}
2017-11-21 10:42:24,873 p=17140 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 10:42:24,873 p=17140 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 10:42:24,874 p=17140 u=root |  localhost                  : ok=6    changed=0    unreachable=0    failed=1   
2017-11-21 10:43:49,163 p=17324 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:43:49,163 p=17324 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:43:49,164 p=17324 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:43:49,164 p=17324 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:43:49,399 p=17324 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-21 10:43:49,408 p=17324 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-21 10:43:49,820 p=17324 u=root |  ok: [localhost]
2017-11-21 10:43:49,824 p=17324 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-21 10:43:49,847 p=17324 u=root |  ok: [localhost]
2017-11-21 10:43:49,852 p=17324 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-21 10:43:49,889 p=17324 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 10:43:49,893 p=17324 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:43:49,914 p=17324 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Linux", 
        "private_ip": "", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 10:43:49,917 p=17324 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-21 10:43:52,163 p=17324 u=root |  ok: [localhost]
2017-11-21 10:43:52,168 p=17324 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:43:52,190 p=17324 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 10:43:52,194 p=17324 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-21 10:46:13,800 p=17324 u=root |  changed: [localhost]
2017-11-21 10:46:13,807 p=17324 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-21 10:46:13,820 p=17324 u=root |  skipping: [localhost]
2017-11-21 10:46:13,823 p=17324 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 10:46:13,823 p=17324 u=root |  localhost                  : ok=7    changed=1    unreachable=0    failed=0   
2017-11-21 10:58:38,028 p=18223 u=root |  ERROR! the playbook: csv_yaml_windows.j2 could not be found
2017-11-21 10:58:47,732 p=18240 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:58:47,732 p=18240 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:58:47,733 p=18240 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:58:47,733 p=18240 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:58:47,964 p=18240 u=root |  PLAY [Test CSV to List] ***********************************************************************************************************************************************
2017-11-21 10:58:47,974 p=18240 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:58:47,994 p=18240 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,private_ip_address,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks,tags,storage_account_name\nansibletest12,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,,Dynamic,ansible_test_SG1,ansibletestnic12,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,10:Standard_LRS;20:Standard_LRS,webserver:production,"
}
2017-11-21 10:58:47,997 p=18240 u=root |  TASK [CSV to Yaml] ****************************************************************************************************************************************************
2017-11-21 10:58:48,405 p=18240 u=root |  changed: [localhost]
2017-11-21 10:58:48,406 p=18240 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 10:58:48,406 p=18240 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-21 10:59:34,242 p=18345 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:59:34,243 p=18345 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:59:34,244 p=18345 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:59:34,244 p=18345 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:59:34,489 p=18345 u=root |  PLAY [Test CSV to List] ***********************************************************************************************************************************************
2017-11-21 10:59:34,498 p=18345 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:59:34,518 p=18345 u=root |  ok: [localhost] => {
    "csvfile": "vm_name,resource_group,vnet_name,subnet_name,os_type,private_ip_address,ip_allocation,security_group_name,network_interface_name,vm_size,admin_username,vm_image_offer,vm_image_publisher,vm_image_sku,vm_image_version,data_disks,tags,storage_account_name\nansibletest12,ansible,ansible_test_vnet1,ansible_test_subnet1,Linux,,Dynamic,ansible_test_SG1,ansibletestnic12,Standard_D1,amansyed,UbuntuServer,Canonical,16.04-LTS,latest,10:Standard_LRS;20:Standard_LRS,webserver:production,"
}
2017-11-21 10:59:34,521 p=18345 u=root |  TASK [CSV to Yaml] ****************************************************************************************************************************************************
2017-11-21 10:59:34,941 p=18345 u=root |  changed: [localhost]
2017-11-21 10:59:34,942 p=18345 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 10:59:34,943 p=18345 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-21 10:59:58,944 p=18422 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 10:59:58,944 p=18422 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 10:59:58,945 p=18422 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 10:59:58,945 p=18422 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 10:59:59,197 p=18422 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-21 10:59:59,206 p=18422 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-21 10:59:59,625 p=18422 u=root |  ok: [localhost]
2017-11-21 10:59:59,630 p=18422 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-21 10:59:59,652 p=18422 u=root |  ok: [localhost]
2017-11-21 10:59:59,657 p=18422 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-21 10:59:59,688 p=18422 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 10:59:59,692 p=18422 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 10:59:59,712 p=18422 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Linux", 
        "private_ip": "", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 10:59:59,715 p=18422 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-21 11:00:37,251 p=18422 u=root |  changed: [localhost]
2017-11-21 11:00:37,257 p=18422 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 11:00:37,283 p=18422 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 11:00:37,288 p=18422 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-21 11:01:58,047 p=18422 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error creating or updating virtual machine ansibletest12 - Azure Error: TargetDiskBlobAlreadyExists\nMessage: Blob https://ansibletestvm13934.blob.core.windows.net/vhds/ansibletest12.vhd already exists. Please provide a different blob URI as target for disk 'ansibletest12.vhd'."}
2017-11-21 11:01:58,050 p=18422 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 11:01:58,051 p=18422 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 11:01:58,051 p=18422 u=root |  localhost                  : ok=6    changed=1    unreachable=0    failed=1   
2017-11-21 11:03:09,437 p=18709 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 11:03:09,438 p=18709 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 11:03:09,439 p=18709 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 11:03:09,439 p=18709 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 11:03:09,673 p=18709 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-21 11:03:09,682 p=18709 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-21 11:03:10,095 p=18709 u=root |  ok: [localhost]
2017-11-21 11:03:10,099 p=18709 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-21 11:03:10,121 p=18709 u=root |  ok: [localhost]
2017-11-21 11:03:10,124 p=18709 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-21 11:03:10,155 p=18709 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 11:03:10,159 p=18709 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 11:03:10,178 p=18709 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Linux", 
        "private_ip": "", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 11:03:10,182 p=18709 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-21 11:03:12,412 p=18709 u=root |  ok: [localhost]
2017-11-21 11:03:12,418 p=18709 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 11:03:12,441 p=18709 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 11:03:12,445 p=18709 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-21 11:03:15,848 p=18709 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error ansibletest12 has a provisioning state of Failed. Expecting state to be Succeeded."}
2017-11-21 11:03:15,852 p=18709 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 11:03:15,852 p=18709 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 11:03:15,852 p=18709 u=root |  localhost                  : ok=6    changed=0    unreachable=0    failed=1   
2017-11-21 11:04:03,666 p=18863 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 11:04:03,666 p=18863 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 11:04:03,667 p=18863 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 11:04:03,668 p=18863 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 11:04:03,924 p=18863 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-21 11:04:03,933 p=18863 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-21 11:04:04,362 p=18863 u=root |  ok: [localhost]
2017-11-21 11:04:04,366 p=18863 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-21 11:04:04,389 p=18863 u=root |  ok: [localhost]
2017-11-21 11:04:04,393 p=18863 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-21 11:04:04,425 p=18863 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 11:04:04,429 p=18863 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 11:04:04,450 p=18863 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Linux", 
        "private_ip": "", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 11:04:04,455 p=18863 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-21 11:04:06,139 p=18863 u=root |  ok: [localhost]
2017-11-21 11:04:06,144 p=18863 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 11:04:06,165 p=18863 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 11:04:06,170 p=18863 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-21 11:07:14,750 p=18863 u=root |  changed: [localhost]
2017-11-21 11:07:14,757 p=18863 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-21 11:07:14,772 p=18863 u=root |  skipping: [localhost]
2017-11-21 11:07:14,774 p=18863 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 11:07:14,774 p=18863 u=root |  localhost                  : ok=7    changed=1    unreachable=0    failed=0   
2017-11-21 11:18:46,865 p=19835 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 11:18:46,866 p=19835 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 11:18:46,867 p=19835 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 11:18:46,867 p=19835 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 11:18:46,955 p=19835 u=root |  playbook: bulk_vm_provision.yaml
2017-11-21 11:18:56,015 p=19858 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 11:18:56,015 p=19858 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 11:18:56,017 p=19858 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 11:18:56,017 p=19858 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 11:18:56,287 p=19858 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-21 11:18:56,296 p=19858 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-21 11:18:56,716 p=19858 u=root |  ok: [localhost]
2017-11-21 11:18:56,720 p=19858 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-21 11:18:56,742 p=19858 u=root |  ok: [localhost]
2017-11-21 11:18:56,746 p=19858 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-21 11:18:56,777 p=19858 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 11:18:56,781 p=19858 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 11:18:56,801 p=19858 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Linux", 
        "private_ip": "", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 11:18:56,803 p=19858 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-21 11:19:32,918 p=19858 u=root |  changed: [localhost]
2017-11-21 11:19:32,924 p=19858 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 11:19:32,946 p=19858 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 11:19:32,950 p=19858 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-21 11:19:32,980 p=19858 u=root |  fatal: [localhost]: FAILED! => {"failed": true, "msg": "The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'availabilityset'\n\nThe error appears to have been in '/root/ansible/playbook/task_vm_V1.yaml': line 24, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  - debug: var=outer_item.os_type\n  - name: create linux vm\n    ^ here\n\nexception type: <class 'ansible.errors.AnsibleUndefinedVariable'>\nexception: 'dict object' has no attribute 'availabilityset'"}
2017-11-21 11:19:32,981 p=19858 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 11:19:32,981 p=19858 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 11:19:32,982 p=19858 u=root |  localhost                  : ok=6    changed=1    unreachable=0    failed=1   
2017-11-21 11:20:16,768 p=20027 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 11:20:16,768 p=20027 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 11:20:16,769 p=20027 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 11:20:16,769 p=20027 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 11:20:17,015 p=20027 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-21 11:20:17,023 p=20027 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-21 11:20:17,455 p=20027 u=root |  ok: [localhost]
2017-11-21 11:20:17,459 p=20027 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-21 11:20:17,482 p=20027 u=root |  ok: [localhost]
2017-11-21 11:20:17,485 p=20027 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-21 11:20:17,518 p=20027 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 11:20:17,522 p=20027 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 11:20:17,542 p=20027 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Dynamic", 
        "network_interface_name": "ansibletestnic12", 
        "os_type": "Linux", 
        "private_ip": "", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest12", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 11:20:17,546 p=20027 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-21 11:20:19,922 p=20027 u=root |  ok: [localhost]
2017-11-21 11:20:19,928 p=20027 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 11:20:19,951 p=20027 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 11:20:19,955 p=20027 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-21 11:20:19,973 p=20027 u=root |  fatal: [localhost]: FAILED! => {"failed": true, "msg": "The task includes an option with an undefined variable. The error was: 'dict object' has no attribute 'availabilityset'\n\nThe error appears to have been in '/root/ansible/playbook/task_vm_V1.yaml': line 24, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n  - debug: var=outer_item.os_type\n  - name: create linux vm\n    ^ here\n\nexception type: <class 'ansible.errors.AnsibleUndefinedVariable'>\nexception: 'dict object' has no attribute 'availabilityset'"}
2017-11-21 11:20:19,974 p=20027 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 11:20:19,975 p=20027 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 11:20:19,975 p=20027 u=root |  localhost                  : ok=6    changed=0    unreachable=0    failed=1   
2017-11-21 12:38:49,086 p=24906 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 12:38:49,086 p=24906 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 12:38:49,087 p=24906 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 12:38:49,088 p=24906 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 12:38:49,371 p=24906 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-21 12:38:49,380 p=24906 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-21 12:38:49,802 p=24906 u=root |  changed: [localhost]
2017-11-21 12:38:49,807 p=24906 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-21 12:38:49,829 p=24906 u=root |  ok: [localhost]
2017-11-21 12:38:49,833 p=24906 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-21 12:38:49,864 p=24906 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 12:38:49,869 p=24906 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 12:38:49,888 p=24906 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic14", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.16", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest14", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 12:38:49,891 p=24906 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-21 12:39:22,763 p=24906 u=root |  changed: [localhost]
2017-11-21 12:39:22,769 p=24906 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 12:39:22,789 p=24906 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 12:39:22,793 p=24906 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-21 12:40:12,562 p=24906 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error creating or updating virtual machine ansibletest14 - Azure Error: OperationNotAllowed\nMessage: Operation results in exceeding quota limits of Core. Maximum allowed: 4, Current in use: 4, Additional requested: 1. Please read more about quota increase at http://aka.ms/corequotaincrease."}
2017-11-21 12:40:12,565 p=24906 u=root |  	to retry, use: --limit @/root/ansible/playbook/bulk_vm_provision.retry

2017-11-21 12:40:12,565 p=24906 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 12:40:12,566 p=24906 u=root |  localhost                  : ok=6    changed=2    unreachable=0    failed=1   
2017-11-21 12:43:13,727 p=25346 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-21 12:43:13,727 p=25346 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-21 12:43:13,728 p=25346 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-21 12:43:13,729 p=25346 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-21 12:43:13,969 p=25346 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-21 12:43:13,978 p=25346 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-21 12:43:14,404 p=25346 u=root |  ok: [localhost]
2017-11-21 12:43:14,408 p=25346 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-21 12:43:14,431 p=25346 u=root |  ok: [localhost]
2017-11-21 12:43:14,435 p=25346 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-21 12:43:14,467 p=25346 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-21 12:43:14,471 p=25346 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 12:43:14,492 p=25346 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }, 
            {
                "disk_size_gb": "20", 
                "lun": 1, 
                "type": "Standard_LRS"
            }
        ], 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic14", 
        "os_type": "Linux", 
        "private_ip": "10.10.0.16", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "UbuntuServer", 
        "vm_image_publisher": "Canonical", 
        "vm_image_sku": "16.04-LTS", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest14", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-21 12:43:14,496 p=25346 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-21 12:43:16,587 p=25346 u=root |  ok: [localhost]
2017-11-21 12:43:16,593 p=25346 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-21 12:43:16,615 p=25346 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Linux"
}
2017-11-21 12:43:16,619 p=25346 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-21 12:45:41,330 p=25346 u=root |  changed: [localhost]
2017-11-21 12:45:41,335 p=25346 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-21 12:45:41,349 p=25346 u=root |  skipping: [localhost]
2017-11-21 12:45:41,351 p=25346 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-21 12:45:41,351 p=25346 u=root |  localhost                  : ok=7    changed=1    unreachable=0    failed=0   
2017-11-22 04:16:41,587 p=6300 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 04:16:41,601 p=6300 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 04:16:41,602 p=6300 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 04:16:41,603 p=6300 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 04:16:42,378 p=6300 u=root |  PLAY [Create Azure Vnet] **********************************************************************************************************************************************
2017-11-22 04:16:42,433 p=6300 u=root |  TASK [Gathering Facts] ************************************************************************************************************************************************
2017-11-22 04:16:43,274 p=6300 u=root |  ok: [localhost]
2017-11-22 04:16:43,281 p=6300 u=root |  TASK [Get facts for one availability set] *****************************************************************************************************************************
2017-11-22 04:16:46,475 p=6300 u=root |  ok: [localhost]
2017-11-22 04:16:46,478 p=6300 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 04:16:46,478 p=6300 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 04:17:52,540 p=6469 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 04:17:52,540 p=6469 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 04:17:52,541 p=6469 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 04:17:52,541 p=6469 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 04:17:52,814 p=6469 u=root |  PLAY [Create Azure Vnet] **********************************************************************************************************************************************
2017-11-22 04:17:52,823 p=6469 u=root |  TASK [Gathering Facts] ************************************************************************************************************************************************
2017-11-22 04:17:53,477 p=6469 u=root |  ok: [localhost]
2017-11-22 04:17:53,484 p=6469 u=root |  TASK [Get facts for one availability set] *****************************************************************************************************************************
2017-11-22 04:17:55,364 p=6469 u=root |  ok: [localhost]
2017-11-22 04:17:55,366 p=6469 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 04:17:55,366 p=6469 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=0   
2017-11-22 07:30:47,564 p=22245 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 07:30:47,564 p=22245 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 07:30:47,566 p=22245 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 07:30:47,566 p=22245 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 07:30:47,581 p=22245 u=root |  ERROR! playbooks must be a list of plays

The error appears to have been in '/root/ansible/playbook/bulk_vm_provision.retry': line 1, column 1, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


localhost
^ here

2017-11-22 07:31:00,603 p=22277 u=root |  ERROR! the playbook: bulk_vm_provision.yaml could not be found
2017-11-22 07:31:18,560 p=22298 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 07:31:18,560 p=22298 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 07:31:18,561 p=22298 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 07:31:18,561 p=22298 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 07:31:18,823 p=22298 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 07:31:21,691 p=22298 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 07:31:21,695 p=22298 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 07:31:22,319 p=22298 u=root |  changed: [localhost]
2017-11-22 07:31:24,284 p=22298 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 07:31:24,288 p=22298 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 07:31:24,332 p=22298 u=root |  ok: [localhost]
2017-11-22 07:31:26,947 p=22298 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: **************************************************************************************************************
2017-11-22 07:31:26,951 p=22298 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 07:31:27,001 p=22298 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 07:31:29,092 p=22298 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:31:29,096 p=22298 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:31:29,128 p=22298 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2 Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 07:31:31,659 p=22298 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ***************************************************************************************************
2017-11-22 07:31:31,663 p=22298 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 07:31:34,309 p=22298 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error: fetching public ip address ansibletest21_nic - Azure Error: ResourceNotFound\nMessage: The Resource 'Microsoft.Network/publicIPAddresses/ansibletest21pip' under resource group 'ansible' was not found."}
2017-11-22 07:31:34,311 p=22298 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 07:31:34,311 p=22298 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 07:31:34,312 p=22298 u=root |  localhost                  : ok=4    changed=1    unreachable=0    failed=1   
2017-11-22 07:32:21,481 p=22454 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 07:32:21,481 p=22454 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 07:32:21,483 p=22454 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 07:32:21,483 p=22454 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 07:32:21,766 p=22454 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 07:32:22,619 p=22454 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 07:32:22,623 p=22454 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 07:32:23,159 p=22454 u=root |  ok: [localhost]
2017-11-22 07:32:24,132 p=22454 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 07:32:24,136 p=22454 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 07:32:24,165 p=22454 u=root |  ok: [localhost]
2017-11-22 07:32:25,108 p=22454 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: **************************************************************************************************************
2017-11-22 07:32:25,111 p=22454 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 07:32:25,157 p=22454 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 07:32:25,939 p=22454 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:32:25,942 p=22454 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:32:25,968 p=22454 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2 Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 07:32:26,827 p=22454 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ***************************************************************************************************
2017-11-22 07:32:26,831 p=22454 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 07:32:59,998 p=22454 u=root |  changed: [localhost]
2017-11-22 07:33:02,651 p=22454 u=root |  Perform task: TASK: Update user-data script for user creation in windows VM (N)o/(y)es/(c)ontinue: ********************************************************************
2017-11-22 07:33:02,655 p=22454 u=root |  TASK [Update user-data script for user creation in windows VM] ********************************************************************************************************
2017-11-22 07:33:02,682 p=22454 u=root |  fatal: [localhost]: FAILED! => {"failed": true, "msg": "The task includes an option with an undefined variable. The error was: 'userdata_user_scr' is undefined\n\nThe error appears to have been in '/root/ansible/playbook/task_vm_V1.yaml': line 15, column 5, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n  - name: \"Update user-data script for user creation in windows VM\"\n    ^ here\n\nexception type: <class 'ansible.errors.AnsibleUndefinedVariable'>\nexception: 'userdata_user_scr' is undefined"}
2017-11-22 07:33:02,685 p=22454 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 07:33:02,685 p=22454 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 07:33:02,685 p=22454 u=root |  localhost                  : ok=5    changed=1    unreachable=0    failed=1   
2017-11-22 07:35:23,616 p=22683 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 07:35:23,616 p=22683 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 07:35:23,617 p=22683 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 07:35:23,617 p=22683 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 07:35:23,857 p=22683 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 07:35:25,364 p=22683 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 07:35:25,367 p=22683 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 07:35:25,914 p=22683 u=root |  ok: [localhost]
2017-11-22 07:35:27,170 p=22683 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 07:35:27,176 p=22683 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 07:35:27,207 p=22683 u=root |  ok: [localhost]
2017-11-22 07:35:28,266 p=22683 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: **************************************************************************************************************
2017-11-22 07:35:28,271 p=22683 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 07:35:28,314 p=22683 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 07:35:29,202 p=22683 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:35:29,207 p=22683 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:35:29,234 p=22683 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2 Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 07:35:30,829 p=22683 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ***************************************************************************************************
2017-11-22 07:35:30,833 p=22683 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 07:35:33,106 p=22683 u=root |  ok: [localhost]
2017-11-22 07:35:34,514 p=22683 u=root |  Perform task: TASK: Update user-data script for user creation in windows VM (N)o/(y)es/(c)ontinue: ********************************************************************
2017-11-22 07:35:34,519 p=22683 u=root |  TASK [Update user-data script for user creation in windows VM] ********************************************************************************************************
2017-11-22 07:35:34,909 p=22683 u=root |  changed: [localhost]
2017-11-22 07:35:40,019 p=22683 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:35:40,024 p=22683 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:35:40,050 p=22683 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-22 07:35:41,442 p=22683 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ************************************************************************************************************
2017-11-22 07:35:41,446 p=22683 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-22 07:35:41,463 p=22683 u=root |  skipping: [localhost]
2017-11-22 07:35:43,538 p=22683 u=root |  Perform task: TASK: create windows vm (N)o/(y)es/(c)ontinue: **********************************************************************************************************
2017-11-22 07:35:43,543 p=22683 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-22 07:35:46,155 p=22683 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error fetching network interface ansibletestnic21 - Azure Error: ResourceNotFound\nMessage: The Resource 'Microsoft.Network/networkInterfaces/ansibletestnic21' under resource group 'ansible' was not found."}
2017-11-22 07:35:46,158 p=22683 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 07:35:46,158 p=22683 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 07:35:46,159 p=22683 u=root |  localhost                  : ok=7    changed=1    unreachable=0    failed=1   
2017-11-22 07:37:34,510 p=22940 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 07:37:34,510 p=22940 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 07:37:34,512 p=22940 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 07:37:34,512 p=22940 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 07:37:34,767 p=22940 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 07:37:35,691 p=22940 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 07:37:35,695 p=22940 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 07:37:36,212 p=22940 u=root |  ok: [localhost]
2017-11-22 07:37:37,811 p=22940 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 07:37:37,815 p=22940 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 07:37:37,849 p=22940 u=root |  ok: [localhost]
2017-11-22 07:37:38,803 p=22940 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: **************************************************************************************************************
2017-11-22 07:37:38,807 p=22940 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 07:37:38,857 p=22940 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 07:37:39,674 p=22940 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:37:39,677 p=22940 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:37:39,706 p=22940 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2 Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 07:37:40,870 p=22940 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ***************************************************************************************************
2017-11-22 07:37:40,874 p=22940 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 07:37:42,970 p=22940 u=root |  ok: [localhost]
2017-11-22 07:37:44,122 p=22940 u=root |  Perform task: TASK: Update user-data script for user creation in windows VM (N)o/(y)es/(c)ontinue: ********************************************************************
2017-11-22 07:37:44,126 p=22940 u=root |  TASK [Update user-data script for user creation in windows VM] ********************************************************************************************************
2017-11-22 07:37:44,394 p=22940 u=root |  ok: [localhost]
2017-11-22 07:37:45,867 p=22940 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:37:45,871 p=22940 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:37:45,894 p=22940 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-22 07:37:46,892 p=22940 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ************************************************************************************************************
2017-11-22 07:37:46,896 p=22940 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-22 07:37:46,913 p=22940 u=root |  skipping: [localhost]
2017-11-22 07:37:47,955 p=22940 u=root |  Perform task: TASK: create windows vm (N)o/(y)es/(c)ontinue: **********************************************************************************************************
2017-11-22 07:37:47,959 p=22940 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-22 07:37:50,747 p=22940 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error fetching network interface ansibletestnic21 - Azure Error: ResourceNotFound\nMessage: The Resource 'Microsoft.Network/networkInterfaces/ansibletestnic21' under resource group 'ansible' was not found."}
2017-11-22 07:37:50,750 p=22940 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 07:37:50,750 p=22940 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 07:37:50,750 p=22940 u=root |  localhost                  : ok=7    changed=0    unreachable=0    failed=1   
2017-11-22 07:40:38,385 p=23235 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 07:40:38,385 p=23235 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 07:40:38,386 p=23235 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 07:40:38,387 p=23235 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 07:40:38,658 p=23235 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 07:40:39,530 p=23235 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 07:40:39,534 p=23235 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 07:40:40,049 p=23235 u=root |  ok: [localhost]
2017-11-22 07:40:41,073 p=23235 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 07:40:41,077 p=23235 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 07:40:41,105 p=23235 u=root |  ok: [localhost]
2017-11-22 07:40:42,073 p=23235 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: **************************************************************************************************************
2017-11-22 07:40:42,077 p=23235 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 07:40:42,121 p=23235 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 07:40:42,938 p=23235 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:40:42,941 p=23235 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:40:42,969 p=23235 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2 Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 07:40:44,106 p=23235 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ***************************************************************************************************
2017-11-22 07:40:44,110 p=23235 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 07:40:46,722 p=23235 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error creating or updating network interface ansibletestnic21 - Azure Error: PrivateIPAddressIsAllocated\nMessage: IP configuration /subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21/ipConfigurations/default is using the private IP address 10.10.0.21 which is already allocated to resource /subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletest21_nic."}
2017-11-22 07:40:46,725 p=23235 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 07:40:46,725 p=23235 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 07:40:46,725 p=23235 u=root |  localhost                  : ok=4    changed=0    unreachable=0    failed=1   
2017-11-22 07:42:10,713 p=23398 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 07:42:10,713 p=23398 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 07:42:10,715 p=23398 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 07:42:10,715 p=23398 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 07:42:10,972 p=23398 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 07:42:11,985 p=23398 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 07:42:11,988 p=23398 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 07:42:12,553 p=23398 u=root |  ok: [localhost]
2017-11-22 07:42:13,466 p=23398 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 07:42:13,471 p=23398 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 07:42:13,504 p=23398 u=root |  ok: [localhost]
2017-11-22 07:42:14,761 p=23398 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: **************************************************************************************************************
2017-11-22 07:42:14,764 p=23398 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 07:42:14,809 p=23398 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 07:42:15,729 p=23398 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:42:15,734 p=23398 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:42:15,764 p=23398 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2 Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 07:42:16,889 p=23398 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ***************************************************************************************************
2017-11-22 07:42:16,893 p=23398 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 07:42:49,803 p=23398 u=root |  changed: [localhost]
2017-11-22 07:42:59,977 p=23398 u=root |  Perform task: TASK: Update user-data script for user creation in windows VM (N)o/(y)es/(c)ontinue: ********************************************************************
2017-11-22 07:42:59,981 p=23398 u=root |  TASK [Update user-data script for user creation in windows VM] ********************************************************************************************************
2017-11-22 07:43:00,224 p=23398 u=root |  ok: [localhost]
2017-11-22 07:43:02,490 p=23398 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:43:02,494 p=23398 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:43:02,518 p=23398 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-22 07:43:03,737 p=23398 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ************************************************************************************************************
2017-11-22 07:43:03,741 p=23398 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-22 07:43:03,760 p=23398 u=root |  skipping: [localhost]
2017-11-22 07:43:04,937 p=23398 u=root |  Perform task: TASK: create windows vm (N)o/(y)es/(c)ontinue: **********************************************************************************************************
2017-11-22 07:43:04,941 p=23398 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-22 07:43:08,174 p=23398 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Error fetching image MicrosoftWindowsServer WindowsServer 2012-R2 Datacenter - Azure Error: NotFound\nMessage: Artifact: VMImage was not found."}
2017-11-22 07:43:08,177 p=23398 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 07:43:08,177 p=23398 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 07:43:08,177 p=23398 u=root |  localhost                  : ok=7    changed=1    unreachable=0    failed=1   
2017-11-22 07:49:58,175 p=24618 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 07:49:58,175 p=24618 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 07:49:58,176 p=24618 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 07:49:58,177 p=24618 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 07:49:58,421 p=24618 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 07:49:59,353 p=24618 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 07:49:59,358 p=24618 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 07:49:59,794 p=24618 u=root |  changed: [localhost]
2017-11-22 07:50:01,057 p=24618 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 07:50:01,060 p=24618 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 07:50:01,091 p=24618 u=root |  ok: [localhost]
2017-11-22 07:50:02,193 p=24618 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: **************************************************************************************************************
2017-11-22 07:50:02,200 p=24618 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 07:50:02,248 p=24618 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 07:50:03,424 p=24618 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:50:03,427 p=24618 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:50:03,454 p=24618 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 07:50:04,864 p=24618 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ***************************************************************************************************
2017-11-22 07:50:04,868 p=24618 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 07:50:06,966 p=24618 u=root |  ok: [localhost]
2017-11-22 07:50:08,399 p=24618 u=root |  Perform task: TASK: Update user-data script for user creation in windows VM (N)o/(y)es/(c)ontinue: ********************************************************************
2017-11-22 07:50:08,403 p=24618 u=root |  TASK [Update user-data script for user creation in windows VM] ********************************************************************************************************
2017-11-22 07:50:08,653 p=24618 u=root |  changed: [localhost]
2017-11-22 07:50:10,920 p=24618 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 07:50:10,924 p=24618 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 07:50:10,953 p=24618 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-22 07:50:12,423 p=24618 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ************************************************************************************************************
2017-11-22 07:50:12,427 p=24618 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-22 07:50:12,443 p=24618 u=root |  skipping: [localhost]
2017-11-22 07:50:13,559 p=24618 u=root |  Perform task: TASK: create windows vm (N)o/(y)es/(c)ontinue: **********************************************************************************************************
2017-11-22 07:50:13,565 p=24618 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-22 07:50:14,261 p=24618 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "msg": "Unsupported parameters for (azure_rm_virtualmachine) module: userdata Supported parameters include: ad_user,admin_password,admin_username,allocated,append_tags,cli_default_profile,client_id,cloud_environment,data_disks,image,location,managed_disk_type,name,network_interface_names,open_ports,os_disk_caching,os_type,password,profile,public_ip_allocation_method,remove_on_absent,resource_group,restarted,secret,short_hostname,ssh_password_enabled,ssh_public_keys,started,state,storage_account_name,storage_blob_name,storage_container_name,subnet_name,subscription_id,tags,tenant,virtual_network_name,virtual_network_resource_group,vm_size"}
2017-11-22 07:50:14,263 p=24618 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 07:50:14,264 p=24618 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 07:50:14,264 p=24618 u=root |  localhost                  : ok=7    changed=2    unreachable=0    failed=1   
2017-11-22 09:18:11,279 p=34370 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 09:18:11,279 p=34370 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 09:18:11,281 p=34370 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 09:18:11,281 p=34370 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 09:18:11,540 p=34370 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 09:18:12,573 p=34370 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 09:18:12,576 p=34370 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 09:18:13,047 p=34370 u=root |  ok: [localhost]
2017-11-22 09:18:14,029 p=34370 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 09:18:14,034 p=34370 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 09:18:14,066 p=34370 u=root |  ok: [localhost]
2017-11-22 09:18:15,109 p=34370 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: **************************************************************************************************************
2017-11-22 09:18:15,112 p=34370 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 09:18:15,158 p=34370 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 09:18:16,404 p=34370 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 09:18:16,408 p=34370 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 09:18:16,434 p=34370 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 09:18:17,877 p=34370 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ***************************************************************************************************
2017-11-22 09:18:17,880 p=34370 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 09:18:20,364 p=34370 u=root |  ok: [localhost]
2017-11-22 09:18:21,860 p=34370 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 09:18:21,864 p=34370 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 09:18:21,893 p=34370 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-22 09:18:22,950 p=34370 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ************************************************************************************************************
2017-11-22 09:18:22,954 p=34370 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-22 09:18:22,970 p=34370 u=root |  skipping: [localhost]
2017-11-22 09:18:23,974 p=34370 u=root |  Perform task: TASK: create windows vm (N)o/(y)es/(c)ontinue: **********************************************************************************************************
2017-11-22 09:18:23,978 p=34370 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-22 09:22:57,087 p=34370 u=root |  changed: [localhost]
2017-11-22 09:23:02,595 p=34370 u=root |  Perform task: TASK: create a user and add it to Administrator groups (N)o/(y)es/(c)ontinue: ***************************************************************************
2017-11-22 09:23:02,600 p=34370 u=root |  TASK [create a user and add it to Administrator groups] ***************************************************************************************************************
2017-11-22 09:23:02,674 p=34370 u=root |  fatal: [localhost]: FAILED! => {"changed": false, "failed": true, "module_stderr": "", "module_stdout": "", "msg": "MODULE FAILURE", "rc": 0}
2017-11-22 09:23:02,676 p=34370 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 09:23:02,676 p=34370 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 09:23:02,676 p=34370 u=root |  localhost                  : ok=7    changed=1    unreachable=0    failed=1   
2017-11-22 09:23:33,914 p=34819 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-22 09:23:33,915 p=34819 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-22 09:23:33,916 p=34819 u=root |  setting up inventory plugins
2017-11-22 09:23:33,918 p=34819 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 09:23:33,918 p=34819 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 09:23:33,919 p=34819 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 09:23:33,920 p=34819 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 09:23:34,010 p=34819 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-22 09:23:34,164 p=34819 u=root |  PLAYBOOK: azure_vm_build.yaml *****************************************************************************************************************************************
2017-11-22 09:23:34,165 p=34819 u=root |  1 plays in azure_vm_build.yaml
2017-11-22 09:23:34,175 p=34819 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 09:23:34,182 p=34819 u=root |  META: ran handlers
2017-11-22 09:23:36,299 p=34819 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 09:23:36,304 p=34819 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 09:23:36,304 p=34819 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:17
2017-11-22 09:23:36,351 p=34819 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-22 09:23:36,474 p=34819 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-22 09:23:36,721 p=34819 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-22 09:23:36,815 p=34819 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "b8d5e841fd738ea0d36f9dde3d0561e9c8400960", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 752, 
    "state": "file", 
    "uid": 0
}
2017-11-22 09:23:36,820 p=34819 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 09:23:36,820 p=34819 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:23
2017-11-22 09:23:36,844 p=34819 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "10", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }
                ], 
                "dtuser": "yes", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic21", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.21", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "storage_account_name": "ansibletestvm13934", 
                "subnet_name": "ansible_test_subnet1", 
                "tags": {
                    "Appname": "webserver", 
                    "category": "production"
                }, 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest21", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }, 
        "user": {
            "user_name": "dtuser", 
            "user_password": "dtpass_123"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/adduser.yaml", 
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-22 09:23:36,848 p=34819 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 09:23:36,849 p=34819 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:28
2017-11-22 09:23:36,883 p=34819 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 09:23:36,887 p=34819 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 09:23:36,887 p=34819 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-22 09:23:36,906 p=34819 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 09:23:36,910 p=34819 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 09:23:36,910 p=34819 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-22 09:23:37,056 p=34819 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-22 09:23:39,052 p=34819 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic21", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": "10.10.0.21", 
            "private_ip_allocation_method": "Static", 
            "profile": null, 
            "public_ip": false, 
            "public_ip_address_name": null, 
            "public_ip_allocation_method": "Dynamic", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"a901f4ad-6831-4588-a758-1e5417171da5\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.21", 
            "private_ip_allocation_method": "Static", 
            "public_ip_address": {}, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": "00-0D-3A-94-B4-C9", 
        "name": "ansibletestnic21", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": true, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-22 09:23:39,057 p=34819 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 09:23:39,057 p=34819 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-22 09:23:39,079 p=34819 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-22 09:23:39,083 p=34819 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-22 09:23:39,083 p=34819 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:22
2017-11-22 09:23:39,097 p=34819 u=root |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional result was False", 
    "skipped": true
}
2017-11-22 09:23:39,101 p=34819 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-22 09:23:39,101 p=34819 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:46
2017-11-22 09:23:39,321 p=34819 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-22 09:23:44,547 p=34819 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "azure_vm": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/ansibletest21", 
            "location": "centralus", 
            "name": "ansibletest21", 
            "powerstate": "running", 
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_D1"
                }, 
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21", 
                            "name": "ansibletestnic21", 
                            "properties": {
                                "dnsSettings": {
                                    "appliedDnsServers": [], 
                                    "dnsServers": [], 
                                    "internalDomainNameSuffix": "gwffiukydkxu1fpyobrxomhvae.gx.internal.cloudapp.net"
                                }, 
                                "enableAcceleratedNetworking": false, 
                                "enableIPForwarding": false, 
                                "ipConfigurations": [
                                    {
                                        "etag": "W/\"a901f4ad-6831-4588-a758-1e5417171da5\"", 
                                        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21/ipConfigurations/default", 
                                        "name": "default", 
                                        "properties": {
                                            "primary": true, 
                                            "privateIPAddress": "10.10.0.21", 
                                            "privateIPAddressVersion": "IPv4", 
                                            "privateIPAllocationMethod": "Static", 
                                            "provisioningState": "Succeeded", 
                                            "subnet": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1"
                                            }
                                        }
                                    }
                                ], 
                                "macAddress": "00-0D-3A-94-B4-C9", 
                                "networkSecurityGroup": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1"
                                }, 
                                "primary": true, 
                                "provisioningState": "Succeeded", 
                                "resourceGuid": "50a15347-d6ac-46c7-9dac-f2ac78d5e442", 
                                "virtualMachine": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/ansibletest21"
                                }
                            }
                        }
                    ]
                }, 
                "osProfile": {
                    "adminUsername": "amansyed", 
                    "computerName": "ansibletest21", 
                    "secrets": [], 
                    "windowsConfiguration": {
                        "enableAutomaticUpdates": true, 
                        "provisionVMAgent": true
                    }
                }, 
                "storageProfile": {
                    "dataDisks": [
                        {
                            "caching": "ReadOnly", 
                            "createOption": "empty", 
                            "diskSizeGB": 10, 
                            "lun": 0, 
                            "name": "ansibletest21-data-0.vhd", 
                            "vhd": {
                                "uri": "https://ansibletest211776.blob.core.windows.net/vhds/ansibletest21-data-0.vhd"
                            }
                        }
                    ], 
                    "imageReference": {
                        "offer": "WindowsServer", 
                        "publisher": "MicrosoftWindowsServer", 
                        "sku": "2012-R2-Datacenter", 
                        "version": "4.127.20171017"
                    }, 
                    "osDisk": {
                        "caching": "ReadOnly", 
                        "createOption": "fromImage", 
                        "diskSizeGB": 127, 
                        "name": "ansibletest21.vhd", 
                        "osType": "Windows", 
                        "vhd": {
                            "uri": "https://ansibletestvm13934.blob.core.windows.net/vhds/ansibletest21.vhd"
                        }
                    }
                }
            }, 
            "tags": {
                "Appname": "webserver", 
                "category": "production"
            }, 
            "type": "Microsoft.Compute/virtualMachines"
        }
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": [
                {
                    "disk_size_gb": "10", 
                    "lun": 0, 
                    "type": "Standard_LRS"
                }
            ], 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "4.127.20171017"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest21", 
            "network_interface_names": [
                "ansibletestnic21"
            ], 
            "network_interfaces": "ansibletestnic21", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Windows", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": true, 
            "ssh_public_keys": null, 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": {
                "Appname": "webserver", 
                "category": "production"
            }, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "powerstate_change": null
}
2017-11-22 09:23:44,554 p=34819 u=root |  TASK [create a user and add it to Administrator groups] ***************************************************************************************************************
2017-11-22 09:23:44,554 p=34819 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:67
2017-11-22 09:23:44,580 p=34819 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/windows/win_user.py
2017-11-22 09:23:44,613 p=34819 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "module_stderr": "", 
    "module_stdout": "", 
    "msg": "MODULE FAILURE", 
    "rc": 0
}
2017-11-22 09:23:44,615 p=34819 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 09:23:44,616 p=34819 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 09:23:44,616 p=34819 u=root |  localhost                  : ok=7    changed=0    unreachable=0    failed=1   
2017-11-22 09:37:10,009 p=35628 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-22 09:37:10,009 p=35628 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-22 09:37:10,010 p=35628 u=root |  setting up inventory plugins
2017-11-22 09:37:10,012 p=35628 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 09:37:10,012 p=35628 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 09:37:10,014 p=35628 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 09:37:10,014 p=35628 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 09:37:10,109 p=35628 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-22 09:37:10,263 p=35628 u=root |  PLAYBOOK: azure_vm_build.yaml *****************************************************************************************************************************************
2017-11-22 09:37:10,263 p=35628 u=root |  1 plays in azure_vm_build.yaml
2017-11-22 09:37:10,275 p=35628 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 09:37:10,283 p=35628 u=root |  META: ran handlers
2017-11-22 09:37:11,960 p=35628 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 09:37:11,964 p=35628 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 09:37:11,964 p=35628 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:17
2017-11-22 09:37:12,010 p=35628 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-22 09:37:12,132 p=35628 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-22 09:37:12,356 p=35628 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-22 09:37:12,447 p=35628 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "b8d5e841fd738ea0d36f9dde3d0561e9c8400960", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 752, 
    "state": "file", 
    "uid": 0
}
2017-11-22 09:37:12,452 p=35628 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 09:37:12,452 p=35628 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:23
2017-11-22 09:37:12,480 p=35628 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "10", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }
                ], 
                "dtuser": "yes", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic21", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.21", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "storage_account_name": "ansibletestvm13934", 
                "subnet_name": "ansible_test_subnet1", 
                "tags": {
                    "Appname": "webserver", 
                    "category": "production"
                }, 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest21", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }, 
        "user": {
            "user_name": "dtuser", 
            "user_password": "dtpass_123"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/adduser.yaml", 
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-22 09:37:12,484 p=35628 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 09:37:12,484 p=35628 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:28
2017-11-22 09:37:12,515 p=35628 u=root |  fatal: [localhost]: FAILED! => {
    "failed": true, 
    "reason": "Syntax Error while loading YAML.\n\n\nThe error appears to have been in '/root/ansible/playbook/task_vm_V1.yaml': line 71, column 1, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\n(specified line no longer in file, maybe it changed?)\nexception type: <class 'yaml.scanner.ScannerError'>\nexception: while scanning a quoted scalar\n  in \"<unicode string>\", line 69, column 13:\n        script: 'scripts/user-data.ps1\n                ^\nfound unexpected end of stream\n  in \"<unicode string>\", line 71, column 1:\n    \n    ^"
}
2017-11-22 09:37:12,516 p=35628 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 09:37:12,517 p=35628 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 09:37:12,517 p=35628 u=root |  localhost                  : ok=2    changed=0    unreachable=0    failed=1   
2017-11-22 09:37:48,509 p=35704 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-22 09:37:48,510 p=35704 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-22 09:37:48,511 p=35704 u=root |  setting up inventory plugins
2017-11-22 09:37:48,513 p=35704 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 09:37:48,513 p=35704 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 09:37:48,514 p=35704 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 09:37:48,514 p=35704 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 09:37:48,603 p=35704 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-22 09:37:48,755 p=35704 u=root |  PLAYBOOK: azure_vm_build.yaml *****************************************************************************************************************************************
2017-11-22 09:37:48,755 p=35704 u=root |  1 plays in azure_vm_build.yaml
2017-11-22 09:37:48,766 p=35704 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 09:37:48,772 p=35704 u=root |  META: ran handlers
2017-11-22 09:37:49,984 p=35704 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 09:37:52,193 p=35704 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 09:37:52,198 p=35704 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 09:37:52,199 p=35704 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:23
2017-11-22 09:37:52,236 p=35704 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "10", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }
                ], 
                "dtuser": "yes", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic21", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.21", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "storage_account_name": "ansibletestvm13934", 
                "subnet_name": "ansible_test_subnet1", 
                "tags": {
                    "Appname": "webserver", 
                    "category": "production"
                }, 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest21", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }, 
        "user": {
            "user_name": "dtuser", 
            "user_password": "dtpass_123"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/adduser.yaml", 
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-22 09:37:52,240 p=35704 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 09:37:52,241 p=35704 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:28
2017-11-22 09:37:52,286 p=35704 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 09:37:52,291 p=35704 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 09:37:52,291 p=35704 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-22 09:37:52,315 p=35704 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 09:37:52,319 p=35704 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 09:37:52,319 p=35704 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-22 09:37:52,484 p=35704 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-22 09:37:54,520 p=35704 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic21", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": "10.10.0.21", 
            "private_ip_allocation_method": "Static", 
            "profile": null, 
            "public_ip": false, 
            "public_ip_address_name": null, 
            "public_ip_allocation_method": "Dynamic", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"a901f4ad-6831-4588-a758-1e5417171da5\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.21", 
            "private_ip_allocation_method": "Static", 
            "public_ip_address": {}, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": "00-0D-3A-94-B4-C9", 
        "name": "ansibletestnic21", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": true, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-22 09:37:54,525 p=35704 u=root |  TASK [Update user-data script for user creation in windows VM] ********************************************************************************************************
2017-11-22 09:37:54,525 p=35704 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:15
2017-11-22 09:37:54,679 p=35704 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-22 09:37:54,931 p=35704 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/copy.py
2017-11-22 09:37:55,045 p=35704 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "e55eefcdfcec4578fe0e931a981a43f1d263484f", 
    "dest": "./scripts/user-data.ps1", 
    "diff": [], 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": false, 
            "content": null, 
            "delimiter": null, 
            "dest": "./scripts/user-data.ps1", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": null, 
            "local_follow": null, 
            "mode": null, 
            "original_basename": "windows_user_creation.j2", 
            "owner": null, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1511343474.56-266370023726655/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "a1cfe2490aed21c1332486340daf7830", 
    "mode": "0644", 
    "owner": "root", 
    "size": 119, 
    "src": "/root/.ansible/tmp/ansible-tmp-1511343474.56-266370023726655/source", 
    "state": "file", 
    "uid": 0
}
2017-11-22 09:37:55,050 p=35704 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 09:37:55,051 p=35704 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-22 09:37:55,073 p=35704 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-22 09:37:55,078 p=35704 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-22 09:37:55,078 p=35704 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:22
2017-11-22 09:37:55,094 p=35704 u=root |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional result was False", 
    "skipped": true
}
2017-11-22 09:37:55,099 p=35704 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-22 09:37:55,099 p=35704 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:46
2017-11-22 09:37:55,307 p=35704 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-22 09:37:59,695 p=35704 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "azure_vm": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/ansibletest21", 
            "location": "centralus", 
            "name": "ansibletest21", 
            "powerstate": "running", 
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_D1"
                }, 
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21", 
                            "name": "ansibletestnic21", 
                            "properties": {
                                "dnsSettings": {
                                    "appliedDnsServers": [], 
                                    "dnsServers": [], 
                                    "internalDomainNameSuffix": "gwffiukydkxu1fpyobrxomhvae.gx.internal.cloudapp.net"
                                }, 
                                "enableAcceleratedNetworking": false, 
                                "enableIPForwarding": false, 
                                "ipConfigurations": [
                                    {
                                        "etag": "W/\"a901f4ad-6831-4588-a758-1e5417171da5\"", 
                                        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21/ipConfigurations/default", 
                                        "name": "default", 
                                        "properties": {
                                            "primary": true, 
                                            "privateIPAddress": "10.10.0.21", 
                                            "privateIPAddressVersion": "IPv4", 
                                            "privateIPAllocationMethod": "Static", 
                                            "provisioningState": "Succeeded", 
                                            "subnet": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1"
                                            }
                                        }
                                    }
                                ], 
                                "macAddress": "00-0D-3A-94-B4-C9", 
                                "networkSecurityGroup": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1"
                                }, 
                                "primary": true, 
                                "provisioningState": "Succeeded", 
                                "resourceGuid": "50a15347-d6ac-46c7-9dac-f2ac78d5e442", 
                                "virtualMachine": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/ansibletest21"
                                }
                            }
                        }
                    ]
                }, 
                "osProfile": {
                    "adminUsername": "amansyed", 
                    "computerName": "ansibletest21", 
                    "secrets": [], 
                    "windowsConfiguration": {
                        "enableAutomaticUpdates": true, 
                        "provisionVMAgent": true
                    }
                }, 
                "storageProfile": {
                    "dataDisks": [
                        {
                            "caching": "ReadOnly", 
                            "createOption": "empty", 
                            "diskSizeGB": 10, 
                            "lun": 0, 
                            "name": "ansibletest21-data-0.vhd", 
                            "vhd": {
                                "uri": "https://ansibletest211776.blob.core.windows.net/vhds/ansibletest21-data-0.vhd"
                            }
                        }
                    ], 
                    "imageReference": {
                        "offer": "WindowsServer", 
                        "publisher": "MicrosoftWindowsServer", 
                        "sku": "2012-R2-Datacenter", 
                        "version": "4.127.20171017"
                    }, 
                    "osDisk": {
                        "caching": "ReadOnly", 
                        "createOption": "fromImage", 
                        "diskSizeGB": 127, 
                        "name": "ansibletest21.vhd", 
                        "osType": "Windows", 
                        "vhd": {
                            "uri": "https://ansibletestvm13934.blob.core.windows.net/vhds/ansibletest21.vhd"
                        }
                    }
                }
            }, 
            "tags": {
                "Appname": "webserver", 
                "category": "production"
            }, 
            "type": "Microsoft.Compute/virtualMachines"
        }
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": [
                {
                    "disk_size_gb": "10", 
                    "lun": 0, 
                    "type": "Standard_LRS"
                }
            ], 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "4.127.20171017"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest21", 
            "network_interface_names": [
                "ansibletestnic21"
            ], 
            "network_interfaces": "ansibletestnic21", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Windows", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": true, 
            "ssh_public_keys": null, 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": {
                "Appname": "webserver", 
                "category": "production"
            }, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "powerstate_change": null
}
2017-11-22 09:37:59,708 p=35704 u=root |  TASK [create a user and add it to Administrator groups] ***************************************************************************************************************
2017-11-22 09:37:59,708 p=35704 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:68
2017-11-22 09:37:59,761 p=35704 u=root |  fatal: [localhost]: FAILED! => {
    "changed": true, 
    "failed": true, 
    "msg": "non-zero return code", 
    "rc": 127, 
    "stderr": "/root/.ansible/tmp/ansible-tmp-1511343479.73-16030273451736/user-data.ps1: 2: /root/.ansible/tmp/ansible-tmp-1511343479.73-16030273451736/user-data.ps1: Enable-PSRemoting: not found\n/root/.ansible/tmp/ansible-tmp-1511343479.73-16030273451736/user-data.ps1: 3: /root/.ansible/tmp/ansible-tmp-1511343479.73-16030273451736/user-data.ps1: NET: not found\n/root/.ansible/tmp/ansible-tmp-1511343479.73-16030273451736/user-data.ps1: 4: /root/.ansible/tmp/ansible-tmp-1511343479.73-16030273451736/user-data.ps1: Net: not found\n", 
    "stdout": "", 
    "stdout_lines": []
}
2017-11-22 09:37:59,762 p=35704 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 09:37:59,763 p=35704 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 09:37:59,763 p=35704 u=root |  localhost                  : ok=7    changed=1    unreachable=0    failed=1   
2017-11-22 09:41:19,569 p=36020 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-22 09:41:19,570 p=36020 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-22 09:41:19,571 p=36020 u=root |  setting up inventory plugins
2017-11-22 09:41:19,573 p=36020 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 09:41:19,574 p=36020 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 09:41:19,575 p=36020 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 09:41:19,575 p=36020 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 09:41:19,678 p=36020 u=root |  Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python2.7/dist-packages/ansible/plugins/callback/__init__.pyc
2017-11-22 09:41:19,855 p=36020 u=root |  PLAYBOOK: azure_vm_build.yaml *****************************************************************************************************************************************
2017-11-22 09:41:19,856 p=36020 u=root |  1 plays in azure_vm_build.yaml
2017-11-22 09:41:19,869 p=36020 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 09:41:19,876 p=36020 u=root |  META: ran handlers
2017-11-22 09:41:20,832 p=36020 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 09:41:20,836 p=36020 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 09:41:20,836 p=36020 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:17
2017-11-22 09:41:20,879 p=36020 u=root |  File lookup using /root/ansible/playbook/./input/input_win.csv as file
2017-11-22 09:41:21,003 p=36020 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-22 09:41:21,262 p=36020 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-22 09:41:21,372 p=36020 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "b8d5e841fd738ea0d36f9dde3d0561e9c8400960", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 752, 
    "state": "file", 
    "uid": 0
}
2017-11-22 09:41:21,379 p=36020 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 09:41:21,379 p=36020 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:23
2017-11-22 09:41:21,411 p=36020 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "10", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }
                ], 
                "dtuser": "yes", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic21", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.21", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "storage_account_name": "ansibletestvm13934", 
                "subnet_name": "ansible_test_subnet1", 
                "tags": {
                    "Appname": "webserver", 
                    "category": "production"
                }, 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest21", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }, 
        "user": {
            "user_name": "dtuser", 
            "user_password": "dtpass_123"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/adduser.yaml", 
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-22 09:41:21,416 p=36020 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 09:41:21,417 p=36020 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:28
2017-11-22 09:41:21,461 p=36020 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 09:41:21,467 p=36020 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 09:41:21,467 p=36020 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-22 09:41:21,493 p=36020 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 09:41:21,499 p=36020 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 09:41:21,499 p=36020 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-22 09:41:21,675 p=36020 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-22 09:41:23,863 p=36020 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic21", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": "10.10.0.21", 
            "private_ip_allocation_method": "Static", 
            "profile": null, 
            "public_ip": false, 
            "public_ip_address_name": null, 
            "public_ip_allocation_method": "Dynamic", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"a901f4ad-6831-4588-a758-1e5417171da5\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.21", 
            "private_ip_allocation_method": "Static", 
            "public_ip_address": {}, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": "00-0D-3A-94-B4-C9", 
        "name": "ansibletestnic21", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": true, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-22 09:41:23,868 p=36020 u=root |  TASK [Update user-data script for user creation in windows VM] ********************************************************************************************************
2017-11-22 09:41:23,869 p=36020 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:15
2017-11-22 09:41:23,909 p=36020 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-22 09:41:24,020 p=36020 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-22 09:41:24,126 p=36020 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "e55eefcdfcec4578fe0e931a981a43f1d263484f", 
    "diff": {
        "after": {
            "path": "./scripts/user-data.ps1"
        }, 
        "before": {
            "path": "./scripts/user-data.ps1"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./scripts/user-data.ps1", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "windows_user_creation.j2", 
            "owner": null, 
            "path": "./scripts/user-data.ps1", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "windows_user_creation.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./scripts/user-data.ps1", 
    "size": 119, 
    "state": "file", 
    "uid": 0
}
2017-11-22 09:41:24,130 p=36020 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 09:41:24,131 p=36020 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-22 09:41:24,152 p=36020 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-22 09:41:24,157 p=36020 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-22 09:41:24,157 p=36020 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:22
2017-11-22 09:41:24,171 p=36020 u=root |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional result was False", 
    "skipped": true
}
2017-11-22 09:41:24,175 p=36020 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-22 09:41:24,175 p=36020 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:46
2017-11-22 09:41:24,377 p=36020 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-22 09:41:28,411 p=36020 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "azure_vm": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/ansibletest21", 
            "location": "centralus", 
            "name": "ansibletest21", 
            "powerstate": "running", 
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_D1"
                }, 
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21", 
                            "name": "ansibletestnic21", 
                            "properties": {
                                "dnsSettings": {
                                    "appliedDnsServers": [], 
                                    "dnsServers": [], 
                                    "internalDomainNameSuffix": "gwffiukydkxu1fpyobrxomhvae.gx.internal.cloudapp.net"
                                }, 
                                "enableAcceleratedNetworking": false, 
                                "enableIPForwarding": false, 
                                "ipConfigurations": [
                                    {
                                        "etag": "W/\"a901f4ad-6831-4588-a758-1e5417171da5\"", 
                                        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21/ipConfigurations/default", 
                                        "name": "default", 
                                        "properties": {
                                            "primary": true, 
                                            "privateIPAddress": "10.10.0.21", 
                                            "privateIPAddressVersion": "IPv4", 
                                            "privateIPAllocationMethod": "Static", 
                                            "provisioningState": "Succeeded", 
                                            "subnet": {
                                                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1"
                                            }
                                        }
                                    }
                                ], 
                                "macAddress": "00-0D-3A-94-B4-C9", 
                                "networkSecurityGroup": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1"
                                }, 
                                "primary": true, 
                                "provisioningState": "Succeeded", 
                                "resourceGuid": "50a15347-d6ac-46c7-9dac-f2ac78d5e442", 
                                "virtualMachine": {
                                    "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Compute/virtualMachines/ansibletest21"
                                }
                            }
                        }
                    ]
                }, 
                "osProfile": {
                    "adminUsername": "amansyed", 
                    "computerName": "ansibletest21", 
                    "secrets": [], 
                    "windowsConfiguration": {
                        "enableAutomaticUpdates": true, 
                        "provisionVMAgent": true
                    }
                }, 
                "storageProfile": {
                    "dataDisks": [
                        {
                            "caching": "ReadOnly", 
                            "createOption": "empty", 
                            "diskSizeGB": 10, 
                            "lun": 0, 
                            "name": "ansibletest21-data-0.vhd", 
                            "vhd": {
                                "uri": "https://ansibletest211776.blob.core.windows.net/vhds/ansibletest21-data-0.vhd"
                            }
                        }
                    ], 
                    "imageReference": {
                        "offer": "WindowsServer", 
                        "publisher": "MicrosoftWindowsServer", 
                        "sku": "2012-R2-Datacenter", 
                        "version": "4.127.20171017"
                    }, 
                    "osDisk": {
                        "caching": "ReadOnly", 
                        "createOption": "fromImage", 
                        "diskSizeGB": 127, 
                        "name": "ansibletest21.vhd", 
                        "osType": "Windows", 
                        "vhd": {
                            "uri": "https://ansibletestvm13934.blob.core.windows.net/vhds/ansibletest21.vhd"
                        }
                    }
                }
            }, 
            "tags": {
                "Appname": "webserver", 
                "category": "production"
            }, 
            "type": "Microsoft.Compute/virtualMachines"
        }
    }, 
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "admin_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "admin_username": "amansyed", 
            "allocated": true, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "data_disks": [
                {
                    "disk_size_gb": "10", 
                    "lun": 0, 
                    "type": "Standard_LRS"
                }
            ], 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "4.127.20171017"
            }, 
            "location": null, 
            "managed_disk_type": null, 
            "name": "ansibletest21", 
            "network_interface_names": [
                "ansibletestnic21"
            ], 
            "network_interfaces": "ansibletestnic21", 
            "open_ports": null, 
            "os_disk_caching": "ReadOnly", 
            "os_type": "Windows", 
            "password": null, 
            "profile": null, 
            "public_ip_allocation_method": "Static", 
            "remove_on_absent": [
                "all"
            ], 
            "resource_group": "ansible", 
            "restarted": false, 
            "secret": null, 
            "short_hostname": null, 
            "ssh_password_enabled": true, 
            "ssh_public_keys": null, 
            "started": true, 
            "state": "present", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "storage_blob_name": null, 
            "storage_container_name": "vhds", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": {
                "Appname": "webserver", 
                "category": "production"
            }, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "virtual_network_resource_group": null, 
            "vm_size": "Standard_D1"
        }
    }, 
    "powerstate_change": null
}
2017-11-22 09:41:28,418 p=36020 u=root |  TASK [create a user and add it to Administrator groups] ***************************************************************************************************************
2017-11-22 09:41:28,418 p=36020 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:68
2017-11-22 09:41:28,467 p=36020 u=root |  fatal: [localhost]: FAILED! => {
    "changed": true, 
    "failed": true, 
    "msg": "non-zero return code", 
    "rc": 127, 
    "stderr": "/root/.ansible/tmp/ansible-tmp-1511343688.44-223087118361453/user-data.ps1: 2: /root/.ansible/tmp/ansible-tmp-1511343688.44-223087118361453/user-data.ps1: Enable-PSRemoting: not found\n/root/.ansible/tmp/ansible-tmp-1511343688.44-223087118361453/user-data.ps1: 3: /root/.ansible/tmp/ansible-tmp-1511343688.44-223087118361453/user-data.ps1: NET: not found\n/root/.ansible/tmp/ansible-tmp-1511343688.44-223087118361453/user-data.ps1: 4: /root/.ansible/tmp/ansible-tmp-1511343688.44-223087118361453/user-data.ps1: Net: not found\n", 
    "stdout": "", 
    "stdout_lines": []
}
2017-11-22 09:41:28,469 p=36020 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 09:41:28,470 p=36020 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 09:41:28,470 p=36020 u=root |  localhost                  : ok=8    changed=0    unreachable=0    failed=1   
2017-11-22 12:01:35,040 p=44320 u=root |  ansible-playbook 2.4.1.0
  config file = /root/ansible/playbook/ansible.cfg
  configured module search path = [u'/usr/local/lib/python2.7/dist-packages/ansible/modules']
  ansible python module location = /usr/local/lib/python2.7/dist-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 2.7.12 (default, Nov 19 2016, 06:48:10) [GCC 5.4.0 20160609]
2017-11-22 12:01:35,041 p=44320 u=root |  Using /root/ansible/playbook/ansible.cfg as config file
2017-11-22 12:01:35,043 p=44320 u=root |   [WARNING]: Unable to parse /etc/ansible/hosts as an inventory source

2017-11-22 12:01:35,044 p=44320 u=root |   [WARNING]: No inventory was parsed, only implicit localhost is available

2017-11-22 12:01:35,045 p=44320 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 12:01:35,045 p=44320 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 12:01:35,272 p=44320 u=root |  PLAYBOOK: azure_vm_build.yaml *****************************************************************************************************************************************
2017-11-22 12:01:35,273 p=44320 u=root |  1 plays in azure_vm_build.yaml
2017-11-22 12:01:35,283 p=44320 u=root |  PLAY [Bulk VM provisioning in Azure] **********************************************************************************************************************************
2017-11-22 12:01:35,289 p=44320 u=root |  META: ran handlers
2017-11-22 12:01:36,909 p=44320 u=root |  Perform task: TASK: Load .csv file to input.yaml (N)o/(y)es/(c)ontinue: ***********************************************************************************************
2017-11-22 12:01:36,914 p=44320 u=root |  TASK [Load .csv file to input.yaml] ***********************************************************************************************************************************
2017-11-22 12:01:36,914 p=44320 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:17
2017-11-22 12:01:37,086 p=44320 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-22 12:01:37,349 p=44320 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/file.py
2017-11-22 12:01:37,449 p=44320 u=root |  ok: [localhost] => {
    "changed": false, 
    "checksum": "b8d5e841fd738ea0d36f9dde3d0561e9c8400960", 
    "diff": {
        "after": {
            "path": "./vars/input_windows.yaml"
        }, 
        "before": {
            "path": "./vars/input_windows.yaml"
        }
    }, 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "./vars/input_windows.yaml", 
            "diff_peek": null, 
            "directory_mode": null, 
            "follow": false, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "original_basename": "csv_to_yaml_windows.j2", 
            "owner": null, 
            "path": "./vars/input_windows.yaml", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "csv_to_yaml_windows.j2", 
            "state": "file", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "./vars/input_windows.yaml", 
    "size": 752, 
    "state": "file", 
    "uid": 0
}
2017-11-22 12:01:38,575 p=44320 u=root |  Perform task: TASK: Loading variable from vars dir (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 12:01:38,579 p=44320 u=root |  TASK [Loading variable from vars dir] *********************************************************************************************************************************
2017-11-22 12:01:38,580 p=44320 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:23
2017-11-22 12:01:38,614 p=44320 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "input": [
            {
                "admin_username": "amansyed", 
                "data_disks": [
                    {
                        "disk_size_gb": "10", 
                        "lun": 0, 
                        "type": "Standard_LRS"
                    }
                ], 
                "dtuser": "yes", 
                "ip_allocation": "Static", 
                "network_interface_name": "ansibletestnic21", 
                "os_type": "Windows", 
                "private_ip": "10.10.0.21", 
                "resource_group": "ansible", 
                "security_group_name": "ansible_test_SG1", 
                "storage_account_name": "ansibletestvm13934", 
                "subnet_name": "ansible_test_subnet1", 
                "tags": {
                    "Appname": "webserver", 
                    "category": "production"
                }, 
                "vm_image_offer": "WindowsServer", 
                "vm_image_publisher": "MicrosoftWindowsServer", 
                "vm_image_sku": "2012-R2-Datacenter", 
                "vm_image_version": "latest", 
                "vm_name": "ansibletest21", 
                "vm_size": "Standard_D1", 
                "vnet_name": "ansible_test_vnet1"
            }
        ], 
        "password": {
            "admin_password": "Login@123456"
        }, 
        "ssh_input": {
            "ssh_enabled": false, 
            "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA9SPtZAzK6eNJacqdhlODrn6RRnG5m/J0lVNpv5BpVN4pRLFfiDaM3/R2bi60xjsWu/rQDOGnyQyRSzsD3vH4EoZezdBA37KJMz5FJO/ImG/Qg0G2T9ytxnKQN3S6KC7r2alF74B/5RTw6bEWbkEYTZWRw2THC7NL6LI4JTYcPdwd/rK3i4EFuc1/X+6R4pbLFrgndDl9BDYm38hpnig/AJDP9VQkCLRzhmKlnRK/OUmgWPw85d7PtxqQ8wG50HmPvVODOOE7qs40kS9FjMoUY1oJeGDzX0FWURUsnu/g3+9BLRMjNO7LnG2k0G98C3WTCjUcu00wICHgXlPiOLIImw== rsa-key-20171115", 
            "ssh_path": "/home/amansyed/.ssh/authorized_keys"
        }, 
        "user": {
            "user_name": "dtuser", 
            "user_password": "dtpass_123"
        }
    }, 
    "ansible_included_var_files": [
        "/root/ansible/playbook/vars/adduser.yaml", 
        "/root/ansible/playbook/vars/input_windows.yaml", 
        "/root/ansible/playbook/vars/ssh_key.yaml", 
        "/root/ansible/playbook/vars/windows_password.yaml"
    ], 
    "changed": false, 
    "failed": false
}
2017-11-22 12:01:40,141 p=44320 u=root |  Perform task: TASK: include_tasks (N)o/(y)es/(c)ontinue: **************************************************************************************************************
2017-11-22 12:01:40,144 p=44320 u=root |  TASK [include_tasks] **************************************************************************************************************************************************
2017-11-22 12:01:40,145 p=44320 u=root |  task path: /root/ansible/playbook/azure_vm_build.yaml:28
2017-11-22 12:01:40,198 p=44320 u=root |  included: /root/ansible/playbook/task_vm_V1.yaml for localhost
2017-11-22 12:01:41,309 p=44320 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 12:01:41,313 p=44320 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 12:01:41,313 p=44320 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:1
2017-11-22 12:01:41,344 p=44320 u=root |  ok: [localhost] => {
    "outer_item": {
        "admin_username": "amansyed", 
        "data_disks": [
            {
                "disk_size_gb": "10", 
                "lun": 0, 
                "type": "Standard_LRS"
            }
        ], 
        "dtuser": "yes", 
        "ip_allocation": "Static", 
        "network_interface_name": "ansibletestnic21", 
        "os_type": "Windows", 
        "private_ip": "10.10.0.21", 
        "resource_group": "ansible", 
        "security_group_name": "ansible_test_SG1", 
        "storage_account_name": "ansibletestvm13934", 
        "subnet_name": "ansible_test_subnet1", 
        "tags": {
            "Appname": "webserver", 
            "category": "production"
        }, 
        "vm_image_offer": "WindowsServer", 
        "vm_image_publisher": "MicrosoftWindowsServer", 
        "vm_image_sku": "2012-R2-Datacenter", 
        "vm_image_version": "latest", 
        "vm_name": "ansibletest21", 
        "vm_size": "Standard_D1", 
        "vnet_name": "ansible_test_vnet1"
    }
}
2017-11-22 12:01:43,821 p=44320 u=root |  Perform task: TASK: Define tnd reset the runtime variables (N)o/(y)es/(c)ontinue: *************************************************************************************
2017-11-22 12:01:43,825 p=44320 u=root |  TASK [Define tnd reset the runtime variables] *************************************************************************************************************************
2017-11-22 12:01:43,825 p=44320 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:3
2017-11-22 12:01:43,855 p=44320 u=root |  ok: [localhost] => {
    "ansible_facts": {
        "userdata_disk_scr": "./scripts/ansibletest21_userdata_disk.txt", 
        "userdata_user_scr": "./scripts/ansibletest21_userdata_user.txt"
    }, 
    "changed": false, 
    "failed": false
}
2017-11-22 12:01:48,046 p=44320 u=root |  Perform task: TASK: create network interface (N)o/(y)es/(c)ontinue: ***************************************************************************************************
2017-11-22 12:01:48,050 p=44320 u=root |  TASK [create network interface] ***************************************************************************************************************************************
2017-11-22 12:01:48,051 p=44320 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:9
2017-11-22 12:01:48,216 p=44320 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_networkinterface.py
2017-11-22 12:01:50,634 p=44320 u=root |  ok: [localhost] => {
    "changed": false, 
    "failed": false, 
    "invocation": {
        "module_args": {
            "ad_user": null, 
            "append_tags": true, 
            "cli_default_profile": null, 
            "client_id": null, 
            "cloud_environment": null, 
            "location": null, 
            "name": "ansibletestnic21", 
            "open_ports": null, 
            "os_type": "Linux", 
            "password": null, 
            "private_ip_address": "10.10.0.21", 
            "private_ip_allocation_method": "Static", 
            "profile": null, 
            "public_ip": false, 
            "public_ip_address_name": null, 
            "public_ip_allocation_method": "Dynamic", 
            "resource_group": "ansible", 
            "secret": null, 
            "security_group": "ansible_test_SG1", 
            "security_group_name": "ansible_test_SG1", 
            "state": "present", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "subscription_id": null, 
            "tags": null, 
            "tenant": null, 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1"
        }
    }, 
    "state": {
        "dns_settings": {
            "applied_dns_servers": [], 
            "dns_servers": [], 
            "internal_dns_name_label": null, 
            "internal_fqdn": null
        }, 
        "enable_ip_forwarding": false, 
        "etag": "W/\"a901f4ad-6831-4588-a758-1e5417171da5\"", 
        "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkInterfaces/ansibletestnic21", 
        "ip_configuration": {
            "name": "default", 
            "private_ip_address": "10.10.0.21", 
            "private_ip_allocation_method": "Static", 
            "public_ip_address": {}, 
            "subnet": {
                "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/virtualNetworks/ansible_test_vnet1/subnets/ansible_test_subnet1", 
                "name": "ansible_test_subnet1", 
                "virtual_network_name": "ansible_test_vnet1"
            }
        }, 
        "location": "centralus", 
        "mac_address": "00-0D-3A-94-B4-C9", 
        "name": "ansibletestnic21", 
        "network_security_group": {
            "id": "/subscriptions/a50affa1-8e81-47d6-b4f8-7082991e391a/resourceGroups/ansible/providers/Microsoft.Network/networkSecurityGroups/ansible_test_SG1", 
            "name": "ansible_test_SG1"
        }, 
        "primary": true, 
        "provisioning_state": "Succeeded", 
        "tags": {}, 
        "type": "Microsoft.Network/networkInterfaces"
    }
}
2017-11-22 12:01:52,276 p=44320 u=root |  Perform task: TASK: Update user-data script for user creation in windows VM (N)o/(y)es/(c)ontinue: ********************************************************************
2017-11-22 12:01:52,279 p=44320 u=root |  TASK [Update user-data script for user creation in windows VM] ********************************************************************************************************
2017-11-22 12:01:52,280 p=44320 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:21
2017-11-22 12:01:52,321 p=44320 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/stat.py
2017-11-22 12:01:52,558 p=44320 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/files/copy.py
2017-11-22 12:01:52,652 p=44320 u=root |  changed: [localhost] => {
    "changed": true, 
    "checksum": "e55eefcdfcec4578fe0e931a981a43f1d263484f", 
    "dest": "./scripts/ansibletest21_userdata_user.txt", 
    "diff": [], 
    "failed": false, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "attributes": null, 
            "backup": false, 
            "content": null, 
            "delimiter": null, 
            "dest": "./scripts/ansibletest21_userdata_user.txt", 
            "directory_mode": null, 
            "follow": false, 
            "force": true, 
            "group": null, 
            "local_follow": null, 
            "mode": null, 
            "original_basename": "windows_user_creation.j2", 
            "owner": null, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": "/root/.ansible/tmp/ansible-tmp-1511352112.31-175821096975114/source", 
            "unsafe_writes": null, 
            "validate": null
        }
    }, 
    "md5sum": "a1cfe2490aed21c1332486340daf7830", 
    "mode": "0644", 
    "owner": "root", 
    "size": 119, 
    "src": "/root/.ansible/tmp/ansible-tmp-1511352112.31-175821096975114/source", 
    "state": "file", 
    "uid": 0
}
2017-11-22 12:01:54,989 p=44320 u=root |  Perform task: TASK:  create final user-data script (N)o/(y)es/(c)ontinue: *********************************************************************************************
2017-11-22 12:01:54,993 p=44320 u=root |  TASK [create final user-data script] **********************************************************************************************************************************
2017-11-22 12:01:54,994 p=44320 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:27
2017-11-22 12:01:55,171 p=44320 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/commands/command.py
2017-11-22 12:01:55,285 p=44320 u=root |   [WARNING]: Consider using file module with state=touch rather than running touch

2017-11-22 12:01:55,287 p=44320 u=root |  changed: [localhost] => {
    "changed": true, 
    "cmd": "touch ./scripts/ansibletest21_userdata_user.txt && echo \"#ps1_sysnative\" > './scripts/user-data.txt' && cat ./scripts/ansibletest21_userdata_user.txt >> './scripts/user-data.txt'", 
    "delta": "0:00:00.002669", 
    "end": "2017-11-22 12:01:55.272838", 
    "failed": false, 
    "invocation": {
        "module_args": {
            "_raw_params": "touch ./scripts/ansibletest21_userdata_user.txt && echo \"#ps1_sysnative\" > './scripts/user-data.txt' && cat ./scripts/ansibletest21_userdata_user.txt >> './scripts/user-data.txt'", 
            "_uses_shell": true, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "warn": true
        }
    }, 
    "rc": 0, 
    "start": "2017-11-22 12:01:55.270169", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "", 
    "stdout_lines": []
}
2017-11-22 12:02:12,077 p=44320 u=root |  Perform task: TASK: debug (N)o/(y)es/(c)ontinue: **********************************************************************************************************************
2017-11-22 12:02:12,081 p=44320 u=root |  TASK [debug] **********************************************************************************************************************************************************
2017-11-22 12:02:12,081 p=44320 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:31
2017-11-22 12:02:12,107 p=44320 u=root |  ok: [localhost] => {
    "outer_item.os_type": "Windows"
}
2017-11-22 12:02:13,526 p=44320 u=root |  Perform task: TASK: create linux vm (N)o/(y)es/(c)ontinue: ************************************************************************************************************
2017-11-22 12:02:13,530 p=44320 u=root |  TASK [create linux vm] ************************************************************************************************************************************************
2017-11-22 12:02:13,531 p=44320 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:32
2017-11-22 12:02:13,549 p=44320 u=root |  skipping: [localhost] => {
    "changed": false, 
    "skip_reason": "Conditional result was False", 
    "skipped": true
}
2017-11-22 12:02:15,028 p=44320 u=root |  Perform task: TASK: create windows vm (N)o/(y)es/(c)ontinue: **********************************************************************************************************
2017-11-22 12:02:15,032 p=44320 u=root |  TASK [create windows vm] **********************************************************************************************************************************************
2017-11-22 12:02:15,032 p=44320 u=root |  task path: /root/ansible/playbook/task_vm_V1.yaml:56
2017-11-22 12:02:15,263 p=44320 u=root |  Using module file /usr/local/lib/python2.7/dist-packages/ansible/modules/cloud/azure/azure_rm_virtualmachine.py
2017-11-22 12:02:15,831 p=44320 u=root |  fatal: [localhost]: FAILED! => {
    "changed": false, 
    "failed": true, 
    "invocation": {
        "module_args": {
            "admin_password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER", 
            "admin_username": "amansyed", 
            "data_disks": [
                {
                    "disk_size_gb": "10", 
                    "lun": 0, 
                    "type": "Standard_LRS"
                }
            ], 
            "image": {
                "offer": "WindowsServer", 
                "publisher": "MicrosoftWindowsServer", 
                "sku": "2012-R2-Datacenter", 
                "version": "latest"
            }, 
            "name": "ansibletest21", 
            "network_interface_names": "ansibletestnic21", 
            "network_interfaces": "ansibletestnic21", 
            "os_type": "Windows", 
            "resource_group": "ansible", 
            "storage_account": "ansibletestvm13934", 
            "storage_account_name": "ansibletestvm13934", 
            "subnet": "ansible_test_subnet1", 
            "subnet_name": "ansible_test_subnet1", 
            "tags": {
                "Appname": "webserver", 
                "category": "production"
            }, 
            "userdata": "#ps1_sysnative\n#User creation\nEnable-PSRemoting -Force\nNET USER \"dtuser\" \"dtpass_123\" /ADD\nNet Localgroup administrators /add dtuser", 
            "virtual_network": "ansible_test_vnet1", 
            "virtual_network_name": "ansible_test_vnet1", 
            "vm_size": "Standard_D1"
        }
    }, 
    "msg": "Unsupported parameters for (azure_rm_virtualmachine) module: userdata Supported parameters include: ad_user,admin_password,admin_username,allocated,append_tags,cli_default_profile,client_id,cloud_environment,data_disks,image,location,managed_disk_type,name,network_interface_names,open_ports,os_disk_caching,os_type,password,profile,public_ip_allocation_method,remove_on_absent,resource_group,restarted,secret,short_hostname,ssh_password_enabled,ssh_public_keys,started,state,storage_account_name,storage_blob_name,storage_container_name,subnet_name,subscription_id,tags,tenant,virtual_network_name,virtual_network_resource_group,vm_size"
}
2017-11-22 12:02:15,834 p=44320 u=root |  	to retry, use: --limit @/root/ansible/playbook/azure_vm_build.retry

2017-11-22 12:02:15,834 p=44320 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 12:02:15,834 p=44320 u=root |  localhost                  : ok=9    changed=2    unreachable=0    failed=1   
2017-11-22 16:22:10,888 p=60535 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: all

2017-11-22 16:22:10,888 p=60535 u=root |   [WARNING]: provided hosts list is empty, only localhost is available

2017-11-22 16:22:11,142 p=60535 u=root |  PLAY [Create Azure Vnet] **********************************************************************************************************************************************
2017-11-22 16:22:11,151 p=60535 u=root |  TASK [Gathering Facts] ************************************************************************************************************************************************
2017-11-22 16:22:11,857 p=60535 u=root |  ok: [localhost]
2017-11-22 16:22:11,866 p=60535 u=root |  TASK [adding host entry to ansible host inventory file] ***************************************************************************************************************
2017-11-22 16:22:11,887 p=60535 u=root |  changed: [localhost]
2017-11-22 16:22:11,889 p=60535 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-22 16:22:11,890 p=60535 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-23 13:03:08,115 p=2976 u=root |  ERROR! Missing target hosts
2017-11-23 13:03:45,188 p=3012 u=root |  ERROR! Missing target hosts
2017-11-23 13:03:56,318 p=3043 u=root |  ERROR! Missing target hosts
2017-11-23 13:04:05,951 p=3058 u=root |  ERROR! Missing target hosts
2017-11-23 13:05:59,084 p=3159 u=root |   [WARNING]: Could not match supplied host pattern, ignoring: windowsservers

2017-11-23 13:05:59,084 p=3159 u=root |   [WARNING]: No hosts matched, nothing to do

2017-11-23 13:05:59,084 p=3159 u=root |    hosts (0):
2017-11-23 13:06:21,939 p=3197 u=root |    hosts (1):
2017-11-23 13:06:21,939 p=3197 u=root |      10.10.0.6
2017-11-23 13:06:54,416 p=3228 u=root |  10.10.0.6 | UNREACHABLE! => {
    "changed": false, 
    "msg": "Failed to connect to the host via ssh: ssh: connect to host 10.10.0.6 port 22: Connection refused\r\n", 
    "unreachable": true
}
2017-11-23 13:08:49,072 p=3336 u=root |  10.10.0.6 | UNREACHABLE! => {
    "changed": false, 
    "msg": "Failed to connect to the host via ssh: ssh: connect to host 10.10.0.6 port 22: Connection refused\r\n", 
    "unreachable": true
}
2017-11-24 06:02:05,812 p=57688 u=root |  PLAY [Create Azure Vnet] **********************************************************************************************************************************************
2017-11-24 06:02:05,820 p=57688 u=root |  TASK [Gathering Facts] ************************************************************************************************************************************************
2017-11-24 06:02:06,572 p=57688 u=root |  ok: [localhost]
2017-11-24 06:02:06,578 p=57688 u=root |  TASK [adding host entry to ansible host inventory file] ***************************************************************************************************************
2017-11-24 06:02:06,595 p=57688 u=root |  changed: [localhost]
2017-11-24 06:02:06,596 p=57688 u=root |  PLAY RECAP ************************************************************************************************************************************************************
2017-11-24 06:02:06,596 p=57688 u=root |  localhost                  : ok=2    changed=1    unreachable=0    failed=0   
2017-11-24 06:32:20,760 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.6
2017-11-24 06:32:24,381 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1619
2017-11-24 06:32:24,388 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 847
2017-11-24 06:32:24,678 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 753
2017-11-24 06:32:26,631 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1343
2017-11-24 06:32:26,640 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 757
2017-11-24 06:32:26,648 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 602
2017-11-24 06:32:26,651 p=59518 u=root |  10.10.0.6 | SUCCESS => {
    "changed": false, 
    "failed": false, 
    "ping": "pong"
}
2017-11-24 07:12:14,464 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.6
2017-11-24 07:12:14,523 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1619
2017-11-24 07:12:14,530 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 847
2017-11-24 07:12:14,874 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 753
2017-11-24 07:12:15,567 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1343
2017-11-24 07:12:15,572 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 757
2017-11-24 07:12:15,578 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 602
2017-11-24 07:12:15,581 p=61748 u=root |  10.10.0.6 | SUCCESS => {
    "changed": false, 
    "failed": false, 
    "ping": "pong"
}
2017-11-24 07:34:36,060 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.6
2017-11-24 07:34:36,060 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.4
2017-11-24 07:34:36,115 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1619
2017-11-24 07:34:36,122 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 847
2017-11-24 07:34:36,399 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 753
2017-11-24 07:34:37,077 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1343
2017-11-24 07:34:37,087 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 757
2017-11-24 07:34:37,092 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 602
2017-11-24 07:34:37,095 p=63039 u=root |  10.10.0.6 | SUCCESS => {
    "changed": false, 
    "failed": false, 
    "ping": "pong"
}
2017-11-24 07:35:06,075 p=63039 u=root |  10.10.0.4 | UNREACHABLE! => {
    "changed": false, 
    "msg": "ssl: HTTPSConnectionPool(host='10.10.0.4', port=5986): Max retries exceeded with url: /wsman (Caused by ConnectTimeoutError(<urllib3.connection.VerifiedHTTPSConnection object at 0x7f434c3abcd0>, 'Connection to 10.10.0.4 timed out. (connect timeout=30)'))", 
    "unreachable": true
}
2017-11-24 07:37:23,645 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.6
2017-11-24 07:37:23,645 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.4
2017-11-24 07:37:23,697 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1619
2017-11-24 07:37:23,703 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 847
2017-11-24 07:37:24,020 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 753
2017-11-24 07:37:24,709 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1343
2017-11-24 07:37:24,718 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 757
2017-11-24 07:37:24,722 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 602
2017-11-24 07:37:24,726 p=63202 u=root |  10.10.0.6 | SUCCESS => {
    "changed": false, 
    "failed": false, 
    "ping": "pong"
}
2017-11-24 07:37:53,651 p=63202 u=root |  10.10.0.4 | UNREACHABLE! => {
    "changed": false, 
    "msg": "ssl: HTTPSConnectionPool(host='10.10.0.4', port=5986): Max retries exceeded with url: /wsman (Caused by ConnectTimeoutError(<urllib3.connection.VerifiedHTTPSConnection object at 0x7f29be9b4cd0>, 'Connection to 10.10.0.4 timed out. (connect timeout=30)'))", 
    "unreachable": true
}
2017-11-24 08:31:39,516 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.4
2017-11-24 08:31:39,517 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.6
2017-11-24 08:31:39,525 p=667 u=root |  10.10.0.4 | UNREACHABLE! => {
    "changed": false, 
    "msg": "ssl: HTTPSConnectionPool(host='10.10.0.4', port=5986): Max retries exceeded with url: /wsman (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f0047bf9cd0>: Failed to establish a new connection: [Errno 111] Connection refused',))", 
    "unreachable": true
}
2017-11-24 08:31:39,574 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1619
2017-11-24 08:31:39,582 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 847
2017-11-24 08:31:39,880 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 753
2017-11-24 08:31:40,569 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1343
2017-11-24 08:31:40,580 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 757
2017-11-24 08:31:40,584 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 602
2017-11-24 08:31:40,587 p=667 u=root |  10.10.0.6 | SUCCESS => {
    "changed": false, 
    "failed": false, 
    "ping": "pong"
}
2017-11-24 08:35:17,387 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.6
2017-11-24 08:35:17,392 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.4
2017-11-24 08:35:17,397 p=862 u=root |  10.10.0.4 | UNREACHABLE! => {
    "changed": false, 
    "msg": "ssl: HTTPSConnectionPool(host='10.10.0.4', port=5986): Max retries exceeded with url: /wsman (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f673a202cd0>: Failed to establish a new connection: [Errno 111] Connection refused',))", 
    "unreachable": true
}
2017-11-24 08:35:17,447 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1619
2017-11-24 08:35:17,454 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 847
2017-11-24 08:35:17,787 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 753
2017-11-24 08:35:18,520 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1343
2017-11-24 08:35:18,528 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 757
2017-11-24 08:35:18,537 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 602
2017-11-24 08:35:18,539 p=862 u=root |  10.10.0.6 | SUCCESS => {
    "changed": false, 
    "failed": false, 
    "ping": "pong"
}
2017-11-24 08:44:32,331 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.6
2017-11-24 08:44:32,341 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.4
2017-11-24 08:44:32,347 p=1404 u=root |  10.10.0.4 | UNREACHABLE! => {
    "changed": false, 
    "msg": "basic: HTTPSConnectionPool(host='10.10.0.4', port=5986): Max retries exceeded with url: /wsman (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f531dee7cd0>: Failed to establish a new connection: [Errno 111] Connection refused',))", 
    "unreachable": true
}
2017-11-24 08:44:32,370 p=1404 u=root |  10.10.0.6 | UNREACHABLE! => {
    "changed": false, 
    "msg": "basic: HTTPSConnectionPool(host='10.10.0.6', port=5986): Max retries exceeded with url: /wsman (Caused by SSLError(SSLError(\"bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')],)\",),))", 
    "unreachable": true
}
2017-11-24 08:44:56,714 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.6
2017-11-24 08:44:56,718 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.4
2017-11-24 08:44:56,723 p=1443 u=root |  10.10.0.4 | UNREACHABLE! => {
    "changed": false, 
    "msg": "basic: HTTPSConnectionPool(host='10.10.0.4', port=5986): Max retries exceeded with url: /wsman (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fcb42606cd0>: Failed to establish a new connection: [Errno 111] Connection refused',))", 
    "unreachable": true
}
2017-11-24 08:44:56,762 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1619
2017-11-24 08:44:56,768 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 847
2017-11-24 08:44:57,040 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 753
2017-11-24 08:44:57,714 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1343
2017-11-24 08:44:57,719 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 757
2017-11-24 08:44:57,725 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 602
2017-11-24 08:44:57,727 p=1443 u=root |  10.10.0.6 | SUCCESS => {
    "changed": false, 
    "failed": false, 
    "ping": "pong"
}
2017-11-24 09:57:00,221 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.6
2017-11-24 09:57:00,227 urllib3.connectionpool Starting new HTTPS connection (1): 10.10.0.4
2017-11-24 09:57:00,233 p=5177 u=root |  10.10.0.4 | UNREACHABLE! => {
    "changed": false, 
    "msg": "basic: HTTPSConnectionPool(host='10.10.0.4', port=5986): Max retries exceeded with url: /wsman (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7f89032a4cd0>: Failed to establish a new connection: [Errno 111] Connection refused',))", 
    "unreachable": true
}
2017-11-24 09:57:00,273 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1619
2017-11-24 09:57:00,280 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 847
2017-11-24 09:57:00,557 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 753
2017-11-24 09:57:01,230 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 1343
2017-11-24 09:57:01,239 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 757
2017-11-24 09:57:01,244 urllib3.connectionpool https://10.10.0.6:5986 "POST /wsman HTTP/1.1" 200 602
2017-11-24 09:57:01,246 p=5177 u=root |  10.10.0.6 | SUCCESS => {
    "changed": false, 
    "failed": false, 
    "ping": "pong"
}
